/* Function: FUN_00404e00 */

void __fastcall
FUN_00404e00(int param_1,byte *param_2,undefined4 param_3,undefined4 param_4,undefined4 *param_5,
            undefined4 *param_6,undefined4 param_7,void *param_8,undefined4 param_9,void *param_10,
            undefined4 param_11,void *param_12,undefined4 param_13,void *param_14,
            undefined4 param_15,void *param_16,void *param_17,undefined4 param_18,void *param_19,
            void *param_20,undefined4 param_21)

{
  undefined4 extraout_EDX;
  undefined4 local_138 [8];
  undefined4 local_118;
  undefined4 local_114;
  undefined4 local_110;
  undefined4 local_10c;
  undefined4 local_108;
  undefined4 local_104;
  undefined4 local_100;
  undefined4 local_fc;
  undefined4 local_f8;
  undefined4 local_f4;
  undefined4 local_f0;
  undefined4 local_ec;
  undefined4 local_e8 [4];
  undefined4 local_d8;
  undefined4 local_d4;
  undefined4 local_d0;
  undefined4 local_cc;
  undefined4 local_c8 [4];
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8 [4];
  undefined4 local_98;
  undefined4 local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88 [4];
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68 [4];
  undefined4 local_58 [4];
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38 [4];
  undefined4 local_28 [4];
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_14 = 0;
  local_c = 0;
  local_18 = param_21;
  local_10 = 4;
  FUN_0040575d(param_20,local_28);
  FUN_004057ab(param_19,local_38);
  local_44 = 0;
  local_3c = 0;
  local_48 = param_18;
  local_40 = 4;
  FUN_0040575d(param_17,local_58);
  FUN_004057ab(param_16,local_68);
  local_78 = param_15;
  local_74 = 0;
  local_70 = 4;
  local_6c = 0;
  FUN_004057ab(param_14,local_88);
  local_98 = param_13;
  local_94 = 0;
  local_90 = 4;
  local_8c = 0;
  FUN_0040575d(param_12,local_a8);
  local_b8 = param_11;
  local_b4 = 0;
  local_b0 = 4;
  local_ac = 0;
  FUN_004057ab(param_10,local_c8);
  local_d8 = param_9;
  local_d4 = 0;
  local_d0 = 4;
  local_cc = 0;
  FUN_004057ab(param_8,local_e8);
  local_f8 = param_7;
  local_f4 = 0;
  local_108 = *param_6;
  local_f0 = 4;
  local_ec = 0;
  local_104 = 0;
  local_118 = *param_5;
  local_100 = 8;
  local_fc = 0;
  local_114 = 0;
  local_110 = 8;
  local_10c = 0;
  FUN_004057eb(param_1,param_2,param_3,0,0x13,local_138);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00404fea */

void __fastcall
FUN_00404fea(int param_1,byte *param_2,undefined4 param_3,undefined4 param_4,undefined4 *param_5,
            undefined4 *param_6,undefined4 param_7,void *param_8,undefined4 param_9,void *param_10,
            undefined4 param_11,void *param_12,undefined4 param_13,void *param_14,
            undefined4 param_15,void *param_16,void *param_17,undefined4 param_18,void *param_19,
            void *param_20,undefined4 param_21,undefined4 param_22)

{
  undefined4 extraout_EDX;
  undefined4 local_148 [8];
  undefined4 local_128;
  undefined4 local_124;
  undefined4 local_120;
  undefined4 local_11c;
  undefined4 local_118;
  undefined4 local_114;
  undefined4 local_110;
  undefined4 local_10c;
  undefined4 local_108;
  undefined4 local_104;
  undefined4 local_100;
  undefined4 local_fc;
  undefined4 local_f8 [4];
  undefined4 local_e8;
  undefined4 local_e4;
  undefined4 local_e0;
  undefined4 local_dc;
  undefined4 local_d8 [4];
  undefined4 local_c8;
  undefined4 local_c4;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined4 local_b8 [4];
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98 [4];
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78 [4];
  undefined4 local_68 [4];
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48 [4];
  undefined4 local_38 [4];
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_14 = 0;
  local_c = 0;
  local_24 = 0;
  local_1c = 0;
  local_18 = param_22;
  local_28 = param_21;
  local_10 = 4;
  local_20 = 4;
  FUN_0040575d(param_20,local_38);
  FUN_004057ab(param_19,local_48);
  local_54 = 0;
  local_4c = 0;
  local_58 = param_18;
  local_50 = 4;
  FUN_0040575d(param_17,local_68);
  FUN_004057ab(param_16,local_78);
  local_88 = param_15;
  local_84 = 0;
  local_80 = 4;
  local_7c = 0;
  FUN_004057ab(param_14,local_98);
  local_a8 = param_13;
  local_a4 = 0;
  local_a0 = 4;
  local_9c = 0;
  FUN_0040575d(param_12,local_b8);
  local_c8 = param_11;
  local_c4 = 0;
  local_c0 = 4;
  local_bc = 0;
  FUN_004057ab(param_10,local_d8);
  local_e8 = param_9;
  local_e4 = 0;
  local_e0 = 4;
  local_dc = 0;
  FUN_004057ab(param_8,local_f8);
  local_108 = param_7;
  local_104 = 0;
  local_118 = *param_6;
  local_100 = 4;
  local_fc = 0;
  local_114 = 0;
  local_128 = *param_5;
  local_110 = 8;
  local_10c = 0;
  local_124 = 0;
  local_120 = 8;
  local_11c = 0;
  FUN_004057eb(param_1,param_2,param_3,0,0x14,local_148);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_004051e7 */

void __fastcall
FUN_004051e7(int param_1,byte *param_2,undefined4 param_3,undefined4 param_4,undefined4 *param_5,
            undefined4 param_6,undefined4 param_7,undefined4 param_8,undefined4 param_9)

{
  undefined4 extraout_EDX;
  undefined4 local_78 [8];
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_18 = param_9;
  local_28 = param_8;
  local_38 = param_7;
  local_48 = param_6;
  local_14 = 0;
  local_58 = *param_5;
  local_10 = 4;
  local_c = 0;
  local_24 = 0;
  local_20 = 4;
  local_1c = 0;
  local_34 = 0;
  local_30 = 4;
  local_2c = 0;
  local_44 = 0;
  local_40 = 4;
  local_3c = 0;
  local_54 = 0;
  local_50 = 8;
  local_4c = 0;
  FUN_004057eb(param_1,param_2,param_3,0,7,local_78);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0040527b */

void __fastcall
FUN_0040527b(int param_1,byte *param_2,undefined4 param_3,undefined4 param_4,undefined4 *param_5,
            undefined4 param_6,void *param_7,undefined4 param_8,void *param_9,undefined4 param_10,
            void *param_11,undefined4 param_12,void *param_13,undefined4 param_14,void *param_15,
            void *param_16,undefined4 param_17,void *param_18,void *param_19)

{
  undefined4 extraout_EDX;
  undefined4 local_118 [8];
  undefined4 local_f8;
  undefined4 local_f4;
  undefined4 local_f0;
  undefined4 local_ec;
  undefined4 local_e8;
  undefined4 local_e4;
  undefined4 local_e0;
  undefined4 local_dc;
  undefined4 local_d8 [4];
  undefined4 local_c8;
  undefined4 local_c4;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined4 local_b8 [4];
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98 [4];
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78 [4];
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58 [4];
  undefined4 local_48 [4];
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28 [4];
  undefined4 local_18 [4];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  FUN_0040575d(param_19,local_18);
  FUN_004057ab(param_18,local_28);
  local_34 = 0;
  local_2c = 0;
  local_38 = param_17;
  local_30 = 4;
  FUN_0040575d(param_16,local_48);
  FUN_004057ab(param_15,local_58);
  local_68 = param_14;
  local_64 = 0;
  local_60 = 4;
  local_5c = 0;
  FUN_004057ab(param_13,local_78);
  local_88 = param_12;
  local_84 = 0;
  local_80 = 4;
  local_7c = 0;
  FUN_0040575d(param_11,local_98);
  local_a8 = param_10;
  local_a4 = 0;
  local_a0 = 4;
  local_9c = 0;
  FUN_004057ab(param_9,local_b8);
  local_c8 = param_8;
  local_c4 = 0;
  local_c0 = 4;
  local_bc = 0;
  FUN_004057ab(param_7,local_d8);
  local_e8 = param_6;
  local_e4 = 0;
  local_e0 = 4;
  local_dc = 0;
  local_f4 = 0;
  local_f8 = *param_5;
  local_f0 = 8;
  local_ec = 0;
  FUN_004057eb(param_1,param_2,param_3,0,0x11,local_118);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00405430 */

void FUN_00405430(undefined4 param_1,int param_2,uint param_3,int param_4,int param_5,int param_6,
                 int param_7,undefined4 param_8,int *param_9)

{
  code *pcVar1;
  int iVar2;
  
  if (param_9 != (int *)0x0) {
    if (param_2 == 0) {
      *param_9 = 0;
    }
    else if (param_2 == 1) {
      param_9[5] = param_7;
      iVar2 = 0x100;
      if ((char)param_3 != '\0') {
        iVar2 = (param_3 & 0xff) + 1;
      }
      *param_9 = iVar2;
      param_9[2] = param_4;
      param_9[3] = param_5;
      param_9[4] = param_6;
    }
    pcVar1 = (code *)param_9[8];
    if (pcVar1 != (code *)0x0) {
      (*(code *)PTR_guard_check_icall_00427678)
                (param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9[9]);
      (*pcVar1)();
    }
  }
  return;
}



/* Function: FUN_004054b3 */

void __fastcall
FUN_004054b3(int param_1,byte *param_2,undefined4 param_3,undefined4 param_4,undefined4 *param_5,
            undefined4 param_6)

{
  undefined4 extraout_EDX;
  undefined4 local_48 [8];
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_18 = param_6;
  local_28 = *param_5;
  local_14 = 0;
  local_10 = 4;
  local_c = 0;
  local_24 = 0;
  local_20 = 8;
  local_1c = 0;
  FUN_004057eb(param_1,param_2,param_3,param_4,4,local_48);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0040551e */

void __fastcall
FUN_0040551e(int param_1,byte *param_2,undefined4 param_3,undefined4 param_4,undefined4 *param_5,
            undefined4 param_6,undefined4 param_7)

{
  undefined4 extraout_EDX;
  undefined4 local_58 [8];
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_18 = param_7;
  local_28 = param_6;
  local_14 = 0;
  local_38 = *param_5;
  local_10 = 4;
  local_c = 0;
  local_24 = 0;
  local_20 = 4;
  local_1c = 0;
  local_34 = 0;
  local_30 = 8;
  local_2c = 0;
  FUN_004057eb(param_1,param_2,param_3,0,5,local_58);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00405594 */

void __fastcall
FUN_00405594(int param_1,byte *param_2,undefined4 param_3,undefined4 param_4,undefined4 *param_5,
            undefined4 *param_6,undefined4 param_7,void *param_8,undefined4 param_9,void *param_10,
            undefined4 param_11,void *param_12,undefined4 param_13,void *param_14,
            undefined4 param_15,void *param_16,void *param_17,undefined4 param_18,void *param_19,
            void *param_20)

{
  undefined4 extraout_EDX;
  undefined4 local_128 [8];
  undefined4 local_108;
  undefined4 local_104;
  undefined4 local_100;
  undefined4 local_fc;
  undefined4 local_f8;
  undefined4 local_f4;
  undefined4 local_f0;
  undefined4 local_ec;
  undefined4 local_e8;
  undefined4 local_e4;
  undefined4 local_e0;
  undefined4 local_dc;
  undefined4 local_d8 [4];
  undefined4 local_c8;
  undefined4 local_c4;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined4 local_b8 [4];
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98 [4];
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78 [4];
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58 [4];
  undefined4 local_48 [4];
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28 [4];
  undefined4 local_18 [4];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  FUN_0040575d(param_20,local_18);
  FUN_004057ab(param_19,local_28);
  local_34 = 0;
  local_2c = 0;
  local_38 = param_18;
  local_30 = 4;
  FUN_0040575d(param_17,local_48);
  FUN_004057ab(param_16,local_58);
  local_68 = param_15;
  local_64 = 0;
  local_60 = 4;
  local_5c = 0;
  FUN_004057ab(param_14,local_78);
  local_88 = param_13;
  local_84 = 0;
  local_80 = 4;
  local_7c = 0;
  FUN_0040575d(param_12,local_98);
  local_a8 = param_11;
  local_a4 = 0;
  local_a0 = 4;
  local_9c = 0;
  FUN_004057ab(param_10,local_b8);
  local_c8 = param_9;
  local_c4 = 0;
  local_c0 = 4;
  local_bc = 0;
  FUN_004057ab(param_8,local_d8);
  local_e8 = param_7;
  local_e4 = 0;
  local_e0 = 4;
  local_f8 = *param_6;
  local_dc = 0;
  local_f4 = 0;
  local_f0 = 8;
  local_108 = *param_5;
  local_ec = 0;
  local_104 = 0;
  local_100 = 8;
  local_fc = 0;
  FUN_004057eb(param_1,param_2,param_3,0,0x12,local_128);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0040575d */

void __thiscall FUN_0040575d(void *this,undefined4 *param_1)

{
  short sVar1;
  short *psVar2;
  int iVar3;
  short *psVar4;
  
                    /* WARNING: Load size is inaccurate */
  psVar4 = *this;
  if (psVar4 == (short *)0x0) {
    psVar4 = (short *)&DAT_00402b38;
    iVar3 = 2;
  }
  else {
    psVar2 = psVar4;
    do {
      sVar1 = *psVar2;
      psVar2 = psVar2 + 1;
    } while (sVar1 != 0);
    iVar3 = ((int)psVar2 - (int)(psVar4 + 1) >> 1) * 2 + 2;
  }
  param_1[1] = 0;
  param_1[3] = 0;
  *param_1 = psVar4;
  param_1[2] = iVar3;
  return;
}



/* Function: FUN_004057ab */

void __thiscall FUN_004057ab(void *this,undefined4 *param_1)

{
  char cVar1;
  char *pcVar2;
  char *pcVar3;
  
                    /* WARNING: Load size is inaccurate */
  pcVar3 = *this;
  if (pcVar3 == (char *)0x0) {
    pcVar3 = "";
    pcVar2 = (char *)0x1;
  }
  else {
    pcVar2 = pcVar3;
    do {
      cVar1 = *pcVar2;
      pcVar2 = pcVar2 + 1;
    } while (cVar1 != '\0');
    pcVar2 = pcVar2 + (1 - (int)(pcVar3 + 1));
  }
  param_1[1] = 0;
  param_1[3] = 0;
  *param_1 = pcVar3;
  param_1[2] = pcVar2;
  return;
}



/* Function: FUN_004057eb */

void FUN_004057eb(int param_1,byte *param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5
                 ,undefined4 *param_6)

{
  ushort uVar1;
  undefined4 uVar2;
  int local_18;
  uint local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  local_c = *(undefined4 *)(param_2 + 7);
  local_18 = (uint)*param_2 << 0x18;
  local_14 = (uint)*(ushort *)(param_2 + 1);
  local_10 = *(undefined4 *)(param_2 + 3);
  uVar2 = *(undefined4 *)(param_1 + 4);
  param_6[1] = 0;
  *param_6 = uVar2;
  uVar1 = **(ushort **)(param_1 + 4);
  param_6[5] = 0;
  param_6[2] = (uint)uVar1;
  param_6[3] = 2;
  param_6[4] = param_2 + 0xb;
  param_6[6] = (uint)*(ushort *)(param_2 + 0xb);
  param_6[7] = 1;
  local_8 = 0xf2a;
  EtwEventWriteTransfer
            (*(undefined4 *)(param_1 + 0x18),*(undefined4 *)(param_1 + 0x1c),&local_18,param_3,
             param_4,param_5,param_6);
  return;
}



/* Function: FUN_00405880 */

void __fastcall
FUN_00405880(int param_1,byte *param_2,undefined4 param_3,undefined4 param_4,undefined4 *param_5,
            undefined4 param_6,void *param_7,undefined4 param_8,void *param_9,undefined4 param_10,
            void *param_11,undefined4 param_12,void *param_13,undefined4 param_14,void *param_15,
            void *param_16,undefined4 param_17,void *param_18,void *param_19,undefined4 param_20,
            undefined4 param_21,void *param_22)

{
  undefined4 extraout_EDX;
  undefined4 local_148 [8];
  undefined4 local_128;
  undefined4 local_124;
  undefined4 local_120;
  undefined4 local_11c;
  undefined4 local_118;
  undefined4 local_114;
  undefined4 local_110;
  undefined4 local_10c;
  undefined4 local_108 [4];
  undefined4 local_f8;
  undefined4 local_f4;
  undefined4 local_f0;
  undefined4 local_ec;
  undefined4 local_e8 [4];
  undefined4 local_d8;
  undefined4 local_d4;
  undefined4 local_d0;
  undefined4 local_cc;
  undefined4 local_c8 [4];
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8 [4];
  undefined4 local_98;
  undefined4 local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88 [4];
  undefined4 local_78 [4];
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58 [4];
  undefined4 local_48 [4];
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18 [4];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  FUN_004057ab(param_22,local_18);
  local_28 = param_21;
  local_38 = param_20;
  local_20 = 4;
  local_30 = 4;
  local_24 = 0;
  local_1c = 0;
  local_34 = 0;
  local_2c = 0;
  FUN_0040575d(param_19,local_48);
  FUN_004057ab(param_18,local_58);
  local_68 = param_17;
  local_64 = 0;
  local_60 = 4;
  local_5c = 0;
  FUN_0040575d(param_16,local_78);
  FUN_004057ab(param_15,local_88);
  local_98 = param_14;
  local_94 = 0;
  local_90 = 4;
  local_8c = 0;
  FUN_004057ab(param_13,local_a8);
  local_b8 = param_12;
  local_b4 = 0;
  local_b0 = 4;
  local_ac = 0;
  FUN_0040575d(param_11,local_c8);
  local_d8 = param_10;
  local_d4 = 0;
  local_d0 = 4;
  local_cc = 0;
  FUN_004057ab(param_9,local_e8);
  local_f8 = param_8;
  local_f4 = 0;
  local_f0 = 4;
  local_ec = 0;
  FUN_004057ab(param_7,local_108);
  local_118 = param_6;
  local_114 = 0;
  local_110 = 4;
  local_10c = 0;
  local_128 = *param_5;
  local_124 = 0;
  local_120 = 8;
  local_11c = 0;
  FUN_004057eb(param_1,param_2,param_3,0,0x14,local_148);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00405a81 */

uint __thiscall FUN_00405a81(void *this,uint param_1,uint param_2)

{
  uint uVar1;
  
  uVar1 = param_1 | param_2;
  if (uVar1 == 0) {
LAB_00405ab8:
    uVar1 = CONCAT31((int3)(uVar1 >> 8),1);
  }
  else {
    uVar1 = *(uint *)((int)this + 0xc) & param_2;
    if ((param_1 & *(uint *)((int)this + 8)) != 0 || uVar1 != 0) {
      uVar1 = *(uint *)((int)this + 0x10) & param_1;
      if ((uVar1 == *(uint *)((int)this + 0x10)) &&
         ((*(uint *)((int)this + 0x14) & param_2) == *(uint *)((int)this + 0x14)))
      goto LAB_00405ab8;
    }
    uVar1 = uVar1 & 0xffffff00;
  }
  return uVar1;
}



/* Function: FUN_00405ad0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00405ad0(void)

{
  _DAT_00425994 = FUN_00406b50;
  _DAT_004259a4 = FUN_00406b60;
  return;
}



/* Function: FUN_00405af0 */

void FUN_00405af0(void)

{
  FUN_004200cf(FUN_00422170);
  return;
}



/* Function: FUN_00405b10 */

void FUN_00405b10(void)

{
  FUN_004200cf(FUN_004221a0);
  return;
}



/* Function: FUN_00405b30 */

void FUN_00405b30(void)

{
  DAT_00425988 = FUN_00407860;
  DAT_00425960 = &PTR_s_WilError_03_00425340;
  DAT_00425974 = &DAT_00425538;
  return;
}



/* Function: FUN_00405b60 */

void FUN_00405b60(void)

{
  DAT_004259ac = FUN_00406490;
  DAT_00425990 = DebugBreak;
  DAT_004259a8 = FUN_004064d0;
  DAT_00425980 = FUN_00407900;
  DAT_00425970 = FUN_004079c0;
  DAT_0042598c = FUN_00407950;
  return;
}



/* Function: FUN_00405bb0 */

void FUN_00405bb0(void)

{
  FUN_0041a618((LPCRITICAL_SECTION)&DAT_00425360);
  FUN_004200cf(FUN_004221b0);
  return;
}



/* Function: FUN_00405bd0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00405bd0(void)

{
  int iVar1;
  
  iVar1 = FUN_0041a618((LPCRITICAL_SECTION)&DAT_00425570);
  if (iVar1 < 0) {
    _DAT_0042556c = 0;
  }
  FUN_004200cf(FUN_004221c0);
  return;
}



/* Function: FUN_00405c00 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00405c00(void)

{
  _DAT_00425a74 = GetProcessHeap();
  _DAT_00425a70 = &PTR_FUN_00401790;
  DAT_00425a78 = 0;
  FUN_004200cf(FUN_004221e0);
  return;
}



/* Function: FUN_00405c30 */

void FUN_00405c30(void)

{
  FUN_004200cf(FUN_004221f0);
  return;
}



/* Function: FUN_00405c50 */

void FUN_00405c50(void)

{
  FUN_004200cf(FUN_00422210);
  return;
}



/* Function: FUN_00405c70 */

void FUN_00405c70(void)

{
  FUN_004200cf(FUN_00422230);
  return;
}



/* Function: FUN_00405c90 */

void FUN_00405c90(void)

{
  FUN_004200cf(FUN_00422250);
  return;
}



/* Function: FUN_00405ca2 */

void __fastcall FUN_00405ca2(undefined4 *param_1)

{
  Ordinal_6(*param_1);
  return;
}



/* Function: FUN_00405cb1 */

undefined4 __fastcall FUN_00405cb1(char *param_1,uint param_2,int param_3)

{
  char *pcVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  
  if ((param_2 == 0) || (0x7fffffff < param_2)) {
    uVar2 = 0x80070057;
    if (param_2 != 0) {
      *param_1 = '\0';
    }
  }
  else {
    iVar3 = 0x7ffffffe - param_2;
    iVar4 = param_3 - (int)param_1;
    do {
      if ((iVar3 + param_2 == 0) || (param_1[iVar4] == '\0')) break;
      *param_1 = param_1[iVar4];
      param_1 = param_1 + 1;
      param_2 = param_2 - 1;
    } while (param_2 != 0);
    pcVar1 = param_1 + -1;
    if (param_2 != 0) {
      pcVar1 = param_1;
    }
    *pcVar1 = '\0';
    uVar2 = 0x8007007a;
    if (param_2 != 0) {
      uVar2 = 0;
    }
  }
  return uVar2;
}



/* Function: FUN_00405d17 */

undefined4 __fastcall FUN_00405d17(short *param_1,uint param_2,int param_3)

{
  undefined4 uVar1;
  
  if ((param_2 == 0) || (0x7fffffff < param_2)) {
    uVar1 = 0x80070057;
    if (param_2 != 0) {
      *param_1 = 0;
    }
  }
  else {
    uVar1 = FUN_00405de7(param_1,param_2,param_1,param_3);
  }
  return uVar1;
}



/* Function: FUN_00405d4c */

undefined4 __thiscall FUN_00405d4c(void *this,int param_1)

{
  short *psVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  
  iVar4 = 0x104;
  psVar1 = (short *)this;
  do {
    if (*psVar1 == 0) break;
    psVar1 = psVar1 + 1;
    iVar4 = iVar4 + -1;
  } while (iVar4 != 0);
  uVar3 = -(uint)(iVar4 != 0) & 0x104U - iVar4;
  uVar2 = 0x80070057;
  if (iVar4 != 0) {
    uVar2 = FUN_00405de7((short *)((int)this + uVar3 * 2),0x104 - uVar3,uVar3,param_1);
  }
  return uVar2;
}



/* Function: FUN_00405da3 */

undefined4 __cdecl FUN_00405da3(wchar_t *param_1,uint param_2,wchar_t *param_3)

{
  undefined4 uVar1;
  
  if ((param_2 == 0) || (0x7fffffff < param_2)) {
    uVar1 = 0x80070057;
    if (param_2 != 0) {
      *param_1 = L'\0';
    }
  }
  else {
    uVar1 = FUN_00405e3a(param_1,param_2,&stack0x00000010,param_3,&stack0x00000010);
  }
  return uVar1;
}



/* Function: FUN_00405de7 */

undefined4 __fastcall FUN_00405de7(short *param_1,int param_2,undefined4 param_3,int param_4)

{
  short sVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  short *psVar5;
  
  if (param_2 != 0) {
    iVar4 = 0x7ffffffe;
    iVar2 = param_4 - (int)param_1;
    do {
      if ((iVar4 == 0) || (sVar1 = *(short *)(iVar2 + (int)param_1), sVar1 == 0)) break;
      *param_1 = sVar1;
      param_1 = param_1 + 1;
      iVar4 = iVar4 + -1;
      param_2 = param_2 + -1;
    } while (param_2 != 0);
  }
  uVar3 = 0x8007007a;
  if (param_2 != 0) {
    uVar3 = 0;
  }
  psVar5 = param_1 + -1;
  if (param_2 != 0) {
    psVar5 = param_1;
  }
  *psVar5 = 0;
  return uVar3;
}



/* Function: FUN_00405e3a */

undefined4 __fastcall
FUN_00405e3a(wchar_t *param_1,int param_2,undefined4 param_3,wchar_t *param_4,va_list param_5)

{
  uint _Count;
  uint uVar1;
  undefined4 uVar2;
  
  _Count = param_2 - 1;
  uVar2 = 0;
  uVar1 = _vsnwprintf(param_1,_Count,param_4,param_5);
  if (((int)uVar1 < 0) || (_Count < uVar1)) {
    uVar2 = 0x8007007a;
  }
  else if (uVar1 != _Count) {
    return 0;
  }
  param_1[_Count] = L'\0';
  return uVar2;
}



/* Function: FUN_00405e80 */

wchar_t * __thiscall FUN_00405e80(void *this,wchar_t *param_1,wchar_t *param_2,wchar_t *param_3)

{
  wchar_t wVar1;
  wchar_t *pwVar2;
  uint uVar3;
  
  uVar3 = (int)param_2 - (int)param_1 >> 1;
  if (uVar3 != 0) {
    if (uVar3 < 0x80000000) {
      FUN_00405e3a(param_1,uVar3,this,param_3,&stack0x00000010);
    }
    else {
      *param_1 = L'\0';
    }
  }
  if (param_2 != param_1) {
    pwVar2 = param_1;
    do {
      wVar1 = *pwVar2;
      pwVar2 = pwVar2 + 1;
    } while (wVar1 != L'\0');
    param_1 = param_1 + ((int)pwVar2 - (int)(param_1 + 1) >> 1);
  }
  return param_1;
}



/* Function: FUN_00405ed7 */

void __fastcall FUN_00405ed7(wchar_t *param_1,int param_2,int param_3)

{
  wchar_t *pwVar1;
  wchar_t *pwVar2;
  code *extraout_ECX;
  code *extraout_ECX_00;
  code *pcVar3;
  void *extraout_ECX_01;
  void *extraout_ECX_02;
  void *this;
  void *extraout_ECX_03;
  void *extraout_ECX_04;
  void *pvVar4;
  int extraout_EDX;
  int extraout_EDX_00;
  int extraout_EDX_01;
  int extraout_EDX_02;
  int extraout_EDX_03;
  int iVar5;
  wchar_t *local_218;
  WCHAR local_214 [256];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  pcVar3 = DAT_00425968;
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421065;
  local_10 = ExceptionList;
  local_14 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar5 = param_2;
  if ((param_2 != 0) && (param_1 != (wchar_t *)0x0)) {
    *param_1 = L'\0';
    if ((pcVar3 != (code *)0x0) && (DAT_00425978 != '\0')) {
      (*(code *)PTR_guard_check_icall_00427678)(param_3,param_1,param_2,local_14);
      (*pcVar3)();
      iVar5 = extraout_EDX;
      if (*param_1 != L'\0') goto LAB_00406146;
    }
    memset(local_214,0,0x200);
    pcVar3 = DAT_00425980;
    if ((*(byte *)(param_3 + 4) & 8) == 0) {
      FormatMessageW(0x1200,(LPCVOID)0x0,*(DWORD *)(param_3 + 8),0x400,local_214,0x100,
                     (va_list *)0x0);
      pcVar3 = extraout_ECX_00;
    }
    else if (DAT_00425980 != (code *)0x0) {
      (*(code *)PTR_guard_check_icall_00427678)(*(undefined4 *)(param_3 + 0xc),local_214,0x100);
      (*pcVar3)();
      pcVar3 = extraout_ECX;
    }
    pwVar1 = param_1 + param_2;
    if (*(int *)(param_3 + 0x24) == 0) {
      local_218 = FUN_00405e80(pcVar3,param_1,pwVar1,L"%hs!%p: ");
      pvVar4 = extraout_ECX_02;
    }
    else {
      local_218 = FUN_00405e80(pcVar3,param_1,pwVar1,L"%hs(%u)\\%hs!%p: ");
      pvVar4 = extraout_ECX_01;
    }
    if (*(int *)(param_3 + 0x54) != 0) {
      local_218 = FUN_00405e80(pvVar4,local_218,pwVar1,L"(caller: %p) ");
    }
    GetCurrentThreadId();
    pwVar2 = FUN_00405e80(local_214,local_218,pwVar1,L"%hs(%d) tid(%x) %08X %ws");
    if (((*(int *)(param_3 + 0x14) != 0) || (*(int *)(param_3 + 0x30) != 0)) ||
       (iVar5 = extraout_EDX_00, *(int *)(param_3 + 0x20) != 0)) {
      pwVar2 = FUN_00405e80((void *)0x0,pwVar2,pwVar1,L"    ");
      pvVar4 = this;
      if (*(int *)(param_3 + 0x14) != 0) {
        pwVar2 = FUN_00405e80(this,pwVar2,pwVar1,L"Msg:[%ws] ");
        pvVar4 = extraout_ECX_03;
      }
      if (*(int *)(param_3 + 0x30) != 0) {
        pwVar2 = FUN_00405e80(pvVar4,pwVar2,pwVar1,L"CallContext:[%hs] ");
        pvVar4 = extraout_ECX_04;
      }
      if (*(int *)(param_3 + 0x1c) == 0) {
        if (*(int *)(param_3 + 0x20) == 0) {
          FUN_00405e80(pvVar4,pwVar2,pwVar1,L"\n");
          iVar5 = extraout_EDX_03;
        }
        else {
          FUN_00405e80(pvVar4,pwVar2,pwVar1,L"[%hs]\n");
          iVar5 = extraout_EDX_02;
        }
      }
      else {
        FUN_00405e80(pvVar4,pwVar2,pwVar1,L"[%hs(%hs)]\n");
        iVar5 = extraout_EDX_01;
      }
    }
  }
LAB_00406146:
  ExceptionList = local_10;
  FUN_00420010(local_14 ^ (uint)&stack0xfffffffc,iVar5);
  return;
}



/* Function: FUN_0040616f */

uint * __thiscall FUN_0040616f(void *this,uint *param_1)

{
  uint uVar1;
  
  *param_1 = (uint)this;
  uVar1 = FUN_00406511((uint)this);
  param_1[2] = 0;
  param_1[1] = uVar1;
  return param_1;
}



/* Function: FUN_00406193 */

LPVOID __fastcall FUN_00406193(DWORD param_1,SIZE_T param_2)

{
  FARPROC pFVar1;
  uint uVar2;
  HANDLE hHeap;
  LPVOID pvVar3;
  HMODULE hModule;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421095;
  local_10 = ExceptionList;
  uVar2 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  hHeap = GetProcessHeap();
  pvVar3 = HeapAlloc(hHeap,param_1,param_2);
  if (DAT_00425954 == (FARPROC)0x0) {
    if (DAT_004259cc != '\0') {
      ExceptionList = local_10;
      return pvVar3;
    }
    hModule = GetModuleHandleW(L"ntdll.dll");
    if (hModule != (HMODULE)0x0) {
      DAT_00425954 = GetProcAddress(hModule,"RtlDisownModuleHeapAllocation");
    }
    DAT_004259cc = '\x01';
    if (DAT_00425954 == (FARPROC)0x0) {
      DAT_004259cc = '\x01';
      ExceptionList = local_10;
      return pvVar3;
    }
  }
  pFVar1 = DAT_00425954;
  (*(code *)PTR_guard_check_icall_00427678)(hHeap,pvVar3,uVar2);
  (*pFVar1)();
  ExceptionList = local_10;
  return pvVar3;
}



/* Function: FUN_00406243 */

undefined4 * __thiscall FUN_00406243(void *this,undefined4 *param_1)

{
  undefined4 uVar1;
  int *piVar2;
  
  *(undefined4 *)this = 0;
  *(undefined4 *)((int)this + 4) = 0;
  uVar1 = param_1[1];
  piVar2 = (int *)*param_1;
  FUN_0040627c((undefined4 *)this);
  if (piVar2 != (int *)0x0) {
    *(int **)this = piVar2;
    *(undefined4 *)((int)this + 4) = uVar1;
    LOCK();
    *piVar2 = *piVar2 + 1;
    UNLOCK();
  }
  return (undefined4 *)this;
}



/* Function: FUN_0040627c */

void __fastcall FUN_0040627c(undefined4 *param_1)

{
  int iVar1;
  int *piVar2;
  LPVOID lpMem;
  HANDLE hHeap;
  
  piVar2 = (int *)*param_1;
  if (piVar2 != (int *)0x0) {
    LOCK();
    iVar1 = *piVar2;
    *piVar2 = iVar1 + -1;
    UNLOCK();
    if (iVar1 + -1 == 0) {
      lpMem = (LPVOID)*param_1;
      hHeap = GetProcessHeap();
      HeapFree(hHeap,0,lpMem);
    }
    *param_1 = 0;
    param_1[1] = 0;
  }
  return;
}



/* Function: FUN_004062b3 */

undefined4 __thiscall FUN_004062b3(void *this,int param_1)

{
  int *piVar1;
  HANDLE hHeap;
  undefined1 uVar2;
  DWORD dwFlags;
  SIZE_T dwBytes;
  
  if (param_1 == 0) {
    piVar1 = (int *)FUN_0040627c((undefined4 *)this);
  }
  else {
    dwBytes = param_1 + 4;
    uVar2 = 0;
    dwFlags = 0;
    hHeap = GetProcessHeap();
    piVar1 = (int *)HeapAlloc(hHeap,dwFlags,dwBytes);
    if (piVar1 == (int *)0x0) goto LAB_004062fd;
    *piVar1 = 0;
    FUN_0040627c((undefined4 *)this);
    *(int **)this = piVar1;
    *(int *)((int)this + 4) = param_1;
    LOCK();
    *piVar1 = *piVar1 + 1;
    UNLOCK();
  }
  uVar2 = 1;
LAB_004062fd:
  return CONCAT31((int3)((uint)piVar1 >> 8),uVar2);
}



/* Function: FUN_0040630c */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int __fastcall FUN_0040630c(undefined4 param_1)

{
  int iVar1;
  
  iVar1 = DAT_004259bc;
  _DAT_004259c0 = param_1;
  LOCK();
  DAT_004259bc = DAT_004259bc + 1;
  UNLOCK();
  return iVar1 + 1;
}



/* Function: FUN_00406325 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int __fastcall FUN_00406325(undefined4 param_1)

{
  int iVar1;
  
  iVar1 = DAT_004259d8;
  _DAT_00425958 = param_1;
  LOCK();
  DAT_004259d8 = DAT_004259d8 + 1;
  UNLOCK();
  return iVar1 + 1;
}



/* Function: FUN_0040633e */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int __fastcall FUN_0040633e(undefined4 param_1)

{
  int iVar1;
  
  iVar1 = DAT_00425a30;
  _DAT_004259d4 = param_1;
  LOCK();
  DAT_00425a30 = DAT_00425a30 + 1;
  UNLOCK();
  return iVar1 + 1;
}



/* Function: FUN_00406360 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_00406360(undefined4 param_1)

{
  _DAT_00425a28 = param_1;
  return 1;
}



/* Function: FUN_0040637a */

void FUN_0040637a(undefined4 param_1)

{
  code *pcVar1;
  
  pcVar1 = DAT_004259a8;
  if (DAT_004259a8 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)();
    (*pcVar1)();
  }
  pcVar1 = (code *)swi(0x29);
  (*pcVar1)();
  return;
}



/* Function: FUN_004063aa */

void __fastcall
FUN_004063aa(undefined4 param_1,undefined4 param_2,LPCWSTR param_3,uint *param_4,char *param_5,
            uint param_6)

{
  char *pcVar1;
  char cVar2;
  BOOL BVar3;
  DWORD DVar4;
  char *pcVar5;
  char *pcVar6;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  HMODULE local_110;
  CHAR local_10c [260];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_110 = (HMODULE)0x0;
  if ((param_3 == (LPCWSTR)0x0) ||
     (BVar3 = GetModuleHandleExW(6,param_3,&local_110), param_2 = extraout_EDX, BVar3 != 0)) {
    if (param_4 != (uint *)0x0) {
      *param_4 = -(uint)(param_3 != (LPCWSTR)0x0) & (int)param_3 - (int)local_110;
    }
    if ((param_5 != (char *)0x0) &&
       (DVar4 = GetModuleFileNameA(local_110,local_10c,0x104), param_2 = extraout_EDX_00, DVar4 != 0
       )) {
      pcVar6 = local_10c;
      do {
        cVar2 = *pcVar6;
        pcVar6 = pcVar6 + 1;
      } while (cVar2 != '\0');
      do {
        pcVar5 = pcVar6 + -1;
        if (pcVar5 <= local_10c) break;
        pcVar1 = pcVar6 + -2;
        pcVar6 = pcVar5;
      } while (*pcVar1 != '\\');
      FUN_00405cb1(param_5,param_6,(int)pcVar5);
      param_2 = extraout_EDX_01;
    }
  }
  else if (param_4 != (uint *)0x0) {
    *param_4 = 0;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_00406490 */

undefined * __fastcall FUN_00406490(undefined4 param_1,undefined4 param_2)

{
  if (DAT_004259c4 == '\0') {
    FUN_004063aa(param_1,param_2,(LPCWSTR)FUN_00406360,(uint *)0x0,&DAT_004259e0,0x40);
    DAT_004259c4 = '\x01';
  }
  return &DAT_004259e0;
}



/* Function: DebugBreak */

void DebugBreak(void)

{
                    /* WARNING: Could not recover jumptable at 0x004064c0. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  DebugBreak();
  return;
}



/* Function: FUN_004064d0 */

void FUN_004064d0(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  HMODULE hModule;
  FARPROC pFVar1;
  
  hModule = GetModuleHandleW(L"kernelbase.dll");
  pFVar1 = GetProcAddress(hModule,"RaiseFailFastException");
  if (pFVar1 != (FARPROC)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(param_1,param_2,param_3);
    (*pFVar1)();
  }
  return;
}



/* Function: FUN_00406511 */

uint __fastcall FUN_00406511(uint param_1)

{
  if ((int)param_1 < -0x7ff8ff15) {
    if (param_1 == 0x800700ea) {
      return 0x80000005;
    }
    if ((int)param_1 < -0x7ff8ffa8) {
      if (param_1 == 0x80070057) {
        return 0xc000000d;
      }
      if (param_1 == 0x80004005) {
        return 0xc0000001;
      }
      if (param_1 == 0x80070001) {
        return 0xc0000002;
      }
      if (param_1 == 0x80070002) {
        return 0xc0000034;
      }
      if (param_1 == 0x80070003) {
        return 0xc000003a;
      }
      if (param_1 == 0x8007000e) {
        return 0xc0000017;
      }
    }
    else {
      if (param_1 == 0x80070070) {
        return 0xc000007f;
      }
      if (param_1 == 0x8007007a) {
        return 0xc0000023;
      }
      if (param_1 == 0x8007007b) {
        return 0xc0000033;
      }
      if (param_1 == 0x8007007e) {
        return 0xc0000135;
      }
    }
  }
  else if ((int)param_1 < -0x7ff8fb81) {
    if (param_1 == 0x8007047e) {
      return 0xc0000059;
    }
    if (param_1 == 0x80070216) {
      return 0xc0000095;
    }
    if (param_1 == 0x8007023e) {
      return 0xc0000025;
    }
    if (param_1 == 0x80070246) {
      return 0xc0000161;
    }
    if (param_1 == 0x80070247) {
      return 0xc0000163;
    }
    if (param_1 == 0x80070272) {
      return 0xc0000273;
    }
  }
  else {
    if (param_1 == 0x8007050c) {
      return 0xc000042b;
    }
    if (param_1 == 0x8007054f) {
      return 0xc00000e5;
    }
    if (param_1 == 0x800705b9) {
      return 0xc000a083;
    }
    if (param_1 == 0) {
      return 0;
    }
  }
  if ((param_1 & 0x10000000) != 0) {
    return param_1 & 0xefffffff;
  }
  if ((param_1 & 0x1fff0000) == 0x70000) {
    if ((param_1 & 0xffff) == 0) {
      return 0;
    }
    return param_1 & 0xffff | 0xc0070000;
  }
  if ((param_1 & 0x1fff0000) != 0x90000) {
    return 0xc00000e5;
  }
  if ((int)param_1 < 1) {
    return param_1;
  }
  return param_1 & 0xffff | 0xc0090000;
}



/* Function: FUN_004066e6 */

DWORD __fastcall
FUN_004066e6(int param_1,int param_2,int param_3,undefined4 param_4,undefined4 param_5,int param_6)

{
  DWORD DVar1;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_004210b8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  DVar1 = GetLastError();
  if (DVar1 == 0) {
    FUN_00408063(param_1,param_2,param_3,0,0,param_6,0x8007029c);
    DVar1 = 0x29c;
  }
  ExceptionList = local_10;
  return DVar1;
}



/* Function: FUN_00406751 */

uint __fastcall
FUN_00406751(int param_1,int param_2,int param_3,undefined4 param_4,undefined4 param_5,int param_6)

{
  DWORD DVar1;
  uint uVar2;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_004210db;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_8 = 0;
  DVar1 = GetLastError();
  if (DVar1 == 0) {
    FUN_00408063(param_1,param_2,param_3,0,0,param_6,0x8007029c);
    DVar1 = 0x29c;
  }
  uVar2 = DVar1 & 0xffff | 0x80070000;
  if ((int)DVar1 < 1) {
    uVar2 = DVar1;
  }
  ExceptionList = local_10;
  return uVar2;
}



/* Function: FUN_004067d2 */

void __fastcall FUN_004067d2(undefined4 param_1)

{
  int unaff_retaddr;
  
  FUN_00406751(0,0,0,param_1,param_1,unaff_retaddr);
  return;
}



/* Function: FUN_004067ef */

char * __fastcall FUN_004067ef(char *param_1)

{
  char *pcVar1;
  char cVar2;
  
  if (param_1 == (char *)0x0) {
    return (char *)0x1;
  }
  pcVar1 = param_1 + 1;
  do {
    cVar2 = *param_1;
    param_1 = param_1 + 1;
  } while (cVar2 != '\0');
  return param_1 + (1 - (int)pcVar1);
}



/* Function: FUN_0040680d */

int __fastcall FUN_0040680d(short *param_1)

{
  short *psVar1;
  short sVar2;
  
  if (param_1 == (short *)0x0) {
    return 2;
  }
  psVar1 = param_1 + 1;
  do {
    sVar2 = *param_1;
    param_1 = param_1 + 1;
  } while (sVar2 != 0);
  return ((int)param_1 - (int)psVar1 >> 1) * 2 + 2;
}



/* Function: FUN_00406835 */

void __thiscall FUN_00406835(void *this,undefined4 *param_1)

{
  int *this_00;
  int iVar1;
  int iVar2;
  char *pcVar3;
  char *pcVar4;
  char *pcVar5;
  char *pcVar6;
  char *pcVar7;
  char *pcVar8;
  char *pcVar9;
  char *extraout_EAX;
  char *extraout_EAX_00;
  char *extraout_EAX_01;
  char *extraout_EAX_02;
  char *extraout_EAX_03;
  void *extraout_EAX_04;
  void *extraout_EAX_05;
  int iVar10;
  undefined4 *puVar11;
  int *piVar12;
  void *pvVar13;
  undefined4 *puVar14;
  
  puVar11 = param_1;
  puVar14 = (undefined4 *)this;
  for (iVar10 = 0x16; iVar10 != 0; iVar10 = iVar10 + -1) {
    *puVar14 = *puVar11;
    puVar11 = puVar11 + 1;
    puVar14 = puVar14 + 1;
  }
  iVar10 = FUN_0040680d((short *)param_1[0x12]);
  iVar1 = FUN_0040680d((short *)param_1[0xf]);
  iVar2 = FUN_0040680d((short *)param_1[5]);
  pcVar3 = FUN_004067ef((char *)param_1[0x11]);
  pcVar4 = FUN_004067ef((char *)param_1[0xe]);
  pcVar5 = FUN_004067ef((char *)param_1[0xc]);
  pcVar6 = FUN_004067ef((char *)param_1[9]);
  pcVar7 = FUN_004067ef((char *)param_1[8]);
  pcVar8 = FUN_004067ef((char *)param_1[7]);
  pcVar9 = FUN_004067ef((char *)param_1[0x13]);
  this_00 = (int *)((int)this + 0x58);
  piVar12 = (int *)*this_00;
  if (((piVar12 == (int *)0x0) || (*piVar12 != 1)) ||
     (*(char **)((int)this + 0x5c) <
      pcVar3 + iVar10 + iVar1 + iVar2 + (int)pcVar4 + (int)pcVar5 + (int)pcVar6 + (int)pcVar7 +
      (int)pcVar8 + (int)pcVar9)) {
    FUN_0040627c(this_00);
    FUN_004062b3(this_00,(int)(pcVar3 + iVar10 + iVar1 + iVar2 + (int)pcVar4 + (int)pcVar5 +
                               (int)pcVar6 + (int)pcVar7 + (int)pcVar8 + (int)pcVar9));
    piVar12 = (int *)*this_00;
  }
  pvVar13 = (void *)(-(uint)(piVar12 != (int *)0x0) & (uint)(piVar12 + 1));
  pcVar3 = (char *)(-(uint)(pvVar13 != (void *)0x0) & (int)pvVar13 + *(int *)((int)this + 0x5c));
  if (pvVar13 != (void *)0x0) {
    pcVar4 = (char *)FUN_004080b3(pvVar13,pcVar3,(short *)param_1[5],
                                  (undefined4 *)((int)this + 0x14));
    FUN_00408123(pcVar4,pcVar3,(char *)param_1[7],(undefined4 *)((int)this + 0x1c));
    FUN_00408123(extraout_EAX,pcVar3,(char *)param_1[8],(undefined4 *)((int)this + 0x20));
    FUN_00408123(extraout_EAX_00,pcVar3,(char *)param_1[9],(undefined4 *)((int)this + 0x24));
    FUN_00408123(extraout_EAX_01,pcVar3,(char *)param_1[0xc],(undefined4 *)((int)this + 0x30));
    FUN_00408123(extraout_EAX_02,pcVar3,(char *)param_1[0x13],(undefined4 *)((int)this + 0x4c));
    FUN_00408123(extraout_EAX_03,pcVar3,(char *)param_1[0x11],(undefined4 *)((int)this + 0x44));
    pcVar4 = (char *)FUN_004080b3(extraout_EAX_04,pcVar3,(short *)param_1[0x12],
                                  (undefined4 *)((int)this + 0x48));
    FUN_00408123(pcVar4,pcVar3,(char *)param_1[0xe],(undefined4 *)((int)this + 0x38));
    pvVar13 = FUN_004080b3(extraout_EAX_05,pcVar3,(short *)param_1[0xf],
                           (undefined4 *)((int)this + 0x3c));
    memset(pvVar13,0,(int)pcVar3 - (int)pvVar13);
  }
  return;
}



/* Function: FUN_004069c8 */

exception * __thiscall FUN_004069c8(void *this,undefined4 *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_004210b8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  exception::exception((exception *)this);
  *(undefined ***)this = &PTR_FUN_00401550;
  *(undefined4 *)((int)this + 100) = 0;
  *(undefined4 *)((int)this + 0x68) = 0;
  FUN_00406835((void *)((int)this + 0xc),param_1);
  *(undefined4 *)((int)this + 0x6c) = 0;
  *(undefined4 *)((int)this + 0x70) = 0;
  ExceptionList = local_10;
  return (exception *)this;
}



/* Function: FUN_00406a40 */

/* WARNING: Function: __alloca_probe replaced with injection: alloca_probe */

void __fastcall FUN_00406a40(int param_1,undefined4 param_2)

{
  int *this;
  int cbMultiByte;
  undefined4 uVar1;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  wchar_t local_1008 [2048];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  this = (int *)(param_1 + 0x6c);
  if (*this == 0) {
    FUN_00405ed7(local_1008,0x800,param_1 + 0xc);
    cbMultiByte = WideCharToMultiByte(0,0,local_1008,-1,(LPSTR)0x0,0,(LPCSTR)0x0,(LPBOOL)0x0);
    uVar1 = FUN_004062b3(this,cbMultiByte);
    param_2 = extraout_EDX;
    if ((char)uVar1 != '\0') {
      WideCharToMultiByte(0,0,local_1008,-1,(LPSTR)(-(uint)(*this != 0) & *this + 4U),cbMultiByte,
                          (LPCSTR)0x0,(LPBOOL)0x0);
      param_2 = extraout_EDX_00;
    }
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_00406af0 */

exception * __thiscall FUN_00406af0(void *this,byte param_1)

{
  FUN_00406b20((exception *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (exception *)this;
}



/* Function: FUN_00406b20 */

void __fastcall FUN_00406b20(exception *param_1)

{
  FUN_0040627c((undefined4 *)(param_1 + 0x6c));
  FUN_0040627c((undefined4 *)(param_1 + 100));
                    /* WARNING: Could not recover jumptable at 0x00406b38. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  exception::~exception(param_1);
  return;
}



/* Function: FUN_00406b50 */

void FUN_00406b50(void)

{
                    /* WARNING: Subroutine does not return */
  _CxxThrowException((void *)0x0,(ThrowInfo *)0x0);
}



/* Function: FUN_00406b60 */

void FUN_00406b60(undefined4 *param_1)

{
  undefined1 local_78 [116];
  
  FUN_004069c8(local_78,param_1);
                    /* WARNING: Subroutine does not return */
  _CxxThrowException(local_78,(ThrowInfo *)&DAT_00423514);
}



/* Function: FUN_00406b90 */

exception * __thiscall FUN_00406b90(void *this,exception *param_1)

{
  int iVar1;
  exception *peVar2;
  undefined4 *puVar3;
  
  exception::exception((exception *)this,param_1);
  *(undefined ***)this = &PTR_FUN_00401550;
  peVar2 = param_1 + 0xc;
  puVar3 = (undefined4 *)((int)this + 0xc);
  for (iVar1 = 0x16; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *(undefined4 *)peVar2;
    peVar2 = peVar2 + 4;
    puVar3 = puVar3 + 1;
  }
  FUN_00406243((void *)((int)this + 100),(undefined4 *)(param_1 + 100));
  FUN_00406243((void *)((int)this + 0x6c),(undefined4 *)(param_1 + 0x6c));
  return (exception *)this;
}



/* Function: FUN_00406be7 */

void __fastcall
FUN_00406be7(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int *param_8,short *param_9,undefined4 param_10,wchar_t *param_11,undefined4 param_12,
            undefined1 *param_13,undefined4 param_14,int *param_15)

{
  code *pcVar1;
  char cVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  DWORD DVar7;
  BOOL BVar8;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_004210fe;
  local_10 = ExceptionList;
  uVar3 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *param_11 = L'\0';
  *param_13 = 0;
  iVar4 = *param_8;
  param_15[2] = iVar4;
  param_15[3] = param_8[1];
  if (param_7 == 0) {
    iVar4 = FUN_0040630c(iVar4);
  }
  else if (param_7 == 1) {
    iVar4 = FUN_00406325(iVar4);
  }
  else if (param_7 == 2) {
    if (-1 < iVar4) {
      iVar4 = -0x7ff8fd64;
      FUN_00408063(param_1,param_2,param_3,param_4,param_5,param_6,0x8007029c);
      param_15[2] = -0x7ff8fd64;
      uVar5 = FUN_00406511(0x8007029c);
      param_15[3] = uVar5;
    }
    iVar4 = FUN_0040633e(iVar4);
  }
  else if (param_7 == 3) {
    iVar4 = FUN_00406360(iVar4);
  }
  else {
    iVar4 = 0;
  }
  *param_15 = param_7;
  param_15[1] = 0;
  if (param_8[2] == 1) {
    param_15[1] = 8;
  }
  LOCK();
  UNLOCK();
  iVar6 = DAT_004259c8 + 1;
  DAT_004259c8 = DAT_004259c8 + 1;
  param_15[4] = iVar6;
  if ((param_9 == (short *)0x0) || (*param_9 == 0)) {
    param_9 = (short *)0x0;
  }
  param_15[5] = (int)param_9;
  DVar7 = GetCurrentThreadId();
  param_15[6] = DVar7;
  param_15[9] = param_3;
  param_15[10] = param_2;
  param_15[7] = param_5;
  param_15[8] = param_4;
  param_15[0x14] = param_6;
  param_15[0xb] = iVar4;
  param_15[0x15] = param_1;
  param_15[0xc] = 0;
  param_15[0x10] = 0;
  param_15[0x11] = 0;
  param_15[0x12] = 0;
  param_15[0xd] = 0;
  param_15[0xe] = 0;
  param_15[0xf] = 0;
  pcVar1 = DAT_004259ac;
  if (DAT_004259ac == (code *)0x0) {
    iVar4 = 0;
  }
  else {
    (*(code *)PTR_guard_check_icall_00427678)(uVar3);
    iVar4 = (*pcVar1)();
  }
  pcVar1 = DAT_00425970;
  param_15[0x13] = iVar4;
  if (pcVar1 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(param_15);
    (*pcVar1)();
  }
  pcVar1 = DAT_00425988;
  if (DAT_00425988 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(param_15,param_13,0x400);
    (*pcVar1)();
  }
  pcVar1 = DAT_00425984;
  if (DAT_00425984 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(param_15);
    (*pcVar1)();
  }
  pcVar1 = DAT_00425998;
  if ((DAT_00425998 != (code *)0x0) && ((*(byte *)(param_15 + 1) & 2) == 0)) {
    (*(code *)PTR_guard_check_icall_00427678)(param_15);
    (*pcVar1)();
  }
  if (-1 < param_15[2]) {
    if (param_7 != 3) {
      FUN_0040710d();
      pcVar1 = (code *)swi(3);
      (*pcVar1)();
      return;
    }
    param_15[2] = -0x7fff0001;
    uVar3 = FUN_00406511(0x8000ffff);
    param_15[3] = uVar3;
  }
  pcVar1 = DAT_0042595c;
  if (DAT_00425964 == '\0') {
    if (DAT_0042595c == (code *)0x0) {
      BVar8 = IsDebuggerPresent();
      cVar2 = BVar8 != 0;
    }
    else {
      (*(code *)PTR_guard_check_icall_00427678)();
      cVar2 = (*pcVar1)();
    }
    if (cVar2 != '\0') goto LAB_00406def;
  }
  else {
LAB_00406def:
    pcVar1 = DAT_00425968;
    if ((*(byte *)(param_15 + 1) & 2) == 0) {
      if ((DAT_00425968 != (code *)0x0) && (DAT_00425978 == '\0')) {
        (*(code *)PTR_guard_check_icall_00427678)(param_15,param_11,0x800);
        (*pcVar1)();
      }
      if (*param_11 == L'\0') {
        FUN_00405ed7(param_11,0x800,(int)param_15);
      }
      OutputDebugStringW(param_11);
      goto LAB_00406e58;
    }
  }
  pcVar1 = DAT_00425968;
  if ((DAT_00425968 != (code *)0x0) && (DAT_00425978 == '\0')) {
    (*(code *)PTR_guard_check_icall_00427678)(param_15,0,0);
    (*pcVar1)();
  }
LAB_00406e58:
  pcVar1 = DAT_00425990;
  if ((((*(byte *)(param_15 + 1) & 4) != 0) || (DAT_0042596c != '\0')) &&
     (DAT_00425990 != (code *)0x0)) {
    (*(code *)PTR_guard_check_icall_00427678)();
    (*pcVar1)();
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00406e9e */

void __fastcall FUN_00406e9e(int param_1)

{
  code *pcVar1;
  int extraout_ECX;
  int iVar2;
  undefined4 uVar3;
  undefined4 uStack_58;
  undefined4 uStack_54;
  int iStack_4c;
  undefined4 uStack_48;
  undefined4 uStack_44;
  undefined4 uStack_40;
  undefined4 uStack_3c;
  
  pcVar1 = DAT_004259b0;
  if (DAT_004259b0 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(param_1);
    (*pcVar1)();
  }
  pcVar1 = DAT_0042599c;
  if (DAT_0042599c != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(param_1);
    (*pcVar1)();
  }
  memset(&uStack_58,0,0x50);
  iVar2 = *(int *)(param_1 + 0x50);
  uStack_58 = 0xc0000409;
  uStack_48 = 1;
  uStack_54 = 1;
  uStack_44 = 7;
  if (iVar2 != 0) goto LAB_00406f14;
  uVar3 = 1;
  do {
    FUN_0040637a(uVar3);
    iVar2 = extraout_ECX;
LAB_00406f14:
    uStack_40 = *(undefined4 *)(param_1 + 8);
    uStack_3c = *(undefined4 *)(param_1 + 0x28);
    uStack_48 = 3;
    uVar3 = 0;
    iStack_4c = iVar2;
  } while( true );
}



/* Function: FUN_00406f3c */

void __fastcall FUN_00406f3c(undefined4 param_1,undefined4 param_2)

{
  code *pcVar1;
  
  FUN_004081ae(param_1,param_2);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_00406f58 */

void __fastcall FUN_00406f58(undefined4 param_1,undefined4 param_2)

{
  code *pcVar1;
  uint *puVar2;
  uint local_24 [4];
  uint local_14;
  uint uStack_10;
  uint uStack_c;
  undefined4 local_8;
  
  local_8 = param_1;
  puVar2 = FUN_0040616f((void *)0x8000ffff,local_24);
  local_14 = *puVar2;
  uStack_10 = puVar2[1];
  uStack_c = puVar2[2];
  FUN_00406f3c(local_8,param_2);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_00406f9b */

void __fastcall FUN_00406f9b(int param_1,int param_2)

{
  code *pcVar1;
  void *pvVar2;
  uint *puVar3;
  void *this;
  int in_stack_00000010;
  uint local_24 [4];
  uint local_14;
  uint uStack_10;
  uint uStack_c;
  int local_8;
  
  local_8 = param_1;
  pvVar2 = (void *)FUN_004066e6(param_1,param_2,0x4028f8,param_1,param_1,in_stack_00000010);
  this = (void *)((uint)pvVar2 & 0xffff | 0x80070000);
  if ((int)pvVar2 < 1) {
    this = pvVar2;
  }
  puVar3 = FUN_0040616f(this,local_24);
  local_14 = *puVar3;
  uStack_10 = puVar3[1];
  uStack_c = puVar3[2];
  FUN_00406f3c(local_8,param_2);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_00406ff8 */

void __fastcall FUN_00406ff8(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  undefined4 unaff_retaddr;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421121;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_00408484(param_1,param_2,param_3,param_1,param_1,unaff_retaddr,param_4);
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00407046 */

void __fastcall FUN_00407046(int param_1,int param_2)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_004084c7(param_1,param_2);
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00407090 */

void __fastcall FUN_00407090(int param_1,int param_2)

{
  code *pcVar1;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_00406f9b(param_1,param_2);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_004070cc */

void __fastcall FUN_004070cc(undefined4 param_1)

{
  code *pcVar1;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421121;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_00406f58(param_1,0xc27);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_0040710d */

void FUN_0040710d(void)

{
  code *pcVar1;
  
  pcVar1 = (code *)swi(0x29);
  (*pcVar1)();
  return;
}



/* Function: FUN_00407119 */

void FUN_00407119(HANDLE param_1)

{
  code *pcVar1;
  BOOL BVar2;
  int unaff_retaddr;
  
  BVar2 = CloseHandle(param_1);
  if (BVar2 != 0) {
    return;
  }
  FUN_00407090(unaff_retaddr,0x9cd);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_00407146 */

void FUN_00407146(HANDLE param_1)

{
  code *pcVar1;
  BOOL BVar2;
  int unaff_retaddr;
  
  BVar2 = ReleaseMutex(param_1);
  if (BVar2 != 0) {
    return;
  }
  FUN_00407090(unaff_retaddr,0x9d7);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_00407171 */

void __thiscall FUN_00407171(void *this,int param_1,undefined4 param_2,uint param_3,int param_4)

{
  code *pcVar1;
  uint uVar2;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar3;
  uint uVar4;
  undefined4 unaff_retaddr;
  WCHAR local_214 [262];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  if ((param_3 & 0x80000000) != 0 || param_4 != 0) {
    FUN_0040710d();
    pcVar1 = (code *)swi(3);
    (*pcVar1)();
    return;
  }
  FUN_00405d17(local_214,0x104,param_1);
  FUN_00405d4c(local_214,0x402930);
  uVar4 = param_3 & 0x7fffffff;
  uVar2 = 1;
  if (uVar4 != 0) {
    uVar2 = uVar4;
  }
  uVar2 = FUN_00407b9a(this,uVar4,uVar2,local_214);
  uVar3 = extraout_EDX;
  if ((int)uVar2 < 0) {
    FUN_00406ff8(unaff_retaddr,0x88,&DAT_004028f4,uVar2);
    uVar3 = extraout_EDX_00;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar3);
  return;
}



/* Function: FUN_00407216 */

undefined4 __fastcall FUN_00407216(HANDLE param_1,int *param_2)

{
  DWORD DVar1;
  undefined4 uVar2;
  BOOL BVar3;
  int iVar4;
  int unaff_retaddr;
  long local_c;
  long local_8;
  
  DVar1 = WaitForSingleObject(param_1,0);
  if (DVar1 == 0xffffffff) {
    iVar4 = 0x99;
    goto LAB_00407239;
  }
  if ((DVar1 == 0) || (DVar1 == 0x102)) {
    local_8 = 0;
    if (DVar1 == 0) {
      BVar3 = ReleaseSemaphore(param_1,1,&local_8);
      if (BVar3 == 0) {
        iVar4 = 0xa2;
LAB_00407239:
        uVar2 = FUN_00407046(unaff_retaddr,iVar4);
        return uVar2;
      }
      local_8 = local_8 + 1;
      BVar3 = ReleaseSemaphore(param_1,1,(LPLONG)0x0);
      if ((BVar3 == 0) && (DVar1 = GetLastError(), DVar1 == 0x12a)) {
LAB_00407307:
        *param_2 = local_8;
        return 0;
      }
      uVar2 = 0xa7;
    }
    else {
      local_c = 0;
      BVar3 = ReleaseSemaphore(param_1,1,&local_c);
      if (BVar3 == 0) {
        iVar4 = 0xb1;
        goto LAB_00407239;
      }
      if (local_c == 0) {
        BVar3 = ReleaseSemaphore(param_1,1,(LPLONG)0x0);
        if ((BVar3 == 0) && (DVar1 = GetLastError(), DVar1 == 0x12a)) {
          DVar1 = WaitForSingleObject(param_1,0);
          if (DVar1 == 0xffffffff) {
            iVar4 = 0xb8;
            goto LAB_00407239;
          }
          if (DVar1 == 0) goto LAB_00407307;
          uVar2 = 0xb9;
        }
        else {
          uVar2 = 0xb5;
        }
      }
      else {
        uVar2 = 0xb2;
      }
    }
  }
  else {
    uVar2 = 0x9a;
  }
  FUN_00406ff8(unaff_retaddr,uVar2,&DAT_004028f4,0x8000ffff);
  return 0x8000ffff;
}



/* Function: FUN_00407335 */

void __thiscall FUN_00407335(void *this,int *param_1)

{
  HANDLE pvVar1;
  DWORD DVar2;
  uint uVar3;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 uVar4;
  undefined4 extraout_EDX_02;
  int unaff_retaddr;
  undefined1 auStack_224 [4];
  int iStack_220;
  int *local_21c;
  WCHAR local_218 [262];
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)auStack_224;
  local_21c = param_1;
  *param_1 = 0;
  param_1[1] = 0;
  FUN_00405d17(local_218,0x104,(int)this);
  FUN_00405d4c(local_218,0x402930);
  pvVar1 = OpenSemaphoreW(0x1f0003,0,local_218);
  if (pvVar1 == (HANDLE)0x0) {
    DVar2 = GetLastError();
    uVar4 = extraout_EDX;
    if (DVar2 != 2) {
      FUN_00407046(unaff_retaddr,0xcd);
      uVar4 = extraout_EDX_00;
    }
LAB_004073dd:
    if (pvVar1 == (HANDLE)0x0) goto LAB_004073f7;
  }
  else {
    iStack_220 = 0;
    uVar3 = FUN_00407216(pvVar1,&iStack_220);
    if ((int)uVar3 < 0) {
      FUN_00406ff8(unaff_retaddr,0xd3,&DAT_004028f4,uVar3);
      uVar4 = extraout_EDX_01;
      goto LAB_004073dd;
    }
    *local_21c = iStack_220;
    local_21c[1] = iStack_220 >> 0x1f;
  }
  FUN_00407119(pvVar1);
  uVar4 = extraout_EDX_02;
LAB_004073f7:
  FUN_00420010(local_c ^ (uint)auStack_224,uVar4);
  return;
}



/* Function: FUN_00407416 */

void __thiscall FUN_00407416(void *this,undefined1 *param_1,undefined4 param_2)

{
  uint *puVar1;
  LPVOID lpMem;
  int iVar2;
  char *pcVar3;
  char *pcVar4;
  LPVOID pvVar5;
  HANDLE hHeap;
  char *extraout_EAX;
  void *extraout_EAX_00;
  void *_Dst;
  
  *(undefined4 *)((int)this + 4) = param_2;
  *(undefined4 *)((int)this + 8) = *(undefined4 *)(param_1 + 8);
  *(undefined4 *)((int)this + 0xc) = 0;
  *(undefined2 *)((int)this + 0x10) = *(undefined2 *)(param_1 + 0x28);
  *(undefined1 *)((int)this + 0x12) = *param_1;
  *(undefined4 *)((int)this + 0x14) = 0;
  *(undefined4 *)((int)this + 0x18) = *(undefined4 *)(param_1 + 0x50);
  *(undefined4 *)((int)this + 0x1c) = *(undefined4 *)(param_1 + 0x54);
  *(undefined4 *)((int)this + 0x20) = 0;
  iVar2 = FUN_0040680d(*(short **)(param_1 + 0x14));
  pcVar3 = FUN_004067ef(*(char **)(param_1 + 0x24));
  pcVar4 = FUN_004067ef(*(char **)(param_1 + 0x4c));
  pcVar4 = pcVar3 + iVar2 + (int)pcVar4;
  puVar1 = (uint *)((int)this + 0x28);
  if ((*(int *)((int)this + 0x24) == 0) || ((char *)*puVar1 < pcVar4)) {
    pvVar5 = FUN_00406193(8,(SIZE_T)pcVar4);
    if (pvVar5 != (LPVOID)0x0) {
      lpMem = *(LPVOID *)((int)this + 0x24);
      hHeap = GetProcessHeap();
      HeapFree(hHeap,0,lpMem);
      *(LPVOID *)((int)this + 0x24) = pvVar5;
      *puVar1 = (uint)pcVar4;
    }
  }
  pcVar3 = *(char **)((int)this + 0x24);
  if (pcVar3 != (char *)0x0) {
    pcVar4 = pcVar3 + *puVar1;
    FUN_00408123(pcVar3,pcVar4,*(char **)(param_1 + 0x24),(undefined4 *)((int)this + 0xc));
    FUN_00408123(extraout_EAX,pcVar4,*(char **)(param_1 + 0x4c),(undefined4 *)((int)this + 0x14));
    _Dst = FUN_004080b3(extraout_EAX_00,pcVar4,*(short **)(param_1 + 0x14),
                        (undefined4 *)((int)this + 0x20));
    memset(_Dst,0,(int)pcVar4 - (int)_Dst);
  }
  return;
}



/* Function: FUN_00407509 */

void __fastcall FUN_00407509(int param_1)

{
  undefined4 *puVar1;
  ushort uVar2;
  undefined4 *puVar3;
  LPVOID pvVar4;
  HANDLE pvVar5;
  undefined4 *puVar6;
  
  uVar2 = *(ushort *)(param_1 + 0x14);
  puVar3 = *(undefined4 **)(param_1 + 0x10);
  if (puVar3 != puVar3 + (uint)uVar2 * 0xb) {
    puVar6 = puVar3 + 9;
    do {
      pvVar4 = (LPVOID)*puVar6;
      pvVar5 = GetProcessHeap();
      HeapFree(pvVar5,0,pvVar4);
      *puVar6 = 0;
      puVar6[1] = 0;
      puVar1 = puVar6 + 2;
      puVar6 = puVar6 + 0xb;
    } while (puVar1 != puVar3 + (uint)uVar2 * 0xb);
  }
  pvVar4 = *(LPVOID *)(param_1 + 0x10);
  pvVar5 = GetProcessHeap();
  HeapFree(pvVar5,0,pvVar4);
  *(undefined4 *)(param_1 + 0x10) = 0;
  *(undefined4 *)(param_1 + 0x14) = 0;
  return;
}



/* Function: FUN_00407578 */

void __thiscall FUN_00407578(void *this,undefined1 *param_1)

{
  int *piVar1;
  undefined2 *puVar2;
  int iVar3;
  int *piVar4;
  ulonglong uVar5;
  undefined2 *puVar6;
  uint uVar7;
  int *piVar8;
  
  iVar3 = *(int *)((int)this + 0xc);
  if ((*(int *)((int)this + 0x10) == 0) && (iVar3 != 0)) {
    puVar6 = (undefined2 *)FUN_00406193(8,0xdc);
    *(undefined2 **)((int)this + 0x10) = puVar6;
    if (puVar6 != (undefined2 *)0x0) {
      *(undefined2 *)((int)this + 0x14) = 5;
      *(undefined2 *)((int)this + 0x16) = 0;
      puVar2 = puVar6 + 0x6e;
      for (; puVar6 != puVar2; puVar6 = puVar6 + 0x16) {
        *puVar6 = 0x2c;
      }
    }
  }
  piVar4 = *(int **)((int)this + 0x10);
  if (piVar4 != (int *)0x0) {
    if ((iVar3 != 0) && (piVar4 != piVar4 + (uint)*(ushort *)((int)this + 0x14) * 0xb)) {
      uVar7 = *(uint *)((int)this + 0xc);
      piVar8 = piVar4 + 2;
      do {
        if ((uVar7 < (uint)piVar8[-1]) && (*piVar8 == *(int *)(param_1 + 8))) {
          return;
        }
        piVar1 = piVar8 + 9;
        uVar7 = *(uint *)((int)this + 0xc);
        piVar8 = piVar8 + 0xb;
      } while (piVar1 != piVar4 + (uint)*(ushort *)((int)this + 0x14) * 0xb);
    }
    uVar5 = (ulonglong)(*(ushort *)((int)this + 0x16) + 1) %
            (ulonglong)*(ushort *)((int)this + 0x14);
    *(short *)((int)this + 0x16) = (short)uVar5;
    piVar8 = *(int **)((int)this + 8);
    LOCK();
    iVar3 = *piVar8;
    *piVar8 = *piVar8 + 1;
    UNLOCK();
    FUN_00407416(piVar4 + (int)uVar5 * 0xb,param_1,iVar3 + 1);
  }
  return;
}



/* Function: FUN_00407636 */

DWORD * __fastcall FUN_00407636(undefined4 param_1)

{
  undefined4 *puVar1;
  int iVar2;
  DWORD DVar3;
  DWORD *pDVar4;
  DWORD *pDVar5;
  uint uVar6;
  undefined4 local_8;
  
  puVar1 = DAT_00425960;
  if (DAT_00425960 != (undefined4 *)0x0) {
    local_8 = param_1;
    if (DAT_00425960[1] == 0) {
      local_8 = 0;
      iVar2 = FUN_00407c21(*DAT_00425960,&local_8);
      if ((-1 < iVar2) && (puVar1[1] == 0)) {
        puVar1[1] = local_8;
      }
    }
    uVar6 = -(uint)(puVar1[1] != 0) & puVar1[1] + 0x10;
    if (uVar6 != 0) {
      DVar3 = GetCurrentThreadId();
      for (pDVar4 = *(DWORD **)(uVar6 + 8 + (DVar3 % 10) * 4); pDVar4 != (DWORD *)0x0;
          pDVar4 = (DWORD *)pDVar4[1]) {
        if (*pDVar4 == DVar3) {
          pDVar5 = pDVar4 + 2;
          if (pDVar5 == (DWORD *)0x0) {
            return (DWORD *)0x0;
          }
          if (pDVar4[4] == 0) {
            pDVar4[4] = uVar6 + 4;
            return pDVar5;
          }
          return pDVar5;
        }
      }
    }
  }
  return (DWORD *)0x0;
}



/* Function: FUN_004076bf */

uint __fastcall FUN_004076bf(int param_1,int param_2,char *param_3,int param_4)

{
  char cVar1;
  int *piVar2;
  uint in_EAX;
  uint uVar3;
  int iVar4;
  char *pcVar5;
  char *pcVar6;
  char *_Dst;
  char *_MaxCount;
  char *_DstSize;
  
  uVar3 = in_EAX & 0xffffff00;
  *param_3 = '\0';
  if (param_2 != 0) {
    uVar3 = FUN_004076bf(param_1,*(int *)(param_2 + 8),param_3,param_4);
    piVar2 = *(int **)(param_2 + 0x10);
    if (piVar2 != (int *)0x0) {
      if (*piVar2 == 0) {
        LOCK();
        UNLOCK();
        iVar4 = DAT_00425510 + 1;
        DAT_00425510 = DAT_00425510 + 1;
        *piVar2 = iVar4;
      }
      if (*(int *)(param_1 + 0x34) == 0) {
        *(int *)(param_1 + 0x34) = *piVar2;
        *(int *)(param_1 + 0x38) = piVar2[1];
        *(int *)(param_1 + 0x3c) = piVar2[2];
      }
      *(int *)(param_1 + 0x40) = *piVar2;
      *(int *)(param_1 + 0x44) = piVar2[1];
      *(int *)(param_1 + 0x48) = piVar2[2];
      _Dst = param_3;
      do {
        pcVar6 = _Dst;
        _Dst = pcVar6 + 1;
      } while (*pcVar6 != '\0');
      pcVar5 = param_3 + (param_4 - (int)pcVar6);
      if (2 < (int)pcVar5) {
        *pcVar6 = '\\';
        pcVar5 = (char *)piVar2[1];
        pcVar6 = pcVar5 + 1;
        do {
          cVar1 = *pcVar5;
          pcVar5 = pcVar5 + 1;
        } while (cVar1 != '\0');
        _DstSize = param_3 + (param_4 - (int)_Dst);
        _MaxCount = _DstSize;
        if (pcVar5 + (1 - (int)pcVar6) < _DstSize) {
          _MaxCount = pcVar5 + (1 - (int)pcVar6);
        }
        pcVar5 = (char *)memcpy_s(_Dst,(rsize_t)_DstSize,(void *)piVar2[1],(rsize_t)_MaxCount);
        _Dst[(int)(_MaxCount + -1)] = '\0';
      }
      uVar3 = CONCAT31((int3)((uint)pcVar5 >> 8),1);
    }
  }
  return uVar3;
}



/* Function: FUN_0040777e */

void __fastcall FUN_0040777e(int param_1,char *param_2,int param_3)

{
  code *pcVar1;
  byte bVar2;
  uint uVar3;
  DWORD *pDVar4;
  undefined4 uVar5;
  DWORD DVar6;
  byte local_11;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421167;
  local_10 = ExceptionList;
  uVar3 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_11 = 0;
  *param_2 = '\0';
  if (DAT_00425974 != 0) {
    pDVar4 = FUN_00407ac3('\0');
    if ((pDVar4 == (DWORD *)0x0) || (*pDVar4 == 0)) {
      local_11 = 0;
    }
    else {
      *param_2 = '\0';
      uVar5 = FUN_004076bf(param_1,*pDVar4,param_2,param_3);
      if ((char)uVar5 != '\0') {
        *(char **)(param_1 + 0x30) = param_2;
      }
      DVar6 = *pDVar4;
      local_11 = 0;
      do {
        pcVar1 = *(code **)**(undefined4 **)(DVar6 + 4);
        (*(code *)PTR_guard_check_icall_00427678)(param_1);
        bVar2 = (*pcVar1)();
        local_11 = local_11 | bVar2;
        DVar6 = *(DWORD *)(DVar6 + 8);
      } while (DVar6 != 0);
    }
  }
  pcVar1 = DAT_0042597c;
  if (DAT_0042597c != (code *)0x0) {
    if ((local_11 == 0) && ((*(byte *)(param_1 + 4) & 2) == 0)) {
      uVar5 = 0;
    }
    else {
      uVar5 = 1;
    }
    (*(code *)PTR_guard_check_icall_00427678)(uVar5,param_1,uVar3);
    (*pcVar1)();
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00407860 */

void FUN_00407860(undefined1 *param_1,char *param_2,int param_3)

{
  int iVar1;
  DWORD DVar2;
  DWORD *this;
  int iVar3;
  
  FUN_0040777e((int)param_1,param_2,param_3);
  DVar2 = GetCurrentThreadId();
  if (DAT_00425a2c != DVar2) {
    LOCK();
    iVar1 = DAT_00425a34 + 1;
    UNLOCK();
    iVar3 = DAT_00425a34 + 1;
    DAT_00425a34 = iVar1;
    if (iVar3 < 4) {
      DAT_00425a2c = DVar2;
      this = FUN_00407636(iVar3);
      if (this != (DWORD *)0x0) {
        FUN_00407578(this,param_1);
      }
      DAT_00425a2c = 0;
    }
    LOCK();
    DAT_00425a34 = DAT_00425a34 + -1;
    UNLOCK();
  }
  return;
}



/* Function: FUN_004078c5 */

void __fastcall FUN_004078c5(LPCSTR param_1)

{
  if (DAT_004259d0 == (HMODULE)0x0) {
    DAT_004259d0 = GetModuleHandleW(L"ntdll.dll");
  }
  GetProcAddress(DAT_004259d0,param_1);
  return;
}



/* Function: FUN_00407900 */

void FUN_00407900(DWORD param_1,LPWSTR param_2,DWORD param_3)

{
  if (DAT_004259d0 == (HMODULE)0x0) {
    DAT_004259d0 = GetModuleHandleW(L"ntdll.dll");
  }
  FormatMessageW(0x1a00,DAT_004259d0,param_1,0x400,param_2,param_3,(va_list *)0x0);
  return;
}



/* Function: FUN_00407950 */

undefined4 FUN_00407950(void)

{
  code *pcVar1;
  uint uVar2;
  undefined4 uVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  local_10 = ExceptionList;
  uVar2 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if ((DAT_00425a24 == (code *)0x0) &&
     (DAT_00425a24 = (code *)FUN_004078c5("RtlDllShutdownInProgress"), DAT_00425a24 == (code *)0x0))
  {
    ExceptionList = local_10;
    return 0;
  }
  pcVar1 = DAT_00425a24;
  (*(code *)PTR_guard_check_icall_00427678)(uVar2);
  uVar3 = (*pcVar1)();
  ExceptionList = local_10;
  return uVar3;
}



/* Function: FUN_004079c0 */

void FUN_004079c0(undefined1 *param_1)

{
  uint uVar1;
  FARPROC pFVar2;
  undefined4 local_34;
  undefined4 local_30;
  undefined1 local_2c;
  undefined2 local_2a;
  undefined2 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined8 local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  pFVar2 = DAT_004259b8;
  puStack_c = &LAB_004211ad;
  local_10 = ExceptionList;
  uVar1 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_24 = 0;
  local_18 = 0;
  local_34 = *(undefined4 *)(param_1 + 8);
  local_30 = *(undefined4 *)(param_1 + 0x14);
  local_2c = *param_1;
  local_2a = DAT_004259b4;
  local_28 = *(undefined2 *)(param_1 + 0x28);
  local_20 = *(undefined4 *)(param_1 + 0x24);
  local_1c = *(undefined4 *)(param_1 + 0x4c);
  local_8 = 0;
  if (DAT_004259b8 == (FARPROC)0x0) {
    if (DAT_00425a20 == (HMODULE)0x0) {
      DAT_00425a20 = GetModuleHandleW(L"kernelbase.dll");
      if (DAT_00425a20 != (HMODULE)0x0) goto LAB_00407a52;
    }
    else {
LAB_00407a52:
      pFVar2 = GetProcAddress(DAT_00425a20,"WilFailureNotifyWatchers");
    }
    DAT_004259b8 = pFVar2;
    if (pFVar2 == (FARPROC)0x0) goto LAB_00407a7e;
  }
  pFVar2 = DAT_004259b8;
  (*(code *)PTR_guard_check_icall_00427678)(0,&local_34,&local_18,uVar1);
  (*pFVar2)();
LAB_00407a7e:
  *(undefined4 *)(param_1 + 0x10) = (undefined4)local_18;
  if (local_18._4_1_ == '\x01') {
    *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) | 1;
  }
  else if (local_18._4_1_ == '\x02') {
    *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) | 2;
  }
  else if (local_18._4_1_ == '\x03') {
    *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) | 4;
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00407ac3 */

DWORD * FUN_00407ac3(char param_1)

{
  DWORD *pDVar1;
  DWORD DVar2;
  int iVar3;
  DWORD DVar4;
  DWORD *pDVar5;
  DWORD DVar6;
  DWORD *pDVar7;
  
  iVar3 = DAT_00425974;
  DVar4 = GetCurrentThreadId();
  pDVar1 = (DWORD *)(iVar3 + (DVar4 % 10) * 4);
  pDVar5 = (DWORD *)*pDVar1;
  while( true ) {
    if (pDVar5 == (DWORD *)0x0) {
      if ((param_1 == '\0') || (pDVar5 = (DWORD *)FUN_00406193(0,0xc), pDVar5 == (DWORD *)0x0)) {
        pDVar7 = (DWORD *)0x0;
      }
      else {
        pDVar5[1] = 0;
        *pDVar5 = DVar4;
        pDVar7 = pDVar5 + 2;
        *pDVar7 = 0;
        do {
          DVar2 = *(DWORD *)(iVar3 + (DVar4 % 10) * 4);
          pDVar5[1] = DVar2;
          LOCK();
          DVar6 = *pDVar1;
          if (DVar2 == DVar6) {
            *pDVar1 = (DWORD)pDVar5;
            DVar6 = DVar2;
          }
          UNLOCK();
        } while (DVar6 != DVar2);
      }
      return pDVar7;
    }
    if (*pDVar5 == DVar4) break;
    pDVar5 = (DWORD *)pDVar5[1];
  }
  return pDVar5 + 2;
}



/* Function: FUN_00407b55 */

void __fastcall FUN_00407b55(int *param_1)

{
  int *piVar1;
  LPVOID pvVar2;
  HANDLE hHeap;
  LPVOID lpMem;
  DWORD dwFlags;
  
  piVar1 = param_1 + 10;
  if (param_1 != piVar1) {
    do {
      lpMem = (LPVOID)*param_1;
      while (lpMem != (LPVOID)0x0) {
        pvVar2 = *(LPVOID *)((int)lpMem + 4);
        dwFlags = 0;
        hHeap = GetProcessHeap();
        HeapFree(hHeap,dwFlags,lpMem);
        lpMem = pvVar2;
      }
      *param_1 = 0;
      param_1 = param_1 + 1;
    } while (param_1 != piVar1);
  }
  return;
}



/* Function: FUN_00407b9a */

undefined4 __thiscall FUN_00407b9a(void *this,LONG param_1,LONG param_2,LPCWSTR param_3)

{
  HANDLE pvVar1;
  undefined4 extraout_ECX;
  undefined4 uVar2;
  
  uVar2 = 0;
  pvVar1 = CreateSemaphoreExW((LPSECURITY_ATTRIBUTES)0x0,param_1,param_2,param_3,0,0x1f0003);
  if (pvVar1 == (HANDLE)0x0) {
    uVar2 = FUN_004067d2(extraout_ECX);
  }
  else {
    GetLastError();
    FUN_00407bea(this,pvVar1);
  }
  return uVar2;
}



/* Function: FUN_00407bea */

void __thiscall FUN_00407bea(void *this,undefined4 param_1)

{
  HANDLE pvVar1;
  DWORD dwErrCode;
  
                    /* WARNING: Load size is inaccurate */
  pvVar1 = *this;
  if (pvVar1 != (HANDLE)0x0) {
    dwErrCode = GetLastError();
    FUN_00407119(pvVar1);
    SetLastError(dwErrCode);
  }
  *(undefined4 *)this = param_1;
  return;
}



/* Function: FUN_00407c21 */

void __fastcall FUN_00407c21(undefined4 param_1,undefined4 *param_2)

{
  HANDLE pvVar1;
  uint uVar2;
  undefined4 extraout_ECX;
  int *piVar3;
  undefined4 extraout_EDX;
  undefined4 uVar4;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined8 uVar5;
  undefined4 unaff_retaddr;
  int local_220 [2];
  HANDLE local_218;
  HANDLE local_214;
  wchar_t local_210 [260];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  *param_2 = 0;
  GetCurrentProcessId();
  FUN_00405da3(local_210,0x104,L"Local\\SM0:%lu:%lu:%hs");
  local_214 = (HANDLE)0x0;
  pvVar1 = CreateMutexExW((LPSECURITY_ATTRIBUTES)0x0,local_210,0,0x1f0001);
  FUN_00407bea(&local_214,pvVar1);
  if (local_214 == (HANDLE)0x0) {
    FUN_004067d2(extraout_ECX);
    uVar4 = extraout_EDX;
    goto LAB_00407d3b;
  }
  FUN_00407f9c(&local_214,&local_218);
  local_220[0] = 0;
  local_220[1] = 0;
  uVar5 = FUN_00407335(local_210,local_220);
  uVar4 = (undefined4)((ulonglong)uVar5 >> 0x20);
  uVar2 = (uint)uVar5;
  if ((int)uVar2 < 0) {
    FUN_00406ff8(unaff_retaddr,100,&DAT_004028f4,uVar2);
    FUN_00406ff8(unaff_retaddr,0x6d,&DAT_004028f4,uVar2);
    uVar4 = 299;
LAB_00407d6f:
    FUN_00406ff8(unaff_retaddr,uVar4,&DAT_004028f4,uVar2);
    uVar4 = extraout_EDX_03;
  }
  else {
    piVar3 = (int *)(local_220[0] << 2);
    if (piVar3 == (int *)0x0) {
      uVar2 = FUN_00407e7c((int)local_210,&local_214,param_2);
      uVar4 = extraout_EDX_02;
      if ((int)uVar2 < 0) {
        uVar4 = 0x134;
        goto LAB_00407d6f;
      }
    }
    else {
      *param_2 = piVar3;
      *(int *)*param_2 = *piVar3 + 1;
    }
  }
  if (local_218 != (HANDLE)0x0) {
    FUN_00407146(local_218);
    uVar4 = extraout_EDX_00;
  }
  if (local_214 != (HANDLE)0x0) {
    FUN_00407119(local_214);
    uVar4 = extraout_EDX_01;
  }
LAB_00407d3b:
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar4);
  return;
}



/* Function: FUN_00407d7f */

int __fastcall FUN_00407d7f(int *param_1)

{
  code *pcVar1;
  char cVar2;
  int iVar3;
  DWORD DVar4;
  HANDLE hHeap;
  int *piVar5;
  int *local_8;
  
  pcVar1 = DAT_0042598c;
  if (DAT_004259a0 == '\0') {
    local_8 = param_1;
    if (DAT_0042598c != (code *)0x0) {
      (*(code *)PTR_guard_check_icall_00427678)();
      cVar2 = (*pcVar1)();
      if (cVar2 != '\0') goto LAB_00407e1c;
    }
    iVar3 = FUN_00407f9c(param_1 + 1,&local_8);
    *param_1 = *param_1 + -1;
    piVar5 = local_8;
    if (*param_1 == 0) {
      FUN_00407bea(param_1 + 2,0);
      FUN_00407bea(param_1 + 3,0);
      if (local_8 != (int *)0x0) {
        DVar4 = GetLastError();
        FUN_00407146(local_8);
        SetLastError(DVar4);
      }
      FUN_00407e2a((int)param_1);
      DVar4 = 0;
      hHeap = GetProcessHeap();
      iVar3 = HeapFree(hHeap,DVar4,param_1);
      piVar5 = (int *)0x0;
    }
    if (piVar5 != (int *)0x0) {
      iVar3 = FUN_00407146(piVar5);
    }
  }
  else {
LAB_00407e1c:
    *param_1 = *param_1 + -1;
    iVar3 = *param_1;
  }
  return iVar3;
}



/* Function: FUN_00407e2a */

void __fastcall FUN_00407e2a(int param_1)

{
  FUN_00407f41((int *)(param_1 + 0x18));
  FUN_00407e55((int *)(param_1 + 8));
  if (*(int *)(param_1 + 4) != 0) {
    FUN_00407119(*(HANDLE *)(param_1 + 4));
  }
  return;
}



/* Function: FUN_00407e55 */

void __fastcall FUN_00407e55(int *param_1)

{
  if (param_1[1] != 0) {
    FUN_00407119((HANDLE)param_1[1]);
  }
  if (*param_1 != 0) {
    FUN_00407119((HANDLE)*param_1);
  }
  return;
}



/* Function: FUN_00407e7c */

uint __fastcall FUN_00407e7c(int param_1,undefined4 *param_2,undefined4 *param_3)

{
  code *pcVar1;
  LPVOID pvVar2;
  uint uVar3;
  undefined4 unaff_retaddr;
  LPVOID local_18;
  LPVOID local_14;
  int local_10 [3];
  
  *param_3 = 0;
  local_18 = FUN_00406193(8,0x40);
  local_14 = local_18;
  if (local_18 == (LPVOID)0x0) {
    uVar3 = 0x8007000e;
    FUN_00406ff8(unaff_retaddr,0x148,&DAT_004028f4,0x8007000e);
  }
  else {
    local_10[0] = 0;
    local_10[1] = 0;
    if (((uint)local_18 & 3) != 0) {
      FUN_0040710d();
      pcVar1 = (code *)swi(3);
      uVar3 = (*pcVar1)();
      return uVar3;
    }
    uVar3 = FUN_00407171(local_10,param_1,0,(uint)local_18 >> 2,0);
    pvVar2 = local_14;
    if ((int)uVar3 < 0) {
      FUN_00406ff8(unaff_retaddr,0x14b,&DAT_004028f4,uVar3);
    }
    else {
      FUN_00407fff(local_14,param_2,local_10);
      local_18 = (LPVOID)0x0;
      *param_3 = pvVar2;
      uVar3 = 0;
    }
    FUN_00407e55(local_10);
  }
  FUN_00407fdf((int *)&local_18);
  return uVar3;
}



/* Function: FUN_00407f41 */

void __fastcall FUN_00407f41(int *param_1)

{
  int *piVar1;
  LPVOID pvVar2;
  HANDLE hHeap;
  DWORD dwFlags;
  LPVOID lpMem;
  
  piVar1 = param_1 + 10;
  if (param_1 != piVar1) {
    do {
      lpMem = (LPVOID)*param_1;
      while (lpMem != (LPVOID)0x0) {
        pvVar2 = *(LPVOID *)((int)lpMem + 4);
        FUN_00407509((int)lpMem + 8);
        dwFlags = 0;
        hHeap = GetProcessHeap();
        HeapFree(hHeap,dwFlags,lpMem);
        lpMem = pvVar2;
      }
      *param_1 = 0;
      param_1 = param_1 + 1;
    } while (param_1 != piVar1);
  }
  return;
}



/* Function: FUN_00407f9c */

void __thiscall FUN_00407f9c(void *this,undefined4 *param_1)

{
  code *pcVar1;
  DWORD DVar2;
  HANDLE hHandle;
  undefined4 unaff_retaddr;
  
                    /* WARNING: Load size is inaccurate */
  hHandle = *this;
  DVar2 = WaitForSingleObjectEx(hHandle,0xffffffff,0);
  if (DVar2 == 0x102) {
    hHandle = (HANDLE)0x0;
  }
  else if ((DVar2 != 0) && (DVar2 != 0x80)) {
    FUN_004070cc(unaff_retaddr);
    pcVar1 = (code *)swi(3);
    (*pcVar1)();
    return;
  }
  *param_1 = hHandle;
  return;
}



/* Function: FUN_00407fdf */

void __fastcall FUN_00407fdf(int *param_1)

{
  HANDLE hHeap;
  DWORD dwFlags;
  LPVOID lpMem;
  
  lpMem = (LPVOID)*param_1;
  *param_1 = 0;
  if (lpMem != (LPVOID)0x0) {
    dwFlags = 0;
    hHeap = GetProcessHeap();
    HeapFree(hHeap,dwFlags,lpMem);
  }
  return;
}



/* Function: FUN_00407fff */

undefined4 * __thiscall FUN_00407fff(void *this,undefined4 *param_1,undefined4 *param_2)

{
  int iVar1;
  undefined4 *puVar2;
  
  *(undefined4 *)this = 1;
  *(undefined4 *)((int)this + 4) = *param_1;
  *param_1 = 0;
  *(undefined4 *)((int)this + 8) = *param_2;
  *param_2 = 0;
  *(undefined4 *)((int)this + 0xc) = param_2[1];
  param_2[1] = 0;
  memset((undefined2 *)((int)this + 0x10),0,0x30);
  *(undefined2 *)((int)this + 0x10) = 0x30;
  *(undefined4 *)((int)this + 0x14) = 1;
  puVar2 = (undefined4 *)((int)this + 0x18);
  for (iVar1 = 10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  return (undefined4 *)this;
}



/* Function: FUN_00408063 */

void __fastcall
FUN_00408063(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,uint param_7)

{
  uint local_14;
  uint local_10;
  undefined4 local_c;
  
  local_14 = param_7;
  local_10 = FUN_00406511(param_7);
  local_c = 0;
  FUN_00408186(param_1,param_2,param_3,param_4,param_5,param_6,(int *)&local_14);
  return;
}



/* Function: FUN_004080b3 */

void * __fastcall FUN_004080b3(void *param_1,void *param_2,short *param_3,undefined4 *param_4)

{
  uint _MaxCount;
  
  if (((param_1 == param_2) || (param_3 == (short *)0x0)) || (*param_3 == 0)) {
    if (param_4 != (undefined4 *)0x0) {
      *param_4 = 0;
    }
  }
  else {
    _MaxCount = FUN_0040680d(param_3);
    if ((uint)((int)param_2 - (int)param_1) < _MaxCount) {
      if (param_4 != (undefined4 *)0x0) {
        *param_4 = 0;
      }
    }
    else {
      memcpy_s(param_1,(int)param_2 - (int)param_1,param_3,_MaxCount);
      if (param_4 != (undefined4 *)0x0) {
        *param_4 = param_1;
      }
      param_1 = (void *)(_MaxCount + (int)param_1);
    }
  }
  return param_1;
}



/* Function: FUN_00408123 */

char * __fastcall FUN_00408123(char *param_1,char *param_2,char *param_3,undefined4 *param_4)

{
  char *_MaxCount;
  char *extraout_ECX;
  char *extraout_ECX_00;
  char *pcVar1;
  
  pcVar1 = param_1;
  if (((param_1 != param_2) && (param_3 != (char *)0x0)) && (*param_3 != '\0')) {
    _MaxCount = FUN_004067ef(param_3);
    pcVar1 = extraout_ECX;
    if (_MaxCount <= param_2 + -(int)param_1) {
      memcpy_s(param_1,(rsize_t)(param_2 + -(int)param_1),param_3,(rsize_t)_MaxCount);
      if (param_4 == (undefined4 *)0x0) {
        return extraout_ECX_00;
      }
      *param_4 = param_1;
      return extraout_ECX_00;
    }
  }
  if (param_4 != (undefined4 *)0x0) {
    *param_4 = 0;
  }
  return pcVar1;
}



/* Function: FUN_00408186 */

void __fastcall
FUN_00408186(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int *param_7)

{
  FUN_00408520(param_1,param_2,param_3,param_4,param_5,param_6,param_7,(short *)0x0);
  return;
}



/* Function: FUN_004081ae */

/* WARNING: Function: __alloca_probe replaced with injection: alloca_probe */

void __fastcall FUN_004081ae(undefined4 param_1,undefined4 param_2)

{
  code *pcVar1;
  char cVar2;
  uint uVar3;
  BOOL BVar4;
  undefined4 in_stack_00000010;
  int *in_stack_00000014;
  undefined4 local_1474;
  uint local_1470;
  int local_146c;
  uint local_1468;
  int local_1464;
  undefined4 local_1460;
  DWORD local_145c;
  undefined4 local_1458;
  undefined4 local_1454;
  char *local_1450;
  undefined4 local_144c;
  undefined4 local_1448;
  undefined4 local_1444;
  undefined4 local_1440;
  undefined4 uStack_143c;
  undefined4 uStack_1438;
  undefined4 local_1434;
  undefined4 uStack_1430;
  undefined4 uStack_142c;
  undefined4 local_1428;
  undefined4 local_1424;
  undefined4 local_1420;
  undefined4 local_141c;
  undefined4 local_1418;
  wchar_t local_1414 [2048];
  undefined1 local_414 [1024];
  undefined4 uStack_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_004211d0;
  local_10 = ExceptionList;
  uStack_14 = 0x4081cb;
  uVar3 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_1418 = in_stack_00000010;
  local_8 = 0;
  local_1414[0] = L'\0';
  local_414[0] = 0;
  local_146c = *in_stack_00000014;
  local_1468 = in_stack_00000014[1];
  local_141c = param_1;
  local_1448 = FUN_00406360(local_146c);
  local_1474 = 3;
  local_1470 = 0;
  if (in_stack_00000014[2] == 1) {
    local_1470 = 8;
  }
  LOCK();
  UNLOCK();
  local_1464 = DAT_004259c8 + 1;
  local_1460 = 0;
  DAT_004259c8 = DAT_004259c8 + 1;
  local_145c = GetCurrentThreadId();
  pcVar1 = DAT_004259ac;
  local_1424 = local_1418;
  local_1420 = local_141c;
  local_1450 = "onecore\\internal\\sdk\\inc\\wil\\opensource\\wil\\resource.h";
  local_1458 = 0;
  local_1454 = 0;
  local_1444 = 0;
  local_1434 = 0;
  uStack_1430 = 0;
  uStack_142c = 0;
  local_1440 = 0;
  uStack_143c = 0;
  uStack_1438 = 0;
  local_144c = param_2;
  if (DAT_004259ac == (code *)0x0) {
    local_1428 = 0;
  }
  else {
    (*(code *)PTR_guard_check_icall_00427678)(uVar3);
    local_1428 = (*pcVar1)();
  }
  pcVar1 = DAT_00425970;
  if (DAT_00425970 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(&local_1474);
    (*pcVar1)();
  }
  pcVar1 = DAT_00425988;
  if (DAT_00425988 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(&local_1474,local_414,0x400);
    (*pcVar1)();
  }
  pcVar1 = DAT_00425984;
  if (DAT_00425984 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(&local_1474);
    (*pcVar1)();
  }
  pcVar1 = DAT_00425998;
  if ((DAT_00425998 != (code *)0x0) && ((local_1470 & 2) == 0)) {
    (*(code *)PTR_guard_check_icall_00427678)(&local_1474);
    (*pcVar1)();
  }
  if (-1 < local_146c) {
    local_146c = -0x7fff0001;
    local_1468 = FUN_00406511(0x8000ffff);
  }
  pcVar1 = DAT_0042595c;
  if (DAT_00425964 == '\0') {
    if (DAT_0042595c == (code *)0x0) {
      BVar4 = IsDebuggerPresent();
      cVar2 = BVar4 != 0;
    }
    else {
      (*(code *)PTR_guard_check_icall_00427678)();
      cVar2 = (*pcVar1)();
    }
    if (cVar2 != '\0') goto LAB_004083a9;
  }
  else {
LAB_004083a9:
    pcVar1 = DAT_00425968;
    if ((local_1470 & 2) == 0) {
      if ((DAT_00425968 != (code *)0x0) && (DAT_00425978 == '\0')) {
        (*(code *)PTR_guard_check_icall_00427678)(&local_1474,local_1414,0x800);
        (*pcVar1)();
      }
      if (local_1414[0] == L'\0') {
        FUN_00405ed7(local_1414,0x800,(int)&local_1474);
      }
      OutputDebugStringW(local_1414);
      goto LAB_00408433;
    }
  }
  pcVar1 = DAT_00425968;
  if ((DAT_00425968 != (code *)0x0) && (DAT_00425978 == '\0')) {
    (*(code *)PTR_guard_check_icall_00427678)(&local_1474,0,0);
    (*pcVar1)();
  }
LAB_00408433:
  pcVar1 = DAT_00425990;
  if ((((local_1470 & 4) != 0) || (DAT_0042596c != '\0')) && (DAT_00425990 != (code *)0x0)) {
    (*(code *)PTR_guard_check_icall_00427678)();
    (*pcVar1)();
  }
  local_8 = 0xffffffff;
  FUN_00406e9e((int)&local_1474);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_00408473 */

void __fastcall
FUN_00408473(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,int *param_7)

{
  FUN_004085ad(param_1,param_2,param_3,param_4,param_5,param_6,param_7);
  return;
}



/* Function: FUN_00408484 */

void __fastcall
FUN_00408484(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,uint param_7)

{
  undefined4 extraout_ECX;
  uint local_10;
  uint local_c;
  undefined4 local_8;
  
  local_10 = param_7;
  local_c = FUN_00406511(param_7);
  local_8 = 0;
  FUN_00408473(param_1,param_2,param_3,extraout_ECX,extraout_ECX,param_6,(int *)&local_10);
  return;
}



/* Function: FUN_004084c7 */

uint __fastcall FUN_004084c7(int param_1,int param_2)

{
  uint uVar1;
  undefined4 extraout_ECX;
  int in_stack_00000010;
  uint local_10;
  uint local_c;
  undefined4 local_8;
  
  uVar1 = FUN_00406751(param_1,param_2,0x4028f4,param_1,param_1,in_stack_00000010);
  local_10 = uVar1;
  local_c = FUN_00406511(uVar1);
  local_8 = 0;
  FUN_00408473(param_1,param_2,&DAT_004028f4,extraout_ECX,extraout_ECX,in_stack_00000010,
               (int *)&local_10);
  return uVar1;
}



/* Function: FUN_00408520 */

/* WARNING: Function: __alloca_probe replaced with injection: alloca_probe */

void __fastcall
FUN_00408520(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int *param_7,
            short *param_8)

{
  code *pcVar1;
  undefined4 extraout_EDX;
  int local_1470;
  byte local_146c;
  int local_1414;
  wchar_t local_1410 [2048];
  undefined1 local_410 [1028];
  uint local_c;
  undefined4 uStack_8;
  
  uStack_8 = 0x40852f;
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_1414 = param_2;
  FUN_00406be7(param_1,param_2,param_3,param_4,param_5,param_6,2,param_7,param_8,param_3,local_1410,
               param_3,local_410,param_3,&local_1470);
  if ((local_146c & 1) == 0) {
    FUN_00420010(local_c ^ (uint)&stack0xfffffffc,extraout_EDX);
    return;
  }
  FUN_00406e9e((int)&local_1470);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_004085ad */

/* WARNING: Function: __alloca_probe replaced with injection: alloca_probe */

void __fastcall
FUN_004085ad(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,int *param_7)

{
  code *pcVar1;
  uint uVar2;
  BOOL BVar3;
  uint extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined4 extraout_EDX_04;
  undefined4 uVar4;
  undefined4 extraout_EDX_05;
  undefined4 extraout_EDX_06;
  undefined4 extraout_EDX_07;
  longlong lVar5;
  undefined8 uVar6;
  undefined4 local_147c;
  uint local_1478;
  int local_1474;
  int local_1470;
  int local_146c;
  undefined4 local_1468;
  DWORD local_1464;
  undefined4 local_1460;
  undefined4 local_145c;
  undefined4 local_1458;
  undefined4 local_1454;
  int local_1450;
  undefined4 local_144c;
  undefined4 local_1448;
  undefined4 uStack_1444;
  undefined4 uStack_1440;
  undefined4 local_143c;
  undefined4 uStack_1438;
  undefined4 uStack_1434;
  undefined4 local_1430;
  undefined4 local_142c;
  undefined4 local_1428;
  undefined4 local_1420;
  undefined4 local_141c;
  undefined4 local_1418;
  wchar_t local_1414 [2048];
  undefined1 local_414 [1024];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_004211f6;
  local_10 = ExceptionList;
  uVar2 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_141c = param_6;
  local_8 = 0;
  local_1414[0] = L'\0';
  local_414[0] = 0;
  local_1474 = *param_7;
  local_1470 = param_7[1];
  local_1420 = param_1;
  local_1418 = param_2;
  local_14 = uVar2;
  local_1450 = FUN_00406325(local_1474);
  local_1478 = 0;
  if (param_7[2] == 1) {
    local_1478 = 8;
  }
  local_147c = 1;
  LOCK();
  UNLOCK();
  local_146c = DAT_004259c8 + 1;
  local_1468 = 0;
  DAT_004259c8 = DAT_004259c8 + 1;
  local_1464 = GetCurrentThreadId();
  pcVar1 = DAT_004259ac;
  local_1454 = local_1418;
  local_142c = local_141c;
  local_1458 = param_3;
  local_1428 = local_1420;
  local_1460 = 0;
  local_145c = 0;
  local_144c = 0;
  local_143c = 0;
  uStack_1438 = 0;
  uStack_1434 = 0;
  local_1448 = 0;
  uStack_1444 = 0;
  uStack_1440 = 0;
  if (DAT_004259ac == (code *)0x0) {
    lVar5 = (ulonglong)extraout_EDX << 0x20;
  }
  else {
    (*(code *)PTR_guard_check_icall_00427678)(uVar2);
    lVar5 = (*pcVar1)();
  }
  pcVar1 = DAT_00425970;
  local_1430 = (undefined4)lVar5;
  if (DAT_00425970 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(&local_147c);
    (*pcVar1)();
    lVar5 = CONCAT44(extraout_EDX_00,local_1430);
  }
  pcVar1 = DAT_00425988;
  local_1430 = (undefined4)lVar5;
  if (DAT_00425988 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(&local_147c,local_414,0x400);
    (*pcVar1)();
    lVar5 = CONCAT44(extraout_EDX_01,local_1430);
  }
  pcVar1 = DAT_00425984;
  local_1430 = (undefined4)lVar5;
  if (DAT_00425984 != (code *)0x0) {
    (*(code *)PTR_guard_check_icall_00427678)(&local_147c);
    (*pcVar1)();
    lVar5 = CONCAT44(extraout_EDX_02,local_1430);
  }
  pcVar1 = DAT_00425998;
  local_1430 = (undefined4)lVar5;
  if ((DAT_00425998 != (code *)0x0) && ((local_1478 & 2) == 0)) {
    (*(code *)PTR_guard_check_icall_00427678)(&local_147c);
    (*pcVar1)();
    lVar5 = CONCAT44(extraout_EDX_03,local_1430);
  }
  pcVar1 = DAT_0042595c;
  local_1430 = (undefined4)lVar5;
  if (-1 < local_1474) {
    FUN_0040710d();
    goto LAB_0040887a;
  }
  if (DAT_00425964 == '\0') {
    if (DAT_0042595c == (code *)0x0) {
      BVar3 = IsDebuggerPresent();
      uVar2 = (uint)(BVar3 != 0);
      uVar4 = extraout_EDX_04;
    }
    else {
      (*(code *)PTR_guard_check_icall_00427678)();
      uVar6 = (*pcVar1)();
      uVar4 = (undefined4)((ulonglong)uVar6 >> 0x20);
      uVar2 = (uint)uVar6 & 0xff;
    }
    lVar5 = CONCAT44(uVar4,local_1430);
    if (uVar2 != 0) goto LAB_0040879d;
LAB_004087a6:
    pcVar1 = DAT_00425968;
    local_1430 = (undefined4)lVar5;
    if ((DAT_00425968 != (code *)0x0) && (DAT_00425978 == '\0')) {
      (*(code *)PTR_guard_check_icall_00427678)(&local_147c,0,0);
      (*pcVar1)();
      lVar5 = CONCAT44(extraout_EDX_05,local_1430);
    }
  }
  else {
LAB_0040879d:
    pcVar1 = DAT_00425968;
    local_1430 = (undefined4)lVar5;
    if ((local_1478 & 2) != 0) goto LAB_004087a6;
    if ((DAT_00425968 != (code *)0x0) && (DAT_00425978 == '\0')) {
      (*(code *)PTR_guard_check_icall_00427678)(&local_147c,local_1414,0x800);
      (*pcVar1)();
    }
    if (local_1414[0] == L'\0') {
      FUN_00405ed7(local_1414,0x800,(int)&local_147c);
    }
    OutputDebugStringW(local_1414);
    lVar5 = CONCAT44(extraout_EDX_06,local_1430);
  }
  pcVar1 = DAT_00425990;
  local_1430 = (undefined4)lVar5;
  if ((((local_1478 & 4) != 0) || (DAT_0042596c != '\0')) && (DAT_00425990 != (code *)0x0)) {
    (*(code *)PTR_guard_check_icall_00427678)();
    (*pcVar1)();
    lVar5 = CONCAT44(extraout_EDX_07,local_1430);
  }
  local_1430 = (undefined4)lVar5;
  local_8 = 0xffffffff;
  if ((local_1478 & 1) == 0) {
    ExceptionList = local_10;
    FUN_00420010(local_14 ^ (uint)&stack0xfffffffc,(int)((ulonglong)lVar5 >> 0x20));
    return;
  }
LAB_0040887a:
  FUN_00406e9e((int)&local_147c);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_004088a0 */

undefined4 __thiscall
FUN_004088a0(void *this,undefined4 param_1,int param_2,WPARAM param_3,LPARAM param_4,
            undefined4 *param_5,int param_6)

{
  int *piVar1;
  undefined4 uVar2;
  
  if ((param_6 == 0) && (param_2 == 0x423)) {
    piVar1 = *(int **)((int)this + 0x28);
    if ((piVar1 != (int *)0x0) && (*piVar1 != 0)) {
      BringWindowToTop((HWND)*piVar1);
      SetForegroundWindow((HWND)**(undefined4 **)((int)this + 0x28));
      SendMessageW((HWND)**(undefined4 **)((int)this + 0x28),0x423,param_3,param_4);
    }
    *param_5 = 0;
    uVar2 = 1;
  }
  else {
    uVar2 = 0;
  }
  return uVar2;
}



/* Function: FUN_00408903 */

undefined4 * __fastcall FUN_00408903(undefined4 *param_1)

{
  code *pcVar1;
  HANDLE pvVar2;
  DWORD DVar3;
  
  pcVar1 = DefWindowProcW_exref;
  param_1[1] = 0;
  param_1[5] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  param_1[8] = pcVar1;
  *param_1 = &PTR_FUN_00401558;
  pvVar2 = CreateMutexW((LPSECURITY_ATTRIBUTES)0x0,1,L"Windows Volume App Window");
  param_1[9] = pvVar2;
  DVar3 = GetLastError();
  if ((DVar3 == 0xb7) && (param_1[9] != 0)) {
    CloseHandle((HANDLE)param_1[9]);
    param_1[9] = 0;
  }
  param_1[10] = &DAT_00425a3c;
  return param_1;
}



/* Function: FUN_00408966 */

void __fastcall FUN_00408966(undefined4 *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421226;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_00401558;
  if (param_1[9] != 0) {
    CloseHandle((HANDLE)param_1[9]);
    param_1[9] = 0;
  }
  local_8 = 0;
  if (param_1[5] != 0) {
    FUN_0041abac((int *)param_1[5]);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_004089d1 */

bool FUN_004089d1(void)

{
  int iVar1;
  int iVar2;
  HWND hWnd;
  
  iVar2 = DAT_00425a38;
  iVar1 = *(int *)(DAT_00425a38 + 0x24);
  if (((iVar1 == 0) &&
      (hWnd = FindWindowW(L"Windows Volume App Window",L"Windows Volume App Window"),
      hWnd != (HWND)0x0)) && (hWnd != *(HWND *)(iVar2 + 4))) {
    SetForegroundWindow(hWnd);
    PostMessageW(hWnd,0x423,0,0);
  }
  return iVar1 == 0;
}



/* Function: FUN_00408a30 */

undefined4 * __thiscall FUN_00408a30(void *this,byte param_1)

{
  FUN_00408966((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_00408a60 */

void FUN_00408a60(undefined4 param_1,int param_2,undefined1 param_3,undefined4 param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                 int param_9)

{
  uint *puVar1;
  uint uVar2;
  bool bVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  
  if (param_9 != 0) {
    if (param_2 == 0) {
      *(undefined4 *)(param_9 + 0x24) = 0;
      *(undefined1 *)(param_9 + 0x28) = 0;
      *(undefined4 *)(param_9 + 0x10) = 0;
      *(undefined4 *)(param_9 + 0x14) = 0;
      *(undefined4 *)(param_9 + 0x18) = 0;
      *(undefined4 *)(param_9 + 0x1c) = 0;
      if (*(ushort *)(param_9 + 0x2a) != 0) {
        iVar5 = *(ushort *)(param_9 + 0x2a) - 1;
        memset(*(void **)(param_9 + 0x2c),0,((int)(iVar5 + (iVar5 >> 0x1f & 0x1fU)) >> 5) * 4 + 4);
      }
    }
    else if (param_2 == 1) {
      uVar6 = 0;
      *(undefined1 *)(param_9 + 0x28) = param_3;
      *(undefined4 *)(param_9 + 0x10) = param_4;
      *(undefined4 *)(param_9 + 0x18) = param_6;
      *(undefined4 *)(param_9 + 0x14) = param_5;
      *(undefined4 *)(param_9 + 0x1c) = param_7;
      *(undefined4 *)(param_9 + 0x24) = 1;
      if (*(short *)(param_9 + 0x2a) != 0) {
        do {
          uVar4 = *(uint *)(*(int *)(param_9 + 0x30) + uVar6 * 8);
          uVar2 = *(uint *)(*(int *)(param_9 + 0x30) + 4 + uVar6 * 8);
          if (((*(byte *)(param_9 + 0x28) < *(byte *)(uVar6 + *(int *)(param_9 + 0x34))) &&
              (*(byte *)(param_9 + 0x28) != 0)) ||
             ((uVar4 != 0 || uVar2 != 0 &&
              ((((uVar4 & *(uint *)(param_9 + 0x10)) == 0 &&
                 (*(uint *)(param_9 + 0x14) & uVar2) == 0 ||
                ((*(uint *)(param_9 + 0x18) & uVar4) != *(uint *)(param_9 + 0x18))) ||
               ((*(uint *)(param_9 + 0x1c) & uVar2) != *(uint *)(param_9 + 0x1c))))))) {
            bVar3 = false;
          }
          else {
            bVar3 = true;
          }
          puVar1 = (uint *)(*(int *)(param_9 + 0x2c) + (uVar6 >> 5) * 4);
          uVar4 = *puVar1;
          if (bVar3) {
            uVar4 = uVar4 | 1 << (uVar6 & 0x1f);
          }
          else {
            uVar4 = uVar4 & ~(1 << (uVar6 & 0x1f));
          }
          *puVar1 = uVar4;
          uVar6 = uVar6 + 1;
        } while (uVar6 < *(ushort *)(param_9 + 0x2a));
      }
    }
  }
  return;
}



/* Function: FUN_00408b74 */

undefined4 FUN_00408b74(void)

{
  undefined4 uVar1;
  
  if (DAT_004252e0 == 0 && DAT_004252e4 == 0) {
    uVar1 = EtwEventRegister(&DAT_00402b28,FUN_00408a60,&DAT_004252e0,&DAT_004252e0);
  }
  else {
    uVar1 = 0;
  }
  return uVar1;
}



/* Function: FUN_00408ba5 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00408ba5(void)

{
  if (DAT_004252e0 == 0 && DAT_004252e4 == 0) {
    return;
  }
  EtwEventUnregister(DAT_004252e0,DAT_004252e4);
  _DAT_004252e0 = 0;
  return;
}



/* Function: FUN_00408be0 */

undefined4 FUN_00408be0(int param_1,int param_2,undefined4 *param_3,undefined4 param_4)

{
  undefined1 uVar1;
  undefined4 uVar2;
  undefined8 uVar3;
  
  uVar2 = 0;
  *param_3 = 0;
  if (param_1 == 4) {
    uVar3 = EtwGetTraceLoggerHandle(param_4);
    uVar1 = EtwGetTraceEnableLevel(uVar3);
    uVar2 = EtwGetTraceEnableFlags(uVar3);
  }
  else {
    if (param_1 != 5) {
      return 0x57;
    }
    uVar1 = 0;
    uVar3 = 0;
  }
  if (((*(byte *)(param_2 + 0x1a) & 2) != 0) && (*(int *)(param_2 + 0x10) != 0)) {
    param_2 = *(int *)(param_2 + 0x10);
  }
  *(undefined1 *)(param_2 + 0x19) = uVar1;
  *(undefined8 *)(param_2 + 0x10) = uVar3;
  *(undefined4 *)(param_2 + 0x1c) = uVar2;
  return 0;
}



/* Function: FUN_00408c67 */

int FUN_00408c67(void)

{
  SC_HANDLE hSCManager;
  SC_HANDLE hService;
  BOOL BVar1;
  
  BVar1 = 0;
  hSCManager = OpenSCManagerW((LPCWSTR)0x0,(LPCWSTR)0x0,1);
  if (hSCManager != (SC_HANDLE)0x0) {
    hService = OpenServiceW(hSCManager,L"AudioSrv",0x12);
    if (hService != (SC_HANDLE)0x0) {
      BVar1 = ChangeServiceConfigW
                        (hService,0xffffffff,2,0xffffffff,(LPCWSTR)0x0,(LPCWSTR)0x0,(LPDWORD)0x0,
                         (LPCWSTR)0x0,(LPCWSTR)0x0,(LPCWSTR)0x0,(LPCWSTR)0x0);
      if (BVar1 != 0) {
        BVar1 = StartServiceW(hService,0,(LPCWSTR *)0x0);
      }
      CloseServiceHandle(hService);
    }
    CloseServiceHandle(hSCManager);
  }
  return (BVar1 != 0) - 1;
}



/* Function: FUN_00408cd9 */

int FUN_00408cd9(void)

{
  SC_HANDLE hSCManager;
  SC_HANDLE hService;
  BOOL BVar1;
  
  BVar1 = 0;
  hSCManager = OpenSCManagerW((LPCWSTR)0x0,(LPCWSTR)0x0,1);
  if (hSCManager != (SC_HANDLE)0x0) {
    hService = OpenServiceW(hSCManager,L"Beep",0x12);
    if (hService != (SC_HANDLE)0x0) {
      BVar1 = ChangeServiceConfigW
                        (hService,0xffffffff,1,0xffffffff,(LPCWSTR)0x0,(LPCWSTR)0x0,(LPDWORD)0x0,
                         (LPCWSTR)0x0,(LPCWSTR)0x0,(LPCWSTR)0x0,(LPCWSTR)0x0);
      if (BVar1 != 0) {
        BVar1 = StartServiceW(hService,0,(LPCWSTR *)0x0);
      }
      CloseServiceHandle(hService);
    }
    CloseServiceHandle(hSCManager);
  }
  return (BVar1 != 0) - 1;
}



/* Function: FUN_00408d4b */

void FUN_00408d4b(void)

{
  code *pcVar1;
  int *piVar2;
  HRESULT HVar3;
  int iVar4;
  int iVar5;
  int unaff_EBP;
  undefined4 unaff_retaddr;
  
  __EH_prolog3_align(0x90,8,unaff_retaddr);
  HVar3 = CoInitialize((LPVOID)0x0);
  if (HVar3 < 0) goto LAB_00408ff7;
  *(undefined4 *)(unaff_EBP + -0x18) = 0;
  *(undefined4 *)(unaff_EBP + -4) = 0;
  *(undefined4 *)(unaff_EBP + -0x1c) = 0;
  *(undefined4 *)(unaff_EBP + -0x14) = 0;
  *(undefined1 *)(unaff_EBP + -4) = 2;
  HVar3 = CoCreateInstance((IID *)&DAT_00403344,(LPUNKNOWN)0x0,0x17,(IID *)&DAT_00402ae4,
                           (LPVOID *)(unaff_EBP + -0x18));
  if (-1 < HVar3) {
    *(int **)(unaff_EBP + -0x20) = *(int **)(unaff_EBP + -0x18);
    *(undefined4 *)(unaff_EBP + -0x24) = *(undefined4 *)(**(int **)(unaff_EBP + -0x18) + 0x28);
    Ordinal_8(unaff_EBP + -0x40);
    *(undefined4 *)(unaff_EBP + -0x80) = *(undefined4 *)(unaff_EBP + -0x40);
    *(undefined4 *)(unaff_EBP + -0x7c) = *(undefined4 *)(unaff_EBP + -0x3c);
    *(undefined4 *)(unaff_EBP + -0x78) = *(undefined4 *)(unaff_EBP + -0x38);
    *(undefined4 *)(unaff_EBP + -0x74) = *(undefined4 *)(unaff_EBP + -0x34);
    Ordinal_8(unaff_EBP + -0x70);
    *(undefined4 *)(unaff_EBP + -0x90) = *(undefined4 *)(unaff_EBP + -0x70);
    *(undefined4 *)(unaff_EBP + -0x8c) = *(undefined4 *)(unaff_EBP + -0x6c);
    *(undefined4 *)(unaff_EBP + -0x88) = *(undefined4 *)(unaff_EBP + -0x68);
    *(undefined4 *)(unaff_EBP + -0x84) = *(undefined4 *)(unaff_EBP + -100);
    Ordinal_8(unaff_EBP + -0x60);
    *(undefined4 *)(unaff_EBP + -0xa0) = *(undefined4 *)(unaff_EBP + -0x60);
    *(undefined4 *)(unaff_EBP + -0x9c) = *(undefined4 *)(unaff_EBP + -0x5c);
    *(undefined4 *)(unaff_EBP + -0x98) = *(undefined4 *)(unaff_EBP + -0x58);
    *(undefined4 *)(unaff_EBP + -0x94) = *(undefined4 *)(unaff_EBP + -0x54);
    Ordinal_8(unaff_EBP + -0x50);
    *(undefined1 *)(unaff_EBP + -4) = 6;
    pcVar1 = *(code **)(unaff_EBP + -0x24);
    (*(code *)PTR_guard_check_icall_00427678)
              (*(undefined4 *)(unaff_EBP + -0x20),*(undefined4 *)(unaff_EBP + -0x50),
               *(undefined4 *)(unaff_EBP + -0x4c),*(undefined4 *)(unaff_EBP + -0x48),
               *(undefined4 *)(unaff_EBP + -0x44),*(undefined4 *)(unaff_EBP + -0xa0),
               *(undefined4 *)(unaff_EBP + -0x9c),*(undefined4 *)(unaff_EBP + -0x98),
               *(undefined4 *)(unaff_EBP + -0x94),*(undefined4 *)(unaff_EBP + -0x90),
               *(undefined4 *)(unaff_EBP + -0x8c),*(undefined4 *)(unaff_EBP + -0x88),
               *(undefined4 *)(unaff_EBP + -0x84),*(undefined4 *)(unaff_EBP + -0x80),
               *(undefined4 *)(unaff_EBP + -0x7c),*(undefined4 *)(unaff_EBP + -0x78),
               *(undefined4 *)(unaff_EBP + -0x74));
    iVar4 = (*pcVar1)();
    Ordinal_9(unaff_EBP + -0x50);
    Ordinal_9(unaff_EBP + -0x60);
    Ordinal_9(unaff_EBP + -0x70);
    *(undefined1 *)(unaff_EBP + -4) = 2;
    Ordinal_9(unaff_EBP + -0x40);
    if (-1 < iVar4) {
      piVar2 = *(int **)(unaff_EBP + -0x18);
      *(undefined4 *)(unaff_EBP + -0x24) = *(undefined4 *)(*piVar2 + 0x1c);
      iVar4 = Ordinal_2(L"Microsoft\\Windows\\Multimedia");
      *(int *)(unaff_EBP + -0x20) = iVar4;
      if (iVar4 == 0) {
        FUN_00409c00(0x8007000e);
        pcVar1 = (code *)swi(3);
        (*pcVar1)();
        return;
      }
      *(undefined1 *)(unaff_EBP + -4) = 7;
      pcVar1 = *(code **)(unaff_EBP + -0x24);
      (*(code *)PTR_guard_check_icall_00427678)(piVar2,iVar4,unaff_EBP + -0x1c);
      iVar5 = (*pcVar1)();
      *(undefined1 *)(unaff_EBP + -4) = 2;
      Ordinal_6(iVar4);
      if (-1 < iVar5) {
        pcVar1 = *(code **)(**(int **)(unaff_EBP + -0x1c) + 0x34);
        (*(code *)PTR_guard_check_icall_00427678)
                  (*(int **)(unaff_EBP + -0x1c),L"SystemSoundsService",unaff_EBP + -0x14);
        iVar4 = (*pcVar1)();
        if (-1 < iVar4) {
          pcVar1 = *(code **)(**(int **)(unaff_EBP + -0x14) + 0x28);
          (*(code *)PTR_guard_check_icall_00427678)(*(int **)(unaff_EBP + -0x14),unaff_EBP + -0x28);
          iVar4 = (*pcVar1)();
          if (-1 < iVar4) {
            if (*(short *)(unaff_EBP + -0x28) != -1) {
              pcVar1 = *(code **)(**(int **)(unaff_EBP + -0x14) + 0x2c);
              (*(code *)PTR_guard_check_icall_00427678)(*(int **)(unaff_EBP + -0x14),0xffffffff);
              iVar4 = (*pcVar1)();
              if (iVar4 < 0) goto LAB_00408fdf;
            }
            *(undefined4 *)(unaff_EBP + -0x2c) = 0;
            *(undefined4 *)(unaff_EBP + -0x20) = 0;
            *(undefined1 *)(unaff_EBP + -4) = 8;
            pcVar1 = *(code **)(**(int **)(unaff_EBP + -0x14) + 0x38);
            (*(code *)PTR_guard_check_icall_00427678)
                      (*(int **)(unaff_EBP + -0x14),0,unaff_EBP + -0x20);
            iVar4 = (*pcVar1)();
            if (-1 < iVar4) {
              pcVar1 = *(code **)(**(int **)(unaff_EBP + -0x20) + 0x1c);
              (*(code *)PTR_guard_check_icall_00427678)
                        (*(int **)(unaff_EBP + -0x20),unaff_EBP + -0x2c);
              iVar4 = (*pcVar1)();
              if (-1 < iVar4) {
                *(undefined1 *)(unaff_EBP + -4) = 2;
                ~CComPtr<>((int *)(unaff_EBP + -0x20));
                if (*(int *)(unaff_EBP + -0x2c) == 0) {
                  *(int **)(unaff_EBP + -0x24) = *(int **)(unaff_EBP + -0x14);
                  *(undefined4 *)(unaff_EBP + -0x20) =
                       *(undefined4 *)(**(int **)(unaff_EBP + -0x14) + 0x30);
                  Ordinal_8(unaff_EBP + -0x40);
                  *(undefined1 *)(unaff_EBP + -4) = 9;
                  pcVar1 = *(code **)(unaff_EBP + -0x20);
                  (*(code *)PTR_guard_check_icall_00427678)
                            (*(undefined4 *)(unaff_EBP + -0x24),*(undefined4 *)(unaff_EBP + -0x40),
                             *(undefined4 *)(unaff_EBP + -0x3c),*(undefined4 *)(unaff_EBP + -0x38),
                             *(undefined4 *)(unaff_EBP + -0x34),0);
                  (*pcVar1)();
                  Ordinal_9(unaff_EBP + -0x40);
                }
                goto LAB_00408fdf;
              }
            }
            ~CComPtr<>((int *)(unaff_EBP + -0x20));
          }
        }
      }
    }
  }
LAB_00408fdf:
  ~CComPtr<>((int *)(unaff_EBP + -0x14));
  ~CComPtr<>((int *)(unaff_EBP + -0x1c));
  ~CComPtr<>((int *)(unaff_EBP + -0x18));
LAB_00408ff7:
  CoUninitialize();
  __EH_epilog3_align();
  return;
}



/* Function: ~CComPtr<> */

void __fastcall ~CComPtr<>(int *param_1)

{
  int *piVar1;
  code *pcVar2;
  void *pvStack_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  pvStack_10 = ExceptionList;
  ExceptionList = &pvStack_10;
  piVar1 = (int *)*param_1;
  if (piVar1 != (int *)0x0) {
    pcVar2 = *(code **)(*piVar1 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1,DAT_004254c0 ^ (uint)&stack0xfffffffc);
    (*pcVar2)();
  }
  ExceptionList = pvStack_10;
  return;
}



/* Function: FUN_00409024 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int __fastcall FUN_00409024(LPCWSTR param_1)

{
  LPWSTR pWVar1;
  WCHAR WVar2;
  LPWSTR *hMem;
  int iVar3;
  short *pv;
  LPWSTR pWVar4;
  int iVar5;
  LPCWSTR local_c;
  LPCWSTR local_8;
  
  iVar5 = 0;
  local_c = param_1;
  local_8 = param_1;
  hMem = CommandLineToArgvW(param_1,(int *)&local_8);
  if (0 < (int)local_8) {
    iVar5 = _wcsicmp(*hMem,L"-s");
    if (iVar5 == 0) {
      iVar5 = 8;
    }
    else {
      iVar5 = _wcsicmp(*hMem,L"-f");
      if (iVar5 == 0) {
        iVar5 = 1;
      }
      else {
        iVar5 = _wcsicmp(*hMem,L"-r");
        if (iVar5 == 0) {
          iVar5 = 6;
        }
        else {
          iVar5 = _wcsicmp(*hMem,L"-p");
          if (iVar5 == 0) {
            iVar5 = 0x10;
          }
          else {
            iVar5 = _wcsicmp(*hMem,L"-a");
            iVar5 = (-(uint)(iVar5 != 0) & 0xffffffe0) + 0x22;
          }
        }
      }
    }
    if (1 < (int)local_8) {
      iVar3 = _wtoi(hMem[1]);
      _DAT_00425524 = (int)(short)iVar3;
      _DAT_00425528 = (int)(short)((uint)iVar3 >> 0x10);
    }
    if (2 < (int)local_8) {
      DAT_00425a90 = wcstol(hMem[2],(wchar_t **)0x0,10);
    }
    if (3 < (int)local_8) {
      pWVar4 = hMem[3];
      pWVar1 = pWVar4 + 1;
      do {
        WVar2 = *pWVar4;
        pWVar4 = pWVar4 + 1;
      } while (WVar2 != L'\0');
      iVar3 = (int)pWVar4 - (int)pWVar1 >> 1;
      local_c = (LPCWSTR)(iVar3 + 1);
      pv = (short *)CoTaskMemAlloc(iVar3 * 2 + 2);
      DAT_00425a9c = pv;
      if (pv != (short *)0x0) {
        if (local_c != (LPCWSTR)0x0) {
          if (local_c < (LPCWSTR)0x80000000) {
            iVar3 = FUN_00409b71(pv,(int)local_c,(int *)&local_c,(int)hMem[3]);
            if (-1 < iVar3) goto LAB_00409177;
          }
          else {
            *pv = 0;
          }
        }
        CoTaskMemFree(pv);
        DAT_00425a9c = (short *)0x0;
      }
    }
  }
LAB_00409177:
  if (hMem != (LPWSTR *)0x0) {
    GlobalFree(hMem);
  }
  return iVar5;
}



/* Function: FUN_0040918f */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_0040918f(undefined4 param_1,undefined4 param_2,LPCWSTR param_3)

{
  int *piVar1;
  code *pcVar2;
  bool bVar3;
  ushort uVar4;
  uint uVar5;
  int iVar6;
  undefined3 extraout_var;
  HRESULT HVar7;
  undefined3 extraout_var_00;
  HWND pHVar8;
  undefined4 extraout_ECX;
  undefined4 *puVar9;
  undefined4 unaff_EDI;
  int *piVar10;
  undefined1 auStack_7c [4];
  int local_78;
  undefined4 local_74;
  INITCOMMONCONTROLSEX IStack_70;
  undefined4 uStack_68;
  undefined **ppuStack_64;
  undefined4 uStack_60;
  int aiStack_5c [3];
  undefined4 uStack_50;
  undefined4 uStack_4c;
  undefined4 uStack_48;
  undefined4 uStack_44;
  undefined4 uStack_40;
  undefined4 uStack_3c;
  undefined4 uStack_38;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  
  _DAT_00425a58 = 1;
  puVar9 = &DAT_00425a40;
  _DAT_00425a50 = 0;
  DAT_00425a40 = 0;
  piVar10 = (int *)&DAT_00425a68;
  _DAT_00425a5c = 0;
  DAT_00425a68 = &DAT_00402af4;
  PTR_LOOP_004252dc = (undefined *)&DAT_00425a40;
  do {
    local_74 = 0;
    local_78 = *piVar10;
    piVar10 = piVar10 + 1;
    puVar9[8] = local_78;
    EtwRegisterTraceGuidsW(FUN_00408be0,puVar9,local_78,1,&local_78,0,0,puVar9 + 2);
    puVar9 = (undefined4 *)*puVar9;
  } while (puVar9 != (undefined4 *)0x0);
  ImmDisableIME(0);
  FUN_00408b74();
  HeapSetInformation((HANDLE)0x0,HeapEnableTerminationOnCorruption,(PVOID)0x0,0);
  uVar5 = FUN_00409024(param_3);
  if (uVar5 == 8) {
    iVar6 = FUN_00408c67();
    if ((iVar6 == 0) && (iVar6 = FUN_00408cd9(), iVar6 == 0)) {
      iVar6 = FUN_00408d4b();
    }
  }
  else {
    SetProcessDPIAware();
    puVar9 = (undefined4 *)FUN_0041f39d(0x2c);
    if (puVar9 == (undefined4 *)0x0) {
      DAT_00425a38 = (int *)0x0;
    }
    else {
      DAT_00425a38 = FUN_00408903(puVar9);
      if (DAT_00425a38 != (int *)0x0) {
        if (((uVar5 & 4) != 0) || (bVar3 = FUN_004089d1(), CONCAT31(extraout_var,bVar3) == 0)) {
          IStack_70.dwSize = 8;
          IStack_70.dwICC = 0x8000;
          InitCommonControlsEx(&IStack_70);
          ppuStack_64 = (undefined **)0x0;
          uStack_60 = 0;
          aiStack_5c[0] = 0;
          uStack_68 = 1;
          GdiplusStartup(auStack_7c,&uStack_68,0);
          HVar7 = CoInitialize((LPVOID)0x0);
          if (-1 < HVar7) {
            DAT_00425aa8 = param_1;
            bVar3 = FUN_0041aec9();
            if (CONCAT31(extraout_var_00,bVar3) != 0) {
              DAT_00425a98 = 1;
              SetProcessDefaultLayout(1);
            }
            piVar10 = DAT_00425a38;
            if (DAT_00425040 == 0) {
              DAT_00425040 = 0;
            }
            uVar4 = FUN_00409992((WNDCLASSEXW *)&DAT_00425010,(UINT *)(DAT_00425a38 + 8));
            FUN_0040987c(piVar10,extraout_ECX,(int *)0x0,L"Windows Volume App Window",0,0,(HMENU)0x0
                         ,uVar4);
            if ((uVar5 & 1) == 0) {
              if ((uVar5 & 2) == 0) {
                if ((uVar5 & 0x10) != 0) {
                  ppuStack_64 = &PTR_FUN_00401658;
                  uStack_60 = 0;
                  uStack_50 = 0;
                  uStack_4c = 0;
                  uStack_48 = 0;
                  uStack_3c = 0;
                  uStack_40 = 0;
                  uStack_44 = 0;
                  uStack_30 = 0;
                  uStack_34 = 0;
                  uStack_38 = 0;
                  uStack_28 = 0;
                  uStack_24 = 0;
                  uStack_20 = 0;
                  uStack_1c = 0;
                  pHVar8 = GetActiveWindow();
                  iVar6 = FUN_00409c80(aiStack_5c,0,0);
                  if (iVar6 == 0) {
                    SetLastError(0xe);
                  }
                  else {
                    FUN_00409b19(aiStack_5c,(int)&ppuStack_64);
                    DialogBoxParamW((HINSTANCE)PTR_IMAGE_DOS_HEADER_00425350,(LPCWSTR)0xcb,pHVar8,
                                    FUN_00409690,0);
                  }
                  FUN_00412158(&ppuStack_64);
                }
              }
              else {
                DAT_00425a94 = uVar5 >> 5 & 1;
                SetWindowLongW((HWND)DAT_00425a38[1],-0x15,2);
                puVar9 = (undefined4 *)FUN_0041f39d(0x3ac);
                if (puVar9 == (undefined4 *)0x0) {
                  puVar9 = (undefined4 *)0x0;
                }
                else {
                  puVar9 = FUN_0040a620(puVar9);
                }
                pHVar8 = GetActiveWindow();
                FUN_0040962c(puVar9,pHVar8);
                pcVar2 = *(code **)(puVar9[8] + 8);
                (*(code *)PTR_guard_check_icall_00427678)(puVar9 + 8);
                (*pcVar2)();
              }
            }
            else {
              Ordinal_2575(1);
              SetWindowLongW((HWND)DAT_00425a38[1],-0x15,1);
              puVar9 = (undefined4 *)FUN_0041f39d(0x90);
              if (puVar9 == (undefined4 *)0x0) {
                piVar10 = (int *)0x0;
              }
              else {
                piVar10 = FUN_0040e196(puVar9);
              }
              pHVar8 = GetActiveWindow();
              FUN_004095b9(piVar10,pHVar8);
              LOCK();
              piVar1 = piVar10 + 8;
              iVar6 = *piVar1;
              *piVar1 = *piVar1 + -1;
              UNLOCK();
              if ((iVar6 == 1) && (piVar10 != (int *)0x0)) {
                pcVar2 = *(code **)(*piVar10 + 4);
                (*(code *)PTR_guard_check_icall_00427678)(1);
                (*pcVar2)();
              }
            }
            DestroyWindow((HWND)DAT_00425a38[1]);
            if (DAT_00425a38 != (int *)0x0) {
              pcVar2 = *(code **)(*DAT_00425a38 + 4);
              (*(code *)PTR_guard_check_icall_00427678)(1);
              (*pcVar2)();
            }
            DAT_00425a38 = (int *)0x0;
            if (DAT_00425aa4 != (HGDIOBJ)0x0) {
              DeleteObject(DAT_00425aa4);
            }
            if (DAT_00425a9c != (LPVOID)0x0) {
              CoTaskMemFree(DAT_00425a9c);
            }
            DAT_00425a9c = (LPVOID)0x0;
            GdiplusShutdown(unaff_EDI);
            FUN_00408ba5();
          }
          puVar9 = (undefined4 *)PTR_LOOP_004252dc;
          if ((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) {
            for (; puVar9 != (undefined4 *)0x0; puVar9 = (undefined4 *)*puVar9) {
              if (puVar9[2] != 0 || puVar9[3] != 0) {
                EtwUnregisterTraceGuids(puVar9[2],puVar9[3]);
                puVar9[2] = 0;
                puVar9[3] = 0;
              }
            }
            PTR_LOOP_004252dc = (undefined *)&PTR_LOOP_004252dc;
          }
        }
        return 0;
      }
    }
    iVar6 = -1;
  }
  return iVar6;
}



/* Function: ~CComPtr<> */

/* Library Function - Multiple Matches With Same Base Name
    public: __thiscall ATL::CComPtr<struct IAMAudioInputMixer>::~CComPtr<struct
   IAMAudioInputMixer>(void)
    public: __thiscall ATL::CComPtr<struct IAMResourceControl>::~CComPtr<struct
   IAMResourceControl>(void)
    public: __thiscall ATL::CComPtr<struct IBaseFilter>::~CComPtr<struct IBaseFilter>(void)
    public: __thiscall ATL::CComPtr<struct IBasicAudio>::~CComPtr<struct IBasicAudio>(void)
     10 names - too many to list
   
   Library: Visual Studio 2019 Release */

void __fastcall ~CComPtr<>(int *param_1)

{
  int *piVar1;
  code *pcVar2;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  piVar1 = (int *)*param_1;
  if (piVar1 != (int *)0x0) {
    pcVar2 = *(code **)(*piVar1 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1,DAT_004254c0 ^ (uint)&stack0xfffffffc);
    (*pcVar2)();
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_004095b9 */

INT_PTR __thiscall FUN_004095b9(void *this,HWND param_1)

{
  int iVar1;
  INT_PTR IVar2;
  
  iVar1 = FUN_00409c80((int *)((int)this + 8),0,0);
  if (iVar1 == 0) {
    SetLastError(0xe);
    IVar2 = -1;
  }
  else {
    FUN_00409b19((int *)((int)this + 8),(int)this);
    IVar2 = DialogBoxParamW((HINSTANCE)PTR_IMAGE_DOS_HEADER_00425350,(LPCWSTR)0xcc,param_1,
                            FUN_00409690,0);
  }
  return IVar2;
}



/* Function: FUN_00409610 */

void FUN_00409610(void)

{
  return;
}



/* Function: FUN_00409620 */

undefined * FUN_00409620(void)

{
  return FUN_00409770;
}



/* Function: FUN_0040962c */

INT_PTR __thiscall FUN_0040962c(void *this,HWND param_1)

{
  int iVar1;
  INT_PTR IVar2;
  
  iVar1 = FUN_00409c80((int *)((int)this + 8),0,0);
  if (iVar1 == 0) {
    SetLastError(0xe);
    IVar2 = -1;
  }
  else {
    FUN_00409b19((int *)((int)this + 8),(int)this);
    IVar2 = DialogBoxParamW((HINSTANCE)PTR_IMAGE_DOS_HEADER_00425350,
                            (LPCWSTR)(uint)*(ushort *)((int)this + 0x220),param_1,FUN_00409690,0);
  }
  return IVar2;
}



/* Function: FUN_00409690 */

void FUN_00409690(HWND param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  int *piVar4;
  
  piVar1 = (int *)FUN_00409c23();
  if (piVar1 != (int *)0x0) {
    pcVar3 = *(code **)(*piVar1 + 8);
    piVar1[1] = (int)param_1;
    piVar4 = piVar1;
    (*(code *)PTR_guard_check_icall_00427678)();
    iVar2 = (*pcVar3)();
    FUN_00409c80(piVar1 + 2,iVar2,piVar4);
    pcVar3 = (code *)FUN_0041aa8b((int *)piVar1[5]);
    SetWindowLongW(param_1,4,(LONG)pcVar3);
    (*(code *)PTR_guard_check_icall_00427678)(param_1,param_2,param_3,param_4);
    (*pcVar3)();
  }
  return;
}



/* Function: FUN_00409700 */

void FUN_00409700(HWND param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  int *piVar4;
  
  piVar1 = (int *)FUN_00409c23();
  if (piVar1 != (int *)0x0) {
    pcVar3 = *(code **)(*piVar1 + 8);
    piVar1[1] = (int)param_1;
    piVar4 = piVar1;
    (*(code *)PTR_guard_check_icall_00427678)();
    iVar2 = (*pcVar3)();
    FUN_00409c80(piVar1 + 2,iVar2,piVar4);
    pcVar3 = (code *)FUN_0041aa8b((int *)piVar1[5]);
    SetWindowLongW(param_1,-4,(LONG)pcVar3);
    (*(code *)PTR_guard_check_icall_00427678)(param_1,param_2,param_3,param_4);
    (*pcVar3)();
  }
  return;
}



/* Function: FUN_00409770 */

LRESULT FUN_00409770(int *param_1,UINT param_2,WPARAM param_3,LPARAM param_4)

{
  code *pcVar1;
  int iVar2;
  LONG LVar3;
  LONG LVar4;
  int extraout_ECX;
  undefined1 local_30 [36];
  int local_c;
  LRESULT local_8;
  
  FUN_00409cb5(local_30,param_1[1],param_2,param_3,param_4);
  local_c = param_1[6];
  param_1[6] = extraout_ECX;
  pcVar1 = *(code **)*param_1;
  (*(code *)PTR_guard_check_icall_00427678)(param_1[1],param_2,param_3,param_4,&local_8,0);
  iVar2 = (*pcVar1)();
  if (iVar2 == 0) {
    if (param_2 == 0x82) {
      LVar3 = GetWindowLongW((HWND)param_1[1],-4);
      local_8 = CallWindowProcW((WNDPROC)param_1[8],(HWND)param_1[1],0x82,param_3,param_4);
      if ((code *)param_1[8] != DefWindowProcW_exref) {
        LVar4 = GetWindowLongW((HWND)param_1[1],-4);
        if (LVar4 == LVar3) {
          SetWindowLongW((HWND)param_1[1],-4,param_1[8]);
        }
      }
      param_1[7] = param_1[7] | 1;
    }
    else {
      local_8 = CallWindowProcW((WNDPROC)param_1[8],(HWND)param_1[1],param_2,param_3,param_4);
    }
  }
  if (((param_1[7] & 1U) == 0) || (local_c != 0)) {
    param_1[6] = local_c;
  }
  else {
    iVar2 = param_1[1];
    param_1[1] = 0;
    param_1[6] = 0;
    param_1[7] = param_1[7] & 0xfffffffe;
    pcVar1 = *(code **)(*param_1 + 0xc);
    (*(code *)PTR_guard_check_icall_00427678)(iVar2);
    (*pcVar1)();
  }
  return local_8;
}



/* Function: FUN_0040987c */

HWND __thiscall
FUN_0040987c(void *this,undefined4 param_1,int *param_2,LPCWSTR param_3,uint param_4,DWORD param_5,
            HMENU param_6,ushort param_7)

{
  int iVar1;
  HWND pHVar2;
  
  iVar1 = FUN_00409c80((int *)((int)this + 8),0,0);
  if (iVar1 == 0) {
    SetLastError(0xe);
    pHVar2 = (HWND)0x0;
  }
  else if (param_7 == 0) {
    pHVar2 = (HWND)0x0;
  }
  else {
    FUN_00409b19((int *)((int)this + 8),(int)this);
    if ((param_6 == (HMENU)0x0) && ((param_4 & 0x40000000) != 0)) {
      param_6 = (HMENU)this;
    }
    if (param_2 == (int *)0x0) {
      param_2 = &DAT_00425514;
    }
    pHVar2 = CreateWindowExW(param_5,(LPCWSTR)(uint)param_7,param_3,param_4,*param_2,param_2[1],
                             param_2[2] - *param_2,param_2[3] - param_2[1],(HWND)0x0,param_6,
                             (HINSTANCE)PTR_IMAGE_DOS_HEADER_0042534c,(LPVOID)0x0);
  }
  return pHVar2;
}



/* Function: FUN_0040991a */

undefined4 __thiscall FUN_0040991a(void *this,undefined2 *param_1)

{
  undefined2 *puVar1;
  int iVar2;
  undefined4 uVar3;
  int *piVar4;
  uint uVar5;
  
  if (*(int *)((int)this + 4) == *(int *)((int)this + 8)) {
    if (*(int *)((int)this + 8) == 0) {
      uVar5 = 1;
LAB_0040994a:
                    /* WARNING: Load size is inaccurate */
      iVar2 = (*(code *)PTR_FUN_00401544)(*this,uVar5,2);
      if (iVar2 != 0) {
        *(int *)this = iVar2;
        *(uint *)((int)this + 8) = uVar5;
        goto LAB_0040996c;
      }
    }
    else {
      uVar5 = *(int *)((int)this + 4) * 2;
      if ((-1 < (int)uVar5) && (uVar5 < 0x40000000)) goto LAB_0040994a;
    }
    uVar3 = 0;
  }
  else {
LAB_0040996c:
    piVar4 = (int *)((int)this + 4);
                    /* WARNING: Load size is inaccurate */
    puVar1 = (undefined2 *)(*this + *piVar4 * 2);
    if (puVar1 != (undefined2 *)0x0) {
      *puVar1 = *param_1;
    }
    *piVar4 = *piVar4 + 1;
    uVar3 = 1;
  }
  return uVar3;
}



/* Function: FUN_00409992 */

undefined2 FUN_00409992(WNDCLASSEXW *param_1,UINT *param_2)

{
  wchar_t *_Dst;
  undefined *puVar1;
  undefined2 uVar2;
  ATOM AVar3;
  BOOL BVar4;
  HINSTANCE hInstance;
  HCURSOR pHVar5;
  LPCWSTR lpszClass;
  int iVar6;
  tagWNDCLASSEXW *ptVar7;
  WNDCLASSEXW *pWVar8;
  LPCWSTR pWStack_70;
  WNDPROC pWStack_6c;
  tagWNDCLASSEXW tStack_68;
  tagWNDCLASSEXW tStack_38;
  
  if ((param_1 == (WNDCLASSEXW *)0x0) || (param_2 == (UINT *)0x0)) {
LAB_00409a20:
    uVar2 = 0;
  }
  else {
    if ((short)param_1[1].cbWndExtra == 0) {
      EnterCriticalSection((LPCRITICAL_SECTION)&DAT_00425570);
      if ((short)param_1[1].cbWndExtra == 0) {
        if (param_1[1].cbSize == 0) {
          hInstance = (HINSTANCE)PTR_IMAGE_DOS_HEADER_00425350;
          if (param_1[1].cbClsExtra != 0) {
            hInstance = (HINSTANCE)0x0;
          }
          pHVar5 = LoadCursorW(hInstance,(LPCWSTR)param_1[1].lpfnWndProc);
          param_1->hCursor = pHVar5;
        }
        else {
          pWStack_70 = param_1->lpszClassName;
          pWStack_6c = param_1->lpfnWndProc;
          tStack_68.cbSize = 0x30;
          BVar4 = GetClassInfoExW((HINSTANCE)0x0,(LPCWSTR)param_1[1].cbSize,&tStack_68);
          if ((BVar4 == 0) &&
             (BVar4 = GetClassInfoExW((HINSTANCE)PTR_IMAGE_DOS_HEADER_0042534c,
                                      (LPCWSTR)param_1[1].cbSize,&tStack_68), BVar4 == 0)) {
            LeaveCriticalSection((LPCRITICAL_SECTION)&DAT_00425570);
            goto LAB_00409a20;
          }
          ptVar7 = &tStack_68;
          pWVar8 = param_1;
          for (iVar6 = 0xc; iVar6 != 0; iVar6 = iVar6 + -1) {
            pWVar8->cbSize = ptVar7->cbSize;
            ptVar7 = (tagWNDCLASSEXW *)&ptVar7->style;
            pWVar8 = (WNDCLASSEXW *)&pWVar8->style;
          }
          param_1[1].style = (UINT)param_1->lpfnWndProc;
          param_1->lpszClassName = pWStack_70;
          param_1->lpfnWndProc = pWStack_6c;
        }
        puVar1 = PTR_IMAGE_DOS_HEADER_0042534c;
        param_1->style = param_1->style & 0xffffbfff;
        param_1->hInstance = (HINSTANCE)puVar1;
        lpszClass = param_1->lpszClassName;
        if (lpszClass == (LPCWSTR)0x0) {
          _Dst = (wchar_t *)((int)&param_1[1].cbWndExtra + 2);
          swprintf_s(_Dst,0x25,L"ATL:%p",param_1);
          param_1->lpszClassName = _Dst;
          lpszClass = (LPCWSTR)((int)&param_1[1].cbWndExtra + 2);
        }
        pWVar8 = param_1;
        ptVar7 = &tStack_38;
        for (iVar6 = 0xc; iVar6 != 0; iVar6 = iVar6 + -1) {
          ptVar7->cbSize = pWVar8->cbSize;
          pWVar8 = (WNDCLASSEXW *)&pWVar8->style;
          ptVar7 = (tagWNDCLASSEXW *)&ptVar7->style;
        }
        BVar4 = GetClassInfoExW(param_1->hInstance,lpszClass,&tStack_38);
        *(short *)&param_1[1].cbWndExtra = (short)BVar4;
        if ((short)BVar4 == 0) {
          AVar3 = RegisterClassExW(param_1);
          pWStack_70 = (LPCWSTR)CONCAT22(pWStack_70._2_2_,AVar3);
          FUN_0040991a(&DAT_0042558c,(undefined2 *)&pWStack_70);
          *(ATOM *)&param_1[1].cbWndExtra = AVar3;
        }
      }
      LeaveCriticalSection((LPCRITICAL_SECTION)&DAT_00425570);
    }
    if (param_1[1].cbSize != 0) {
      *param_2 = param_1[1].style;
    }
    uVar2 = (undefined2)param_1[1].cbWndExtra;
  }
  return uVar2;
}



/* Function: FUN_00409b05 */

void __fastcall FUN_00409b05(DWORD param_1)

{
  RaiseException(param_1,1,0,(ULONG_PTR *)0x0);
  return;
}



/* Function: FUN_00409b19 */

void FUN_00409b19(int *param_1,int param_2)

{
  code *pcVar1;
  DWORD DVar2;
  
  if ((param_1 != (int *)0x0) && (param_2 != 0)) {
    *param_1 = param_2;
    DVar2 = GetCurrentThreadId();
    param_1[1] = DVar2;
    EnterCriticalSection((LPCRITICAL_SECTION)&DAT_00425570);
    param_1[2] = (int)DAT_00425588;
    DAT_00425588 = param_1;
    LeaveCriticalSection((LPCRITICAL_SECTION)&DAT_00425570);
    return;
  }
  FUN_00409b05(0xc0000005);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_00409b71 */

undefined4 __fastcall FUN_00409b71(short *param_1,int param_2,int *param_3,int param_4)

{
  short sVar1;
  int iVar2;
  short *psVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  
  iVar4 = 0;
  if (param_2 != 0) {
    iVar5 = 0x7ffffffe;
    iVar2 = param_4 - (int)param_1;
    do {
      if ((iVar5 == 0) || (sVar1 = *(short *)(iVar2 + (int)param_1), sVar1 == 0)) break;
      *param_1 = sVar1;
      param_1 = param_1 + 1;
      iVar5 = iVar5 + -1;
      iVar4 = iVar4 + 1;
      param_2 = param_2 + -1;
    } while (param_2 != 0);
  }
  uVar6 = 0x8007007a;
  if (param_2 != 0) {
    uVar6 = 0;
  }
  psVar3 = param_1 + -1;
  if (param_2 != 0) {
    psVar3 = param_1;
  }
  *psVar3 = 0;
  if (param_3 != (int *)0x0) {
    iVar2 = iVar4 + -1;
    if (param_2 != 0) {
      iVar2 = iVar4;
    }
    *param_3 = iVar2;
  }
  return uVar6;
}



/* Function: FUN_00409bda */

void __fastcall FUN_00409bda(undefined4 param_1)

{
  Ordinal_9(param_1);
  return;
}



/* Function: FUN_00409bea */

undefined4 * __thiscall FUN_00409bea(void *this,undefined4 param_1)

{
  *(undefined4 *)this = param_1;
  return (undefined4 *)this;
}



/* Function: FUN_00409c00 */

void __fastcall FUN_00409c00(undefined4 param_1)

{
  void *pExceptionObject;
  undefined4 local_8;
  
  local_8 = param_1;
  FUN_00409bea(&local_8,param_1);
                    /* WARNING: Subroutine does not return */
  _CxxThrowException(pExceptionObject,(ThrowInfo *)&DAT_00423554);
}



/* Function: FUN_00409c23 */

undefined4 FUN_00409c23(void)

{
  int *piVar1;
  undefined4 *puVar2;
  DWORD DVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 uVar6;
  
  uVar6 = 0;
  EnterCriticalSection((LPCRITICAL_SECTION)&DAT_00425570);
  puVar5 = DAT_00425588;
  if (DAT_00425588 != (undefined4 *)0x0) {
    DVar3 = GetCurrentThreadId();
    puVar4 = (undefined4 *)0x0;
    do {
      if (puVar5[1] == DVar3) {
        puVar2 = (undefined4 *)puVar5[2];
        if (puVar4 != (undefined4 *)0x0) {
          puVar4[2] = (undefined4 *)puVar5[2];
          puVar2 = DAT_00425588;
        }
        DAT_00425588 = puVar2;
        uVar6 = *puVar5;
        break;
      }
      piVar1 = puVar5 + 2;
      puVar4 = puVar5;
      puVar5 = (undefined4 *)*piVar1;
    } while ((undefined4 *)*piVar1 != (undefined4 *)0x0);
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)&DAT_00425570);
  return uVar6;
}



/* Function: FUN_00409c80 */

undefined4 __thiscall FUN_00409c80(void *this,int param_1,undefined4 param_2)

{
  uint *puVar1;
  
  puVar1 = *(uint **)((int)this + 0xc);
  if (puVar1 == (uint *)0x0) {
    puVar1 = FUN_0041aad4();
    *(uint **)((int)this + 0xc) = puVar1;
    if (puVar1 == (uint *)0x0) {
      return 0;
    }
  }
  FUN_0041ab3b((int *)puVar1,param_1,param_2);
  return 1;
}



/* Function: FUN_00409cb5 */

undefined4 * __thiscall
FUN_00409cb5(void *this,undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  *(undefined4 *)this = param_1;
  *(undefined4 *)((int)this + 4) = param_2;
  *(undefined4 *)((int)this + 8) = param_3;
  *(undefined4 *)((int)this + 0xc) = param_4;
  *(undefined4 *)((int)this + 0x10) = 0;
  *(undefined4 *)((int)this + 0x18) = 0;
  *(undefined4 *)((int)this + 0x14) = 0;
  *(undefined4 *)((int)this + 0x1c) = 0x24;
  *(undefined4 *)((int)this + 0x20) = 1;
  return (undefined4 *)this;
}



/* Function: FUN_00409d00 */

undefined4 FUN_00409d00(undefined4 param_1,undefined4 param_2,undefined4 *param_3)

{
  if (param_3 != (undefined4 *)0x0) {
    *param_3 = 0;
  }
  return 0x80004001;
}



/* Function: FUN_00409d20 */

bool __fastcall
FUN_00409d20(int *param_1,undefined4 param_2,undefined4 param_3,int param_4,HDC param_5,int *param_6
            ,undefined4 *param_7,int param_8)

{
  code *pcVar1;
  HBRUSH pHVar2;
  undefined4 uVar3;
  DWORD color;
  int iVar4;
  int *local_8;
  
  if (param_8 != 0) {
    return false;
  }
  local_8 = param_1;
  if (param_4 == 0x113) {
    pHVar2 = (HBRUSH)FUN_0040fb0b((float)param_1);
    goto LAB_00409d47;
  }
  if (param_4 == 0x115) {
    local_8 = (int *)0x1;
    uVar3 = FUN_0040fea4(param_1,param_1,(short)param_5,param_1,&local_8);
LAB_00409d6f:
    *param_7 = uVar3;
    if (local_8 != (int *)0x0) {
      return true;
    }
  }
  else {
    if (param_4 != 0x111) {
      if ((param_4 != 0x136) && (param_4 != 0x135)) {
        if (param_4 != 0x138) {
          if (param_4 == 0x40b) {
            if ((param_5[5].unused == 1) && (param_1[9] == 0)) {
              pcVar1 = *(code **)(*param_1 + 0x14);
              (*(code *)PTR_guard_check_icall_00427678)(param_5);
              (*pcVar1)();
              FUN_0040f6bc((int)param_1);
            }
            goto LAB_00409df9;
          }
          if (param_4 == 0x40c) {
            pHVar2 = (HBRUSH)FUN_0040f72e(param_1,param_1,&param_5->unused);
            goto LAB_00409d47;
          }
          if (param_4 == 0x40d) {
            if ((HDC)param_1[9] == param_5) {
              FUN_0041c8af((int)(param_1 + 10),param_2,(HICON)((HDC)param_1[9])[10].unused);
            }
LAB_00409df9:
            *param_7 = 0;
            return true;
          }
          if (param_4 == 0x40e) {
            if ((param_5 != (HDC)0x0) && ((HDC)param_1[9] == param_5)) {
              FUN_0040f798(param_1,(LPCWSTR)param_5[6].unused);
              FUN_0041023b((int)param_1);
            }
            goto LAB_00409df9;
          }
          if (param_4 == 0x417) {
            pHVar2 = (HBRUSH)FUN_004100d3(param_1,param_1,(int)param_5,(int)param_6);
            goto LAB_00409d47;
          }
          if ((param_4 == 0x4e) && (param_6[2] == -0x2cf)) {
            local_8 = (int *)0x1;
            uVar3 = FUN_0040fbfe(param_1,&local_8,param_6,&local_8);
            goto LAB_00409d6f;
          }
          goto LAB_00409f51;
        }
        SetBkMode(param_5,1);
        color = GetSysColor(0x12);
        SetTextColor(param_5,color);
      }
      pHVar2 = GetSysColorBrush(5);
      goto LAB_00409d47;
    }
    if (param_5 == (HDC)0x131) {
      pHVar2 = (HBRUSH)FUN_0040fd00(param_1);
      goto LAB_00409d47;
    }
    if (param_5 == (HDC)0x1) {
      EndDialog((HWND)param_1[1],1);
      *param_7 = 0;
      return true;
    }
    if ((short)param_5 == 2) {
      if ((short)((uint)param_5 >> 0x10) == 0) {
        EndDialog((HWND)param_1[1],2);
        goto LAB_00409df9;
      }
    }
    else if (param_5 == (HDC)0x12c) {
      uVar3 = FUN_0040fc74();
      *param_7 = uVar3;
      return true;
    }
  }
LAB_00409f51:
  pcVar1 = *(code **)param_1[10];
  (*(code *)PTR_guard_check_icall_00427678)(param_3,param_4,param_5,param_6,param_7,0);
  iVar4 = (*pcVar1)();
  if (iVar4 != 0) {
    return true;
  }
  pcVar1 = *(code **)param_1[0x23];
  (*(code *)PTR_guard_check_icall_00427678)(param_3,param_4,param_5,param_6,param_7,0);
  iVar4 = (*pcVar1)();
  if (iVar4 != 0) {
    return true;
  }
  if (param_4 != 0x436) {
    if (param_4 == 2) {
      pcVar1 = *(code **)(*param_1 + 0x10);
      (*(code *)PTR_guard_check_icall_00427678)();
      (*pcVar1)();
    }
    else {
      if (param_4 == 0x110) {
        local_8 = (int *)0x1;
        uVar3 = FUN_0040f319(param_1);
        *param_7 = uVar3;
        return local_8 != (int *)0x0;
      }
      if (param_4 != 0x31a) {
        if (param_4 != 0x4e) {
          return false;
        }
        if (param_6[1] == 0x135) {
          if ((param_6[2] != -4) && (param_6[2] != -2)) {
            return false;
          }
          ShellExecuteW((HWND)0x0,(LPCWSTR)0x0,L"ms-settings:apps-volume",(LPCWSTR)0x0,(LPCWSTR)0x0,
                        1);
          *param_7 = 0;
          return true;
        }
        return false;
      }
      FUN_0041d459(&DAT_00425a6c,0);
    }
    *param_7 = 0;
    return false;
  }
  pHVar2 = (HBRUSH)FUN_0040fdd9(param_1);
LAB_00409d47:
  *param_7 = pHVar2;
  return true;
}



/* Function: FUN_0040a06f */

undefined1 __thiscall
FUN_0040a06f(void *this,undefined4 param_1,int param_2,undefined4 param_3,int param_4,
            undefined4 *param_5)

{
  undefined4 uVar1;
  undefined1 uVar2;
  
  if (param_2 == 5) {
    uVar1 = FUN_0041b1e3(this);
    *param_5 = uVar1;
    uVar2 = 1;
  }
  else if (param_2 == 0x24) {
    *(undefined4 *)(param_4 + 0x18) = *(undefined4 *)((int)this + 0x14);
    *(undefined4 *)(param_4 + 0x1c) = *(undefined4 *)((int)this + 0x18);
    *(undefined4 *)(param_4 + 0x20) = *(undefined4 *)((int)this + 0x1c);
    *(undefined4 *)(param_4 + 0x24) = *(undefined4 *)((int)this + 0x20);
    *param_5 = 0;
    uVar2 = 1;
  }
  else {
    uVar2 = 0;
  }
  return uVar2;
}



/* Function: FUN_0040a0e0 */

void __fastcall
FUN_0040a0e0(void *param_1,undefined4 param_2,undefined4 param_3,int param_4,HDC param_5,
            undefined4 param_6,undefined4 *param_7,int param_8)

{
  HBRUSH pHVar1;
  APOHandle *ho;
  undefined4 extraout_EDX;
  undefined8 uVar2;
  undefined4 *local_1c;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_1c = param_7;
  if (param_8 == 0) {
    if (param_4 == 0xf) {
      local_1c = (undefined4 *)0x1;
      uVar2 = FUN_0040c550(param_1,param_1,param_5,param_1,&local_1c);
      param_2 = (undefined4)((ulonglong)uVar2 >> 0x20);
      *param_7 = (int)uVar2;
    }
    else if (param_4 == 0x14) {
      GetClientRect(*(HWND *)((int)param_1 + 4),&local_18);
      pHVar1 = GetSysColorBrush(5);
      ho = (APOHandle *)CreatePen(5,local_18.bottom - local_18.top,5);
      FUN_0040c647(param_1,param_5,pHVar1,ho);
      DeleteObject(ho);
      *local_1c = 1;
      param_2 = extraout_EDX;
    }
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_0040a190 */

bool __thiscall
FUN_0040a190(void *this,undefined4 param_1,int param_2,TList<struct_APOHandle> *param_3,
            APOHandle *param_4,LRESULT *param_5,int param_6)

{
  code *pcVar1;
  bool bVar2;
  undefined1 uVar3;
  LRESULT LVar4;
  void *this_00;
  int iVar5;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  undefined4 extraout_ECX_01;
  undefined4 uVar6;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined4 extraout_EDX_04;
  undefined8 uVar7;
  APOHandle *local_10;
  void *local_c [2];
  
  if (param_6 != 0) {
    return false;
  }
  if (param_2 == 0x40f) {
    LVar4 = FUN_0040b28e(this);
    goto LAB_0040a1bd;
  }
  if (param_2 == 0x414) {
    if (param_3 == (TList<struct_APOHandle> *)0x0) goto LAB_0040a23c;
    if (DAT_00425aec != (void *)0x0) {
      FUN_00415e92(DAT_00425aec,(undefined4 *)param_3);
    }
    iVar5 = *(int *)param_3;
  }
  else {
    if (param_2 != 0x415) {
      if (param_2 == 0x416) {
        LVar4 = FUN_0040b75f(this,this,param_3);
        goto LAB_0040a1bd;
      }
      if (param_2 == 0x41b) {
        LVar4 = FUN_0040b7ea(this,this,param_3);
        goto LAB_0040a1bd;
      }
      if (param_2 == 0x419) {
        LVar4 = FUN_0040b392(this,this,(int)param_3,param_4);
        goto LAB_0040a1bd;
      }
      if (param_2 == 0x41f) {
        FUN_0040c448((void *)((int)this + 0x358));
        *param_5 = 0;
        return true;
      }
      if (param_2 == 0x41e) {
        LVar4 = FUN_0040b983((TList<struct_APOHandle> *)this);
        goto LAB_0040a1bd;
      }
      uVar6 = 1;
      if (param_2 == 0x436) {
        local_10 = (APOHandle *)0x1;
        uVar6 = FUN_0040b49f(this,param_3,(APOHandle *)param_3,param_3,&local_10);
        uVar7 = CONCAT44(extraout_EDX,uVar6);
        goto LAB_0040a42b;
      }
      if (param_2 == 0x84) {
        LVar4 = DefWindowProcW(*(HWND *)((int)this + 4),0x84,(WPARAM)param_3,(LPARAM)param_4);
        if (LVar4 == 0xc) {
LAB_0040a32c:
          LVar4 = 0;
        }
        else {
          if (LVar4 == 0xd) {
LAB_0040a327:
            LVar4 = 10;
            goto LAB_0040a32e;
          }
          if (LVar4 != 0xe) {
            if (LVar4 == 0xf) goto LAB_0040a32c;
            if (LVar4 == 0x10) goto LAB_0040a327;
            if (LVar4 != 0x11) goto LAB_0040a32e;
          }
          LVar4 = 0xb;
        }
LAB_0040a32e:
        *param_5 = LVar4;
        return true;
      }
      if (param_2 == 0x31e) {
        local_c[0] = *(void **)((int)this + 0x24c);
        while (local_c[0] != (void *)0x0) {
          local_10 = (APOHandle *)0x0;
          TList<struct_APOHandle>::GetNext(param_3,local_c,&local_10);
          param_3 = extraout_ECX;
          if (local_10 != (APOHandle *)0x0) {
            PostMessageW(*(HWND *)(local_10 + 4),0x31e,0,0);
            param_3 = extraout_ECX_00;
          }
        }
        goto LAB_0040a23c;
      }
      if ((param_2 == 0x40b) || (param_2 == 0x40c)) {
        local_10 = (APOHandle *)0x1;
        uVar6 = FUN_0040b8ee(this);
        uVar7 = CONCAT44(extraout_EDX_00,uVar6);
        goto LAB_0040a42b;
      }
      if (param_2 == 0x40e) {
        if ((param_3 != (TList<struct_APOHandle> *)0x0) &&
           (*(TList<struct_APOHandle> **)((int)this + 0x24) == param_3)) {
          FUN_0040bb5f(this,*(LPCWSTR *)(*(TList<struct_APOHandle> **)((int)this + 0x24) + 0x18));
          uVar6 = extraout_EDX_01;
        }
LAB_0040a3ca:
        *param_5 = 0;
      }
      else {
        if (param_2 == 0x214) {
          if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
              ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
             (3 < (byte)PTR_LOOP_004252dc[0x19])) {
            FUN_0040a58d(0xb,&DAT_00402b94,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                         *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
          }
          FUN_0040b009((int)this);
          uVar6 = extraout_EDX_02;
          goto LAB_0040a3ca;
        }
        if (param_2 == 0x14) {
          local_10 = (APOHandle *)0x1;
          uVar7 = FUN_0040b190(this,param_3,(HDC)param_3,param_3,&local_10);
LAB_0040a42b:
          uVar6 = (undefined4)((ulonglong)uVar7 >> 0x20);
          *param_5 = (LRESULT)uVar7;
          if (local_10 != (APOHandle *)0x0) {
            return true;
          }
        }
        else if (param_2 == 0x4e) {
          if (*(int *)(param_4 + 8) == -0xc) {
            local_10 = (APOHandle *)0x1;
            LVar4 = FUN_0040be9c(this,&local_10,(int)param_3,(int)param_4,&local_10);
            *param_5 = LVar4;
            if (local_10 != (APOHandle *)0x0) {
              return true;
            }
          }
          uVar6 = 1;
          if (*(int *)(param_4 + 8) == -0x2c6) {
            local_10 = (APOHandle *)0x1;
            uVar7 = FUN_0040c193((int *)this,&local_10,(int)param_3,(undefined4 *)param_4,&local_10)
            ;
            uVar6 = (undefined4)((ulonglong)uVar7 >> 0x20);
            *param_5 = (LRESULT)uVar7;
            if (local_10 != (APOHandle *)0x0) {
              return true;
            }
          }
          if (*(int *)(param_4 + 8) == -0x2cf) {
            local_10 = (APOHandle *)0x1;
            uVar6 = FUN_0040c078(this,(int)param_3,(int)param_4,&local_10);
            uVar7 = CONCAT44(extraout_EDX_03,uVar6);
            goto LAB_0040a42b;
          }
        }
      }
      bVar2 = FUN_00409d20((int *)this,uVar6,param_1,param_2,(HDC)param_3,(int *)param_4,param_5,0);
      if (CONCAT31(extraout_var,bVar2) != 0) {
        return true;
      }
      if (param_2 == 2) {
        LVar4 = FUN_0040af3f((int *)this);
LAB_0040a1bd:
        *param_5 = LVar4;
        return true;
      }
      if (param_2 == 0x110) {
        LVar4 = FUN_0040a8bc((int *)this);
        goto LAB_0040a1bd;
      }
      if (param_2 != 0x420) {
        uVar3 = FUN_0040a06f((void *)((int)this + 0x224),extraout_ECX_01,param_2,extraout_ECX_01,
                             (int)param_4,param_5);
        return CONCAT31(extraout_var_00,uVar3) != 0;
      }
      DestroyWindow(*(HWND *)(param_4 + 4));
      FUN_00416bf9((int *)param_4);
      FUN_00414793(*(int *)((int)this + 0x248),extraout_EDX_04,1);
      goto LAB_0040a23c;
    }
    if (*(int *)((int)this + 0x270) != 0) {
      this_00 = (void *)FUN_0040b53e(this,(int)param_3,(int *)0x0);
      if (this_00 == (void *)0x0) {
        iVar5 = FUN_0040b5fa(this,(int)param_3);
        if (iVar5 < 0) goto LAB_0040a22c;
      }
      else {
        FUN_00417fb9(this_00,(APOHandle *)param_3);
      }
      FUN_0040b009((int)this);
    }
LAB_0040a22c:
    iVar5 = *(int *)param_3;
  }
  pcVar1 = *(code **)(iVar5 + 8);
  (*(code *)PTR_guard_check_icall_00427678)(param_3);
  (*pcVar1)();
LAB_0040a23c:
  *param_5 = 0;
  return true;
}



/* Function: FUN_0040a580 */

undefined4 __fastcall FUN_0040a580(int param_1)

{
  return *(undefined4 *)(param_1 + -0x220);
}



/* Function: FUN_0040a58d */

void __fastcall
FUN_0040a58d(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  EtwTraceMessage(param_3,param_4,0x2b,param_2,param_1,0);
  return;
}



/* Function: FUN_0040a5b1 */

void __fastcall
FUN_0040a5b1(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  EtwTraceMessage(param_3,param_4,0x2b,param_2,param_1,&stack0x0000000c,4,0);
  return;
}



/* Function: FUN_0040a5db */

void FUN_0040a5db(undefined4 param_1,undefined4 param_2)

{
  EtwTraceMessage(param_1,param_2,0x2b,&DAT_00402b94,0xe,&stack0x0000000c,4,&stack0x00000010,4,
                  &stack0x00000014,4,&stack0x00000018,4,&stack0x0000001c,4,0);
  return;
}



/* Function: FUN_0040a620 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 * __fastcall FUN_0040a620(undefined4 *param_1)

{
  FUN_0040efbb(param_1);
  param_1[0x89] = &PTR_purecall_004017a4;
  param_1[0x8a] = 0;
  param_1[0x8b] = 0;
  param_1[0x8c] = 0;
  param_1[0x8d] = 0;
  param_1[0x8f] = 0;
  param_1[0x8e] = 0;
  param_1[0x91] = 4000;
  param_1[0x90] = 4000;
  *param_1 = &PTR_FUN_00401590;
  param_1[8] = &PTR_FUN_00401580;
  param_1[0x89] = &PTR_FUN_00401578;
  param_1[0x92] = 0;
  param_1[0x93] = 0;
  param_1[0x94] = 0;
  param_1[0x95] = 0;
  FUN_0040d3bf((LPCRITICAL_SECTION)(param_1 + 0x96));
  FUN_00418a05(param_1 + 0x9d);
  FUN_00418a05(param_1 + 0xac);
  FUN_0041b420(param_1 + 0xbb);
  param_1[0xde] = DefWindowProcW_exref;
  param_1[0xd7] = 0;
  param_1[0xdb] = 0;
  param_1[0xdc] = 0;
  param_1[0xdd] = 0;
  param_1[0xd6] = &PTR_FUN_00401568;
  param_1[0xea] = 0;
  param_1[0x72] = 0;
  param_1[0x88] = 200;
  param_1[0x73] = 1;
  param_1[0xd2] = 0;
  param_1[0xd3] = 0;
  param_1[0xd4] = 0;
  param_1[0xd5] = 0;
  return param_1;
}



/* Function: FUN_0040a740 */

int * __thiscall FUN_0040a740(void *this,byte param_1)

{
  FUN_0040a7f4((int *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (int *)this;
}



/* Function: FUN_0040a768 */

void __fastcall FUN_0040a768(undefined4 *param_1)

{
  free((void *)*param_1);
  *param_1 = 0;
  return;
}



/* Function: FUN_0040a790 */

void * __thiscall FUN_0040a790(void *this,byte param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00421226;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_8 = 0;
  if (*(int *)((int)this + 0x14) != 0) {
    FUN_0041abac(*(int **)((int)this + 0x14));
  }
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  ExceptionList = local_10;
  return this;
}



/* Function: FUN_0040a7f4 */

void __fastcall FUN_0040a7f4(int *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421302;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = (int)&PTR_FUN_00401590;
  param_1[8] = (int)&PTR_FUN_00401580;
  param_1[0x89] = (int)&PTR_FUN_00401578;
  IsWindow((HWND)param_1[1]);
  free((void *)param_1[0xea]);
  param_1[0xea] = 0;
  local_8 = 0;
  if ((int *)param_1[0xdb] != (int *)0x0) {
    FUN_0041abac((int *)param_1[0xdb]);
  }
  FUN_0041b498(param_1 + 0xbb);
  FUN_00418a58(param_1 + 0xac);
  FUN_00418a58(param_1 + 0x9d);
  DeleteCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x96));
  FUN_0041b078(param_1 + 0x89);
  FUN_0040f088(param_1);
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0040a8bc */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */

void __fastcall FUN_0040a8bc(int *param_1)

{
  ushort uVar1;
  HWND pHVar2;
  TList<struct_APOHandle> *pTVar3;
  HWND pHVar4;
  APOHandle *pAVar5;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  code *pcVar6;
  int iVar7;
  undefined4 *local_34;
  HWND local_30;
  HWND local_2c;
  APOHandle *local_28;
  tagRECT local_24;
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x24;
  local_8 = 0x40a8c8;
  local_2c = (HWND)param_1;
  BufferedPaintInit();
  **(int **)(DAT_00425a38 + 0x28) = param_1[1];
  local_30 = GetDlgItem((HWND)param_1[1],0x19b);
  local_28 = (APOHandle *)GetDlgItem((HWND)param_1[1],0x19c);
  if (DAT_00425aa0 == (undefined4 *)0x0) {
    local_34 = (undefined4 *)FUN_0041f39d(0x48);
    local_8 = 0;
    if (local_34 == (undefined4 *)0x0) {
      DAT_00425aa0 = (undefined4 *)0x0;
    }
    else {
      DAT_00425aa0 = FUN_00413bc6(local_34);
    }
    local_8 = 0xffffffff;
    if (DAT_00425aa0 != (undefined4 *)0x0) {
      FUN_00413bfe();
    }
  }
  FUN_0040ac35((int)param_1);
  pHVar2 = GetDlgItem((HWND)param_1[1],0x12f);
  FUN_0040d355(param_1 + 0xbb,pHVar2);
  FUN_0041b50c((int)(param_1 + 0xbb));
  pTVar3 = FUN_00414123();
  pHVar2 = local_2c;
  if (pTVar3 < (TList<struct_APOHandle> *)0x2) {
    pHVar4 = GetDlgItem(*(HWND *)(local_2c + 1),0x12d);
    ShowWindow(pHVar4,0);
    pHVar4 = GetDlgItem(*(HWND *)(pHVar2 + 1),0x12f);
    iVar7 = 5;
  }
  else {
    pHVar4 = GetDlgItem(*(HWND *)(local_2c + 1),0x12d);
    ShowWindow(pHVar4,5);
    pHVar4 = GetDlgItem(*(HWND *)(pHVar2 + 1),0x12f);
    iVar7 = 0;
  }
  ShowWindow(pHVar4,iVar7);
  GetClientRect((HWND)local_28,&local_24);
  MapWindowPoints((HWND)local_28,*(HWND *)(pHVar2 + 1),(LPPOINT)&local_24,2);
  DestroyWindow((HWND)local_28);
  local_28 = (APOHandle *)FUN_0041f39d(0x58);
  pcVar6 = DefWindowProcW_exref;
  if (local_28 == (APOHandle *)0x0) {
    local_28 = (APOHandle *)0x0;
  }
  else {
    *(undefined4 *)(local_28 + 4) = 0;
    *(undefined4 *)(local_28 + 0x14) = 0;
    *(undefined4 *)(local_28 + 0x18) = 0;
    *(undefined4 *)(local_28 + 0x1c) = 0;
    *(code **)(local_28 + 0x20) = pcVar6;
    *(undefined ***)local_28 = &PTR_FUN_004016a4;
    *(HWND *)(local_28 + 0x24) = pHVar2;
    *(undefined4 *)(local_28 + 0x4c) = 0;
    *(undefined4 *)(local_28 + 0x50) = 0;
    *(undefined4 *)(local_28 + 0x54) = 0;
    *(undefined4 *)(local_28 + 0x28) = 0;
    *(undefined4 *)(local_28 + 0x2c) = 0;
  }
  local_2c = *(HWND *)(pHVar2 + 1);
  pHVar2[0x92] = (HWND__)local_28;
  if (DAT_004250d0 == 0) {
    DAT_004250d0 = 0;
  }
  uVar1 = FUN_00409992((WNDCLASSEXW *)&DAT_004250a0,(UINT *)(local_28 + 0x20));
  FUN_0040c98c(local_28,local_2c,(int *)0x0,L"",0x56000000,0x10000,(HMENU)0x19c,uVar1);
  SetWindowPos(*(HWND *)(pHVar2[0x92].unused + 4),(HWND)0x0,local_24.left,local_24.top,
               local_24.right - local_24.left,local_24.bottom - local_24.top,0);
  pHVar4 = local_30;
  FUN_00418ad2(pHVar2 + 0xac,local_30);
  DestroyWindow(pHVar4);
  pHVar4 = GetDlgItem(*(HWND *)(pHVar2 + 1),0x19a);
  FUN_00418ad2(pHVar2 + 0x9d,pHVar4);
  pHVar4 = GetDlgItem(*(HWND *)(pHVar2 + 1),0x19a);
  DestroyWindow(pHVar4);
  local_30 = *(HWND *)(pHVar2 + 1);
  pHVar2[0xdf] = (HWND__)pHVar2;
  if (DAT_00425160 == 0) {
    DAT_00425160 = 0;
  }
  uVar1 = FUN_00409992((WNDCLASSEXW *)&DAT_00425130,(UINT *)(pHVar2 + 0xde));
  FUN_0040c98c(pHVar2 + 0xd6,local_30,(int *)0x0,(LPCWSTR)0x0,0x56000000,0x10000,(HMENU)0x0,uVar1);
  GetWindowRect(*(HWND *)(pHVar2 + 1),&local_24);
  FUN_0041b112(pHVar2 + 0x89);
  pHVar2[0x90] = 3000;
  pHVar2[0x91] = (HWND__)(local_24.bottom - local_24.top);
  pHVar2[0x8e] = 0x10e;
  pHVar2[0x8f] = (HWND__)(local_24.bottom - local_24.top);
  FUN_0040f549(0);
  if (DAT_00425a9c == (TList<struct_APOHandle> *)0x0) {
    pcVar6 = *(code **)(pHVar2->unused + 0x14);
  }
  else {
    local_28 = (APOHandle *)0x0;
    iVar7 = FUN_00413f76(DAT_00425aa0,DAT_00425a9c,(int *)&local_28,(int *)&local_34);
    pcVar6 = *(code **)(pHVar2->unused + 0x14);
    pAVar5 = local_28;
    if (-1 < iVar7) goto LAB_0040abb2;
  }
  pAVar5 = FUN_004140be(0);
LAB_0040abb2:
  (*(code *)PTR_guard_check_icall_00427678)(pAVar5);
  (*pcVar6)();
  pHVar4 = GetDlgItem(*(HWND *)(pHVar2 + 1),0x130);
  SetFocus(pHVar4);
  FUN_0040f6bc((int)pHVar2);
  FUN_0040b009((int)pHVar2);
  InvalidateRect(*(HWND *)(pHVar2 + 1),(RECT *)0x0,1);
  FUN_004204c2(extraout_ECX,extraout_EDX);
  return;
}



/* Function: FUN_0040ac00 */

undefined4 __fastcall FUN_0040ac00(int param_1)

{
  FUN_0041baa6((void *)(param_1 + 0x1d0),param_1,param_1,*(HWND *)(param_1 + 4));
  FUN_0041bbcf(*(HWND *)(param_1 + 4),0x12f);
  return 0;
}



/* Function: FUN_0040ac35 */

void __fastcall FUN_0040ac35(int param_1)

{
  HWND pHVar1;
  HWND hWnd;
  uint uVar2;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar3;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 uStack_1c;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  pHVar1 = GetDlgItem(*(HWND *)(param_1 + 4),0x12d);
  SendMessageW(pHVar1,0x41e,0x14,0);
  SendMessageW(pHVar1,0x420,0,0x100000);
  local_2c = 0;
  uStack_1c = 0;
  local_28 = 0x12d;
  local_24 = 0xe804;
  local_20 = 0;
  hWnd = GetDlgItem(*(HWND *)(param_1 + 4),0x12f);
  GetClientRect(hWnd,&local_18);
  *(LONG *)(param_1 + 0x380) = local_18.right - local_18.left;
  *(LONG *)(param_1 + 900) = local_18.bottom - local_18.top;
  SendMessageW(pHVar1,0x43b,0,
               CONCAT22(*(undefined2 *)(param_1 + 0x380),*(undefined2 *)(param_1 + 0x380)));
  SendMessageW(pHVar1,0x444,1,(LPARAM)&local_2c);
  SendMessageW(pHVar1,0x41f,0,
               CONCAT22(*(undefined2 *)(param_1 + 900),*(undefined2 *)(param_1 + 0x380)));
  uVar2 = SendMessageW(pHVar1,0x455,0,0);
  SendMessageW(pHVar1,0x454,0,uVar2 | 0x81);
  pHVar1 = (HWND)SendMessageW(pHVar1,0x423,0,0);
  uVar3 = extraout_EDX;
  if (pHVar1 != (HWND)0x0) {
    uVar2 = GetWindowLongW(pHVar1,-0x10);
    SetWindowLongW(pHVar1,-0x10,uVar2 | 2);
    uVar3 = extraout_EDX_00;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar3);
  return;
}



/* Function: FUN_0040ad7b */

void __thiscall FUN_0040ad7b(void *this,int param_1)

{
  short *psVar1;
  short *psVar2;
  int *this_00;
  WCHAR WVar3;
  short sVar4;
  int iVar5;
  WCHAR *pWVar6;
  short *psVar7;
  short *psVar8;
  undefined4 extraout_EDX;
  uint uVar9;
  wchar_t *lpString;
  wchar_t *local_41c;
  WCHAR local_418;
  undefined1 local_416 [518];
  WCHAR local_210;
  undefined1 local_20e [518];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  lpString = (wchar_t *)0x0;
  local_41c = (wchar_t *)0x0;
  this_00 = (int *)((int)this + 0x3a8);
  if (*this_00 == 0) {
    iVar5 = LoadStringW(DAT_00425aa8,0x1fa,&local_210,0x104);
    if (iVar5 != 0) {
      pWVar6 = &local_210;
      do {
        WVar3 = *pWVar6;
        pWVar6 = pWVar6 + 1;
      } while (WVar3 != L'\0');
      FUN_0040c8d3(this_00,((int)pWVar6 - (int)local_20e >> 1) + 1);
      if ((short *)*this_00 == (short *)0x0) goto LAB_0040af20;
      pWVar6 = &local_210;
      do {
        WVar3 = *pWVar6;
        pWVar6 = pWVar6 + 1;
      } while (WVar3 != L'\0');
      iVar5 = FUN_00405d17((short *)*this_00,((int)pWVar6 - (int)local_20e >> 1) + 1,(int)&local_210
                          );
      if (iVar5 < 0) goto LAB_0040af20;
      goto LAB_0040ae3b;
    }
LAB_0040adcc:
    GetLastError();
  }
  else {
LAB_0040ae3b:
    if (param_1 == 0) {
      psVar7 = (short *)*this_00;
      psVar1 = psVar7 + 1;
      do {
        sVar4 = *psVar7;
        psVar7 = psVar7 + 1;
      } while (sVar4 != 0);
      psVar8 = *(short **)(*(int *)((int)this + 0x24) + 0x1c);
      psVar2 = psVar8 + 1;
      do {
        sVar4 = *psVar8;
        psVar8 = psVar8 + 1;
      } while (sVar4 != 0);
      uVar9 = ((int)psVar8 - (int)psVar2 >> 1) + 1 + ((int)psVar7 - (int)psVar1 >> 1);
      FUN_0040c8d3(&local_41c,uVar9);
      lpString = local_41c;
    }
    else {
      iVar5 = LoadStringW(DAT_00425aa8,0x1f8,&local_418,0x104);
      if (iVar5 == 0) goto LAB_0040adcc;
      psVar7 = (short *)*this_00;
      psVar1 = psVar7 + 1;
      do {
        sVar4 = *psVar7;
        psVar7 = psVar7 + 1;
      } while (sVar4 != 0);
      pWVar6 = &local_418;
      do {
        WVar3 = *pWVar6;
        pWVar6 = pWVar6 + 1;
      } while (WVar3 != L'\0');
      uVar9 = ((int)pWVar6 - (int)local_416 >> 1) + 1 + ((int)psVar7 - (int)psVar1 >> 1);
      FUN_0040c8d3(&local_41c,uVar9);
      lpString = local_41c;
    }
    local_41c = lpString;
    if ((lpString != (wchar_t *)0x0) &&
       (iVar5 = FUN_00405da3(lpString,uVar9,*(wchar_t **)((int)this + 0x3a8)), -1 < iVar5)) {
      SetWindowTextW(*(HWND *)((int)this + 4),lpString);
    }
  }
LAB_0040af20:
  free(lpString);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0040af3f */

undefined4 __fastcall FUN_0040af3f(int *param_1)

{
  code *pcVar1;
  int *piVar2;
  int iVar3;
  int *local_8;
  
  local_8 = param_1;
  while( true ) {
    iVar3 = FUN_0040caa8(param_1 + 0x93,(int *)&local_8);
    piVar2 = local_8;
    if (iVar3 == 0) break;
    DestroyWindow((HWND)local_8[1]);
    FUN_00416bf9(piVar2);
  }
  if (param_1[0x92] != 0) {
    DestroyWindow(*(HWND *)(param_1[0x92] + 4));
  }
  if ((int *)param_1[0x92] != (int *)0x0) {
    pcVar1 = *(code **)(*(int *)param_1[0x92] + 4);
    (*(code *)PTR_guard_check_icall_00427678)(1);
    (*pcVar1)();
  }
  param_1[0x92] = 0;
  BufferedPaintUnInit();
  return 0;
}



/* Function: FUN_0040afc0 */

void __fastcall FUN_0040afc0(int param_1)

{
  SetWindowPos(*(HWND *)(param_1 + 0x35c),(HWND)0x0,*(int *)(param_1 + 0x348),
               *(int *)(param_1 + 0x34c),*(int *)(param_1 + 0x350) - *(int *)(param_1 + 0x348),
               *(int *)(param_1 + 0x354) - *(int *)(param_1 + 0x34c),0x40);
  FUN_0040c448((void *)(param_1 + 0x358));
  return;
}



/* Function: FUN_0040b009 */

void __fastcall FUN_0040b009(int param_1)

{
  HWND pHVar1;
  int extraout_EDX;
  int iVar2;
  int iVar3;
  int iStack_34;
  int iStack_30;
  tagRECT local_2c;
  tagRECT tStack_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&iStack_34;
  SendMessageW(*(HWND *)(param_1 + 0xfc),0x419,0,(LPARAM)&local_2c);
  MapWindowPoints(*(HWND *)(param_1 + 0xfc),*(HWND *)(param_1 + 4),(LPPOINT)&local_2c,2);
  iVar3 = 0;
  iStack_30 = (local_2c.bottom + local_2c.top) / 2;
  iStack_34 = local_2c.right;
  if (*(int *)(param_1 + 0x250) != 0) {
    pHVar1 = GetDlgItem(*(HWND *)(*(int *)(*(int *)(param_1 + 0x250) + 8) + 4),0x130);
    GetClientRect(pHVar1,&local_2c);
    MapWindowPoints(pHVar1,*(HWND *)(param_1 + 4),(LPPOINT)&local_2c,2);
    iVar3 = local_2c.right - iStack_34;
    SendMessageW(pHVar1,0x419,0,(LPARAM)&local_2c);
    MapWindowPoints(pHVar1,*(HWND *)(param_1 + 4),(LPPOINT)&local_2c,2);
    if (local_2c.right < iVar3 + iStack_34) {
      iVar3 = local_2c.right - iStack_34;
    }
  }
  pHVar1 = GetDlgItem(*(HWND *)(param_1 + 4),0x19b);
  GetClientRect(pHVar1,&tStack_1c);
  MapWindowPoints(pHVar1,*(HWND *)(param_1 + 4),(LPPOINT)&tStack_1c,2);
  if (tStack_1c.right < iVar3 + iStack_34) {
    iVar3 = tStack_1c.right - iStack_34;
  }
  if ((((*(int *)(param_1 + 0x348) != iStack_34) || (*(int *)(param_1 + 0x34c) != iStack_30)) ||
      (*(int *)(param_1 + 0x354) != iStack_30 + 1)) ||
     (iVar2 = iStack_30, *(int *)(param_1 + 0x350) != iVar3 + iStack_34)) {
    *(int *)(param_1 + 0x348) = iStack_34;
    *(int *)(param_1 + 0x34c) = iStack_30 + -1;
    *(int *)(param_1 + 0x354) = iStack_30 + 2;
    *(int *)(param_1 + 0x350) = iVar3 + iStack_34;
    FUN_0040afc0(param_1);
    iVar2 = extraout_EDX;
  }
  FUN_00420010(local_c ^ (uint)&iStack_34,iVar2);
  return;
}



/* Function: FUN_0040b190 */

void __thiscall
FUN_0040b190(void *this,undefined4 param_1,HDC param_2,undefined4 param_3,undefined4 *param_4)

{
  HBRUSH hbr;
  undefined4 extraout_EDX;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
      ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
     (3 < (byte)PTR_LOOP_004252dc[0x19])) {
    FUN_0040a58d(10,&DAT_00402b94,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                 *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
  }
  GetClientRect(*(HWND *)((int)this + 4),&local_18);
  hbr = GetSysColorBrush(5);
  FillRect(param_2,&local_18,hbr);
  *param_4 = 1;
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0040b220 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_0040b220(TList<struct_APOHandle> *param_1)

{
  TList<struct_APOHandle> *this;
  TList<struct_APOHandle> *extraout_ECX;
  void *local_c;
  APOHandle *local_8;
  
  local_c = *(void **)(param_1 + 0x24c);
  this = param_1;
  local_8 = (APOHandle *)param_1;
  while (local_c != (void *)0x0) {
    local_8 = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this,&local_c,&local_8);
    this = (TList<struct_APOHandle> *)local_8;
    if (local_8 != (APOHandle *)0x0) {
      PostMessageW(*(HWND *)(local_8 + 4),0x417,(int)(*(float *)(param_1 + 0x1c4) * _DAT_00403680),
                   *(LPARAM *)(param_1 + 0x1c0));
      this = extraout_ECX;
    }
  }
  FUN_0040b009((int)param_1);
  return;
}



/* Function: FUN_0040b28e */

undefined4 __fastcall FUN_0040b28e(void *param_1)

{
  code *pcVar1;
  bool bVar2;
  int *piVar3;
  APOHandle *pAVar4;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  TList<struct_APOHandle> *this;
  undefined4 extraout_EDX;
  int *local_14;
  int local_10;
  int local_c;
  APOHandle *local_8;
  
  bVar2 = false;
  local_10 = 0;
  if ((*(int *)((int)param_1 + 0x24) == 0) ||
     (local_c = 1, *(int *)(*(int *)((int)param_1 + 0x24) + 0x38) == 0)) {
    local_c = 0;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 600));
  local_14 = *(int **)((int)param_1 + 0x24c);
  this = extraout_ECX;
  do {
    piVar3 = local_14;
    if (local_14 == (int *)0x0) goto LAB_0040b320;
    local_8 = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this,&local_14,&local_8);
    this = extraout_ECX_00;
  } while (*(int *)(*(int *)(local_8 + 0x20) + 0x50) == 0);
  if (local_c == 0) {
    FUN_0040caf1((void *)((int)param_1 + 0x24c),piVar3);
    pAVar4 = local_8;
    DestroyWindow(*(HWND *)(local_8 + 4));
    FUN_00416bf9((int *)pAVar4);
    local_10 = 1;
  }
  bVar2 = true;
LAB_0040b320:
  if ((((local_c != 0) && (!bVar2)) && (DAT_00425aec != 0)) &&
     (pAVar4 = FUN_00415e1f(), pAVar4 != (APOHandle *)0x0)) {
    FUN_0040b5fa(param_1,(int)pAVar4);
    local_10 = 1;
    pcVar1 = *(code **)(*(int *)pAVar4 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(pAVar4);
    (*pcVar1)();
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 600));
  if (local_10 != 0) {
    FUN_00414793(*(int *)((int)param_1 + 0x248),extraout_EDX,1);
    FUN_0040b009((int)param_1);
  }
  return 0;
}



/* Function: FUN_0040b392 */

undefined4 __thiscall FUN_0040b392(void *this,undefined4 param_1,int param_2,APOHandle *param_3)

{
  undefined4 uVar1;
  int *piVar2;
  int iVar3;
  TList<struct_APOHandle> *this_00;
  APOHandle *pAVar4;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  TList<struct_APOHandle> *extraout_ECX_01;
  float fVar5;
  float fVar6;
  void *local_c;
  APOHandle *local_8;
  
  SendMessageW(*(HWND *)((int)this + 0xfc),0x405,1,100 - param_2);
  FUN_0040b009((int)this);
  local_c = *(void **)((int)this + 0x24c);
  fVar5 = ((float)param_2 / DAT_00403674) / *(float *)((int)this + 0x1c4);
  *(float *)((int)this + 0x1c4) = (float)param_2 / DAT_00403674;
  fVar6 = fVar5;
  this_00 = extraout_ECX;
  while (local_c != (void *)0x0) {
    local_8 = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this_00,&local_c,&local_8);
    pAVar4 = local_8;
    this_00 = extraout_ECX_00;
    if (param_3 != local_8) {
      uVar1 = *(undefined4 *)((int)this + 0x1c4);
      *(float *)(local_8 + 0x5c) = *(float *)(local_8 + 0x5c) / fVar6;
      *(undefined4 *)(local_8 + 0x60) = uVar1;
      *(undefined4 *)(local_8 + 0x114) = uVar1;
      InvalidateRect(*(HWND *)(local_8 + 0x6c),(RECT *)0x0,1);
      SendMessageW(*(HWND *)(pAVar4 + 0x6c),0x438,0,0);
      FUN_00417463((int)pAVar4);
      fVar6 = fVar5;
      this_00 = extraout_ECX_01;
    }
  }
  piVar2 = *(int **)((int)this + 0xf0);
  if (piVar2 != (int *)0x0) {
    iVar3 = *piVar2;
    (*(code *)PTR_guard_check_icall_00427678)
              (piVar2,*(undefined4 *)((int)this + 0x1c4),&DAT_00425ac4);
    (**(code **)(iVar3 + 0x1c))();
  }
  return 0;
}



/* Function: FUN_0040b49f */

undefined4 __thiscall
FUN_0040b49f(void *this,undefined4 param_1,APOHandle *param_2,undefined4 param_3,undefined4 *param_4
            )

{
  TList<struct_APOHandle> *this_00;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  TList<struct_APOHandle> *extraout_ECX_01;
  void *local_c;
  APOHandle *local_8;
  
  if ((param_2 != (APOHandle *)0x0) && (*(int *)((int)this + 0x1c0) != 0)) {
    *(undefined4 *)((int)this + 0x1c0) = 0;
    local_c = this;
    local_8 = (APOHandle *)this;
    SendMessageW(*(HWND *)((int)this + 0xfc),0x432,1,0);
    EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
    local_c = *(void **)((int)this + 0x24c);
    this_00 = extraout_ECX;
    while (local_c != (void *)0x0) {
      local_8 = (APOHandle *)0x0;
      TList<struct_APOHandle>::GetNext(this_00,&local_c,&local_8);
      this_00 = extraout_ECX_00;
      if (local_8 != param_2) {
        SendMessageW(*(HWND *)(local_8 + 4),0x40a,0,0);
        this_00 = extraout_ECX_01;
      }
    }
    LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
    Sleep(0x14);
  }
  *param_4 = 0;
  return 0;
}



/* Function: FUN_0040b53e */

void __thiscall FUN_0040b53e(void *this,int param_1,int *param_2)

{
  void *pvVar1;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  TList<struct_APOHandle> *this_00;
  undefined4 extraout_EDX;
  void *local_30;
  APOHandle *local_2c;
  int local_28 [4];
  int local_18 [4];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_28[0] = *(int *)(param_1 + 0x68);
  local_28[1] = *(undefined4 *)(param_1 + 0x6c);
  local_28[2] = *(undefined4 *)(param_1 + 0x70);
  local_28[3] = *(undefined4 *)(param_1 + 0x74);
  EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
  local_30 = *(void **)((int)this + 0x24c);
  this_00 = extraout_ECX;
  do {
    do {
      pvVar1 = local_30;
      if (local_30 == (void *)0x0) {
LAB_0040b5ce:
        LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
        FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
        return;
      }
      local_2c = (APOHandle *)0x0;
      TList<struct_APOHandle>::GetNext(this_00,&local_30,&local_2c);
      this_00 = extraout_ECX_00;
    } while (local_2c == (APOHandle *)0x0);
    this_00 = (TList<struct_APOHandle> *)0x0;
    local_18[0] = *(int *)(local_2c + 0x2a4);
    local_18[1] = *(undefined4 *)(local_2c + 0x2a8);
    local_18[2] = *(undefined4 *)(local_2c + 0x2ac);
    local_18[3] = *(undefined4 *)(local_2c + 0x2b0);
    while (local_18[(int)this_00] == local_28[(int)this_00]) {
      this_00 = this_00 + 1;
      if (this_00 == (TList<struct_APOHandle> *)0x4) {
        if (param_2 != (int *)0x0) {
          *param_2 = (int)pvVar1;
        }
        goto LAB_0040b5ce;
      }
    }
  } while( true );
}



/* Function: FUN_0040b5fa */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall FUN_0040b5fa(void *this,int param_1)

{
  void *this_00;
  int *piVar1;
  HWND pHVar2;
  undefined4 extraout_EDX;
  undefined4 uVar3;
  int *this_01;
  
  uVar3 = 0;
  this_01 = (int *)0x0;
  EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
  if ((*(int *)(param_1 + 0x50) == 0) || (*(int *)(*(int *)((int)this + 0x24) + 0x38) != 0)) {
    this_00 = (void *)FUN_0041f39d(0x2d8);
    if (this_00 == (void *)0x0) {
      this_01 = (int *)0x0;
    }
    else {
      this_01 = FUN_0041694d(this_00,param_1);
    }
    if (this_01 != (int *)0x0) {
      if (*(int *)(param_1 + 0x50) == 0) {
        piVar1 = (int *)FUN_0041f39d(0xc);
        if (piVar1 == (int *)0x0) {
          piVar1 = (int *)0x0;
        }
        else {
          *piVar1 = 0;
          piVar1[1] = 0;
          piVar1[2] = (int)this_01;
          piVar1[1] = *(int *)((int)this + 0x250);
          if (*(undefined4 **)((int)this + 0x250) == (undefined4 *)0x0) {
            *(int **)((int)this + 0x24c) = piVar1;
          }
          else {
            **(undefined4 **)((int)this + 0x250) = piVar1;
          }
          *(int *)((int)this + 0x254) = *(int *)((int)this + 0x254) + 1;
          *(int **)((int)this + 0x250) = piVar1;
        }
      }
      else {
        piVar1 = FUN_0040ca2b((void *)((int)this + 0x24c),(int)this_01);
      }
      if (piVar1 != (int *)0x0) {
        LOCK();
        _DAT_00425b00 = _DAT_00425b00 + 1;
        UNLOCK();
        LOCK();
        this_01[0xb2] = this_01[0xb2] + 1;
        UNLOCK();
        pHVar2 = FUN_0040c87e(this_01,*(HWND *)(*(int *)(*(int *)((int)this + 0x248) + 0x54) + 4));
        if (pHVar2 != (HWND)0x0) {
          FUN_00414793(*(int *)((int)this + 0x248),extraout_EDX,1);
          *(int **)(param_1 + 0x14) = this_01;
          SendMessageW((HWND)this_01[1],0x417,(int)(*(float *)((int)this + 0x1c4) * _DAT_00403680),
                       *(LPARAM *)((int)this + 0x1c0));
          ShowWindow((HWND)this_01[1],5);
          FUN_0040b009((int)this);
        }
        goto LAB_0040b73b;
      }
    }
    uVar3 = 0x8007000e;
  }
LAB_0040b73b:
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
  if (this_01 != (int *)0x0) {
    FUN_00416bf9(this_01);
  }
  return uVar3;
}



/* Function: FUN_0040b75f */

undefined4 __thiscall FUN_0040b75f(void *this,undefined4 param_1,TList<struct_APOHandle> *param_2)

{
  code *pcVar1;
  void *this_00;
  int iVar2;
  int *local_8;
  
  local_8 = (int *)this;
  EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
  this_00 = (void *)FUN_0040b53e(this,(int)param_2,(int *)&local_8);
  if (this_00 != (void *)0x0) {
    iVar2 = FUN_004180dc(this_00,param_2);
    if (iVar2 == 0) {
      FUN_0040caf1((void *)((int)this + 0x24c),local_8);
      PostMessageW(*(HWND *)((int)this_00 + 4),0x420,0,(LPARAM)this_00);
    }
  }
  pcVar1 = *(code **)(*(int *)param_2 + 8);
  (*(code *)PTR_guard_check_icall_00427678)(param_2);
  (*pcVar1)();
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
  FUN_0040b009((int)this);
  return 0;
}



/* Function: FUN_0040b7ea */

void __thiscall FUN_0040b7ea(void *this,undefined4 param_1,TList<struct_APOHandle> *param_2)

{
  int iVar1;
  int iVar2;
  int *this_00;
  code *pcVar3;
  uint uVar4;
  void *this_01;
  int iVar5;
  int *piVar6;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  
  uVar4 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
  this_00 = *(int **)(param_2 + 0x14);
  this_01 = (void *)FUN_0040b53e(this,(int)param_2,(int *)0x0);
  if ((this_01 == (void *)0x0) && (this_00[0x13] == 1)) {
    iVar5 = *(int *)(param_2 + 0x6c);
    iVar1 = *(int *)(param_2 + 0x70);
    iVar2 = *(int *)(param_2 + 0x74);
    this_00[0xa9] = *(int *)(param_2 + 0x68);
    this_00[0xaa] = iVar5;
    this_00[0xab] = iVar1;
    this_00[0xac] = iVar2;
    LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
  }
  else {
    iVar5 = FUN_004180dc(this_00,param_2);
    if (iVar5 == 0) {
      for (piVar6 = *(int **)((int)this + 0x24c);
          (piVar6 != (int *)0x0 && ((int *)piVar6[2] != this_00)); piVar6 = (int *)*piVar6) {
      }
      FUN_0040caf1((undefined4 *)((int)this + 0x24c),piVar6);
      DestroyWindow((HWND)this_00[1]);
      FUN_00416bf9(this_00);
    }
    if (this_01 == (void *)0x0) {
      FUN_0040b5fa(this,(int)param_2);
    }
    else {
      FUN_00417fb9(this_01,(APOHandle *)param_2);
    }
    LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 600));
    FUN_00414793(*(int *)((int)this + 0x248),extraout_EDX,1);
    FUN_0040b009((int)this);
  }
  pcVar3 = *(code **)(*(int *)param_2 + 8);
  (*(code *)PTR_guard_check_icall_00427678)(param_2);
  (*pcVar3)();
  FUN_00420010(uVar4 ^ (uint)&stack0xfffffffc,extraout_EDX_00);
  return;
}



/* Function: FUN_0040b8ee */

undefined4 __thiscall FUN_0040b8ee(void *this)

{
  TList<struct_APOHandle> *pTVar1;
  HWND pHVar2;
  undefined4 *in_stack_00000010;
  int nIDDlgItem;
  
  pTVar1 = FUN_00414123();
  if (pTVar1 < (TList<struct_APOHandle> *)0x2) {
    pHVar2 = GetDlgItem(*(HWND *)((int)this + 4),0x12d);
    ShowWindow(pHVar2,0);
    if (*(int *)((int)this + 0x24) != 0) {
      FUN_0040bb5f(this,*(LPCWSTR *)(*(int *)((int)this + 0x24) + 0x18));
    }
    nIDDlgItem = 0x12f;
  }
  else {
    pHVar2 = GetDlgItem(*(HWND *)((int)this + 4),0x12f);
    ShowWindow(pHVar2,0);
    if (*(int *)((int)this + 0x24) != 0) {
      FUN_0040bb5f(this,*(LPCWSTR *)(*(int *)((int)this + 0x24) + 0x18));
    }
    nIDDlgItem = 0x12d;
  }
  pHVar2 = GetDlgItem(*(HWND *)((int)this + 4),nIDDlgItem);
  ShowWindow(pHVar2,5);
  *in_stack_00000010 = 0;
  return 0;
}



/* Function: FUN_0040b983 */

undefined4 __fastcall FUN_0040b983(TList<struct_APOHandle> *param_1)

{
  TList<struct_APOHandle> *this;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  TList<struct_APOHandle> *local_c;
  APOHandle *local_8;
  
  local_c = param_1;
  local_8 = (APOHandle *)param_1;
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 600));
  local_c = *(TList<struct_APOHandle> **)(param_1 + 0x24c);
  this = extraout_ECX;
  while (local_c != (TList<struct_APOHandle> *)0x0) {
    local_8 = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this,&local_c,&local_8);
    this = (TList<struct_APOHandle> *)local_8;
    if (local_8 != (APOHandle *)0x0) {
      FUN_00418356((int)local_8);
      this = extraout_ECX_00;
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 600));
  return 0;
}



/* Function: FUN_0040b9f0 */

void __fastcall FUN_0040b9f0(int *param_1)

{
  code *pcVar1;
  int *piVar2;
  int iVar3;
  APOHandle *pAVar4;
  int *local_8;
  
  piVar2 = DAT_00425aec;
  param_1[0x9c] = 0;
  local_8 = param_1;
  if (piVar2 != (int *)0x0) {
    FUN_00415dbe((int)piVar2);
  }
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x96));
  iVar3 = FUN_0040caa8(param_1 + 0x93,(int *)&local_8);
  piVar2 = local_8;
  while (local_8 = piVar2, iVar3 != 0) {
    DestroyWindow((HWND)piVar2[1]);
    FUN_00416bf9(piVar2);
    local_8 = (int *)0x0;
    iVar3 = FUN_0040caa8(param_1 + 0x93,(int *)&local_8);
    piVar2 = local_8;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x96));
  if (DAT_00425aec != (int *)0x0) {
    pcVar1 = *(code **)(*DAT_00425aec + 8);
    (*(code *)PTR_guard_check_icall_00427678)(DAT_00425aec);
    (*pcVar1)();
    DAT_00425aec = (int *)0x0;
  }
  FUN_0040f840(param_1);
  FUN_0040afc0((int)param_1);
  param_1[0xd2] = 0;
  param_1[0xd3] = 0;
  param_1[0xd4] = 0;
  param_1[0xd5] = 0;
  pAVar4 = FUN_004140be(0);
  if (pAVar4 == (APOHandle *)0x0) {
    FUN_0040ad7b(param_1,1);
  }
  return;
}



/* Function: FUN_0040bad0 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

int __thiscall FUN_0040bad0(void *this,int *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  if (param_1 == (int *)0x0) {
    iVar2 = 1;
  }
  else {
    iVar2 = FUN_0040f940(this,param_1);
    if (-1 < iVar2) {
      FUN_0040bb5f(this,(LPCWSTR)param_1[6]);
      *(undefined4 *)((int)this + 0x270) = 1;
      puVar1 = (undefined4 *)FUN_0041f39d(0x3c);
      if (puVar1 == (undefined4 *)0x0) {
        DAT_00425aec = (undefined4 *)0x0;
      }
      else {
        DAT_00425aec = FUN_00415a91(puVar1);
      }
      if (DAT_00425aec == (undefined4 *)0x0) {
        iVar2 = -0x7ff8fff2;
      }
      else {
        iVar2 = FUN_00415c45((int *)param_1[1]);
        FUN_0040ad7b(this,0);
      }
    }
  }
  return iVar2;
}



/* Function: FUN_0040bb5f */

void __thiscall FUN_0040bb5f(void *this,LPCWSTR param_1)

{
  TList<struct_APOHandle> *pTVar1;
  HWND hWnd;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined8 local_18;
  LPCWSTR local_10;
  undefined4 local_c;
  
  pTVar1 = FUN_00414123();
  if (pTVar1 < (TList<struct_APOHandle> *)0x2) {
    SetDlgItemTextW(*(HWND *)((int)this + 4),0x12f,param_1);
  }
  else {
    FUN_0040bbe5(this,param_1);
    local_c = 0;
    local_1c = 0xffffffff;
    local_18 = 0;
    local_28 = 0x20;
    local_24 = 3;
    local_20 = 0x12d;
    local_10 = param_1;
    hWnd = GetDlgItem(*(HWND *)((int)this + 4),0x12d);
    SendMessageW(hWnd,0x440,0x12d,(LPARAM)&local_28);
  }
  return;
}



/* Function: FUN_0040bbe5 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void __thiscall FUN_0040bbe5(void *this,short *param_1)

{
  LPCWSTR pWVar1;
  short sVar2;
  int iVar3;
  HDC hdc;
  HWND pHVar4;
  HGDIOBJ h;
  int iVar5;
  uint uVar6;
  undefined4 *puVar7;
  int *piVar8;
  short *psVar9;
  LPCWSTR pWVar10;
  int iVar11;
  undefined4 local_20;
  HDC local_1c;
  int *local_18;
  LPCWSTR local_14 [3];
  int local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x20;
  local_8 = 0x40bbf1;
  local_18 = (int *)0x0;
  FUN_0040d303(local_14,param_1);
  local_8 = 0;
  *(undefined4 *)((int)this + 0x38c) = 0;
  *(undefined4 *)((int)this + 0x388) = 0;
  *(undefined4 *)((int)this + 0x394) = *(undefined4 *)((int)this + 900);
  *(undefined4 *)((int)this + 0x390) = *(undefined4 *)((int)this + 0x380);
  hdc = GetDC(*(HWND *)((int)this + 4));
  local_1c = hdc;
  pHVar4 = GetDlgItem(*(HWND *)((int)this + 4),0x12d);
  h = (HGDIOBJ)SendMessageW(pHVar4,0x31,0,0);
  SelectObject(hdc,h);
  psVar9 = param_1;
  do {
    sVar2 = *psVar9;
    psVar9 = psVar9 + 1;
  } while (sVar2 != (short)local_18);
  iVar5 = ScriptStringAnalyse(hdc,param_1,(int)psVar9 - (int)(param_1 + 1) >> 1,0,0xffffffff,0x40,
                              *(undefined4 *)((int)this + 0x380),0,0,0,0,0,&local_20);
  if (-1 < iVar5) {
    iVar5 = ScriptString_pLogAttr(local_20);
    do {
      uVar6 = DrawTextW(hdc,local_14[0],*(int *)(local_14[0] + -6),(LPRECT)((int)this + 0x388),
                        0xac11);
      if (uVar6 < *(uint *)((int)this + 900)) break;
      iVar3 = *(int *)(local_14[0] + -6);
      do {
        iVar3 = iVar3 + -1;
        if (iVar3 == 0) goto LAB_0040bce4;
      } while ((*(byte *)(iVar3 + iVar5) & 2) == 0);
      iVar11 = 0;
      if (-1 < iVar3) {
        iVar11 = iVar3;
      }
      if (iVar11 < *(int *)(local_14[0] + -6)) {
        puVar7 = (undefined4 *)FUN_0040ccac((int *)local_14);
        FUN_0040c90c(&local_18,local_14[0],iVar11,puVar7);
      }
      else {
        local_18 = FUN_0040ccec((int *)(local_14[0] + -8));
        local_18 = local_18 + 4;
      }
      local_8._0_1_ = 1;
      pWVar1 = (LPCWSTR)(local_18 + -4);
      pWVar10 = local_14[0] + -8;
      if (pWVar1 != pWVar10) {
        if ((*(int *)(local_14[0] + -2) < 0) || (*(int *)pWVar1 != *(int *)pWVar10)) {
          FUN_0040d20b(local_14,local_18,local_18[-3]);
        }
        else {
          piVar8 = FUN_0040ccec((int *)pWVar1);
          FUN_0040d028((undefined4 *)pWVar10);
          local_14[0] = (LPCWSTR)(piVar8 + 4);
        }
      }
      local_8 = (uint)local_8._1_3_ << 8;
      FUN_0040d028((undefined4 *)pWVar1);
      hdc = local_1c;
      if (iVar3 == 0) {
LAB_0040bce4:
        *(undefined4 *)((int)this + 0x38c) = 0;
        *(undefined4 *)((int)this + 0x388) = 0;
        *(undefined4 *)((int)this + 0x394) = *(undefined4 *)((int)this + 900);
        break;
      }
    } while (*(uint *)((int)this + 900) <= uVar6);
  }
  *(undefined4 *)((int)this + 0x390) = *(undefined4 *)((int)this + 0x380);
  ScriptStringFree(&local_20);
  pHVar4 = GetDlgItem(*(HWND *)((int)this + 4),0x12d);
  SendMessageW(pHVar4,0x41f,0,
               CONCAT22(*(short *)((int)this + 0x394) - *(short *)((int)this + 0x38c),
                        *(short *)((int)this + 0x390) - *(short *)((int)this + 0x388)));
  ReleaseDC(*(HWND *)((int)this + 4),hdc);
  FUN_0040d028((undefined4 *)(local_14[0] + -8));
  return;
}



/* Function: FUN_0040be30 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_0040be30(APOHandle *param_1,undefined4 param_2)

{
  TList<struct_APOHandle> *this;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  APOHandle *local_c;
  APOHandle *local_8;
  
  local_c = param_1;
  local_8 = param_1;
  FUN_0040f1e0((int)param_1,param_2);
  local_c = *(APOHandle **)(param_1 + 0x24c);
  this = extraout_ECX;
  while (local_c != (APOHandle *)0x0) {
    local_8 = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this,&local_c,&local_8);
    this = (TList<struct_APOHandle> *)local_8;
    if (local_8 != (APOHandle *)0x0) {
      PostMessageW(*(HWND *)(local_8 + 4),0x417,(int)(*(float *)(param_1 + 0x1c4) * _DAT_00403680),
                   *(LPARAM *)(param_1 + 0x1c0));
      this = extraout_ECX_00;
    }
  }
  return;
}



/* Function: FUN_0040be9c */

void __fastcall
FUN_0040be9c(void *param_1,undefined4 param_2,int param_3,int param_4,undefined4 *param_5)

{
  HDC pHVar1;
  int iVar2;
  HWND hWnd;
  HGDIOBJ pvVar3;
  HRESULT HVar4;
  DWORD DVar5;
  HBRUSH hbr;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  HTHEME hTheme;
  HBRUSH local_34;
  HTHEME local_30;
  tagRECT local_2c;
  RECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  if (param_3 != 0x12d) {
    *param_5 = 0;
    goto LAB_0040c061;
  }
  iVar2 = *(int *)(param_4 + 0xc);
  if (iVar2 == 1) {
    pHVar1 = *(HDC *)(param_4 + 0x10);
    hbr = GetSysColorBrush(5);
    FillRect(pHVar1,(RECT *)(param_4 + 0x14),hbr);
    param_2 = extraout_EDX_02;
    goto LAB_0040c061;
  }
  if (iVar2 == 0x10001) {
    DVar5 = GetSysColor(5);
    *(DWORD *)(param_4 + 0x48) = DVar5;
    param_2 = extraout_EDX_01;
    goto LAB_0040c061;
  }
  if ((iVar2 != 0x10002) || (pHVar1 = *(HDC *)(param_4 + 0x10), *(int *)((int)param_1 + 0x24) == 0))
  goto LAB_0040c061;
  local_1c.left = *(LONG *)(param_4 + 0x54);
  local_1c.top = *(int *)(param_4 + 0x58);
  local_1c.right = *(LONG *)(param_4 + 0x5c);
  local_1c.bottom = *(int *)(param_4 + 0x60);
  local_30 = OpenThemeData((HWND)0x0,L"TOOLBAR");
  local_34 = GetSysColorBrush(5);
  local_2c.left = local_1c.left;
  local_2c.top = local_1c.top;
  local_2c.right = local_1c.right;
  local_2c.bottom = local_1c.bottom;
  if (local_30 == (HTHEME)0x0) {
    iVar2 = GetSystemMetrics(0x2e);
    InflateRect(&local_2c,0,-iVar2);
  }
  FillRect(pHVar1,&local_2c,local_34);
  hWnd = GetDlgItem(*(HWND *)((int)param_1 + 4),0x12d);
  pvVar3 = (HGDIOBJ)SendMessageW(hWnd,0x31,0,0);
  pvVar3 = SelectObject(pHVar1,pvVar3);
  SetTextColor(pHVar1,*(COLORREF *)(param_4 + 0x3c));
  SetBkColor(pHVar1,*(COLORREF *)(param_4 + 0x48));
  local_1c.top = local_1c.top +
                 (((*(int *)((int)param_1 + 0x38c) - *(int *)((int)param_1 + 0x394)) - local_1c.top)
                 + local_1c.bottom) / 2;
  hTheme = local_30;
  if (local_30 == (HTHEME)0x0) {
LAB_0040c002:
    DrawTextW(pHVar1,*(LPCWSTR *)(*(int *)((int)param_1 + 0x24) + 0x18),-1,&local_1c,0xa811);
  }
  else {
    FUN_0040c0db(param_1,(uint *)&local_34);
    hTheme = local_30;
    DrawThemeBackground(local_30,pHVar1,2,(int)local_34,(LPCRECT)(param_4 + 0x14),
                        (LPCRECT)(param_4 + 0x54));
    HVar4 = DrawThemeText(hTheme,pHVar1,2,(int)local_34,
                          *(LPCWSTR *)(*(int *)((int)param_1 + 0x24) + 0x18),-1,0xa815,0,&local_1c);
    if (HVar4 < 0) goto LAB_0040c002;
  }
  SelectObject(pHVar1,pvVar3);
  param_2 = extraout_EDX;
  if (hTheme != (HTHEME)0x0) {
    CloseThemeData(hTheme);
    param_2 = extraout_EDX_00;
  }
LAB_0040c061:
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_0040c078 */

undefined4 __thiscall FUN_0040c078(void *this,int param_1,int param_2,undefined4 *param_3)

{
  short *pv;
  short *psVar1;
  
  *param_3 = 0;
  if (param_1 == 0x12d) {
    if (*(int *)((int)this + 0x24) != 0) {
      pv = FUN_0041bce2(*(short **)(*(int *)((int)this + 0x24) + 0x1c));
      psVar1 = pv;
      if (pv == (short *)0x0) {
        psVar1 = *(short **)(*(int *)((int)this + 0x24) + 0x1c);
      }
      FUN_00405d17(*(short **)(param_2 + 0xc),*(uint *)(param_2 + 0x10),(int)psVar1);
      if (pv != (short *)0x0) {
        CoTaskMemFree(pv);
      }
    }
    *param_3 = 1;
  }
  return 0;
}



/* Function: FUN_0040c0db */

void __thiscall FUN_0040c0db(void *this,uint *param_1)

{
  HWND pHVar1;
  LRESULT LVar2;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined8 local_1c;
  undefined8 local_14;
  undefined4 local_c;
  
  local_c = 0;
  local_1c = 0;
  local_14 = 0;
  local_28 = 0x20;
  local_24 = 4;
  local_20 = 0x12d;
  pHVar1 = GetDlgItem(*(HWND *)((int)this + 4),0x12d);
  SendMessageW(pHVar1,0x43f,0x12d,(LPARAM)&local_28);
  pHVar1 = GetDlgItem(*(HWND *)((int)this + 4),0x12d);
  LVar2 = SendMessageW(pHVar1,0x447,0,0);
  *param_1 = 1;
  if ((local_1c & 0x200000000) == 0) {
    if ((local_1c & 0x400000000) == 0) {
      *param_1 = 4;
    }
    else if (LVar2 == -1) {
      if ((local_1c & 0x100000000) != 0) {
        *param_1 = 5;
      }
    }
    else {
      *param_1 = (local_1c._4_1_ & 1) << 2 | 2;
    }
  }
  else {
    *param_1 = 3;
  }
  return;
}



/* Function: FUN_0040c193 */

void __fastcall
FUN_0040c193(int *param_1,undefined4 param_2,int param_3,undefined4 *param_4,undefined4 *param_5)

{
  WCHAR WVar1;
  HWND hWnd;
  code *pcVar2;
  undefined4 *puVar3;
  HMENU pHVar4;
  int iVar5;
  uint uVar6;
  UINT UVar7;
  BOOL BVar8;
  LPWSTR pWVar9;
  undefined4 extraout_EDX;
  uint uVar10;
  UINT flags;
  MENUITEMINFOW local_7c;
  undefined4 *local_4c;
  undefined4 *local_48;
  LPWSTR local_44;
  undefined4 local_40;
  HMENU local_3c;
  UINT local_38;
  HMENU local_34;
  TPMPARAMS local_30;
  tagPOINT local_1c;
  int local_14;
  int local_10;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_48 = param_4;
  local_4c = param_5;
  if ((param_3 == 0x12d) && (param_4[2] == -0x2c6)) {
    pHVar4 = CreatePopupMenu();
    uVar10 = 0;
    local_40 = 0;
    local_38 = 0;
    local_3c = pHVar4;
    iVar5 = FUN_0040cde6();
    if (iVar5 != 0) {
      do {
        local_34 = (HMENU)0x0;
        iVar5 = FUN_00414028(uVar10,(int *)&local_34);
        if (((-1 < iVar5) && (local_34 != (HMENU)0x0)) && (local_34[5].unused == 1)) {
          memset(&local_7c,0,0x30);
          local_7c.cbSize = 0x30;
          local_7c.fMask = 99;
          local_7c.dwItemData = (ULONG_PTR)local_34;
          local_7c.dwTypeData = FUN_0041bce2((short *)local_34[7].unused);
          local_7c.wID = uVar10 + 0x8002;
          local_7c.fState = 0;
          local_44 = local_7c.dwTypeData + 1;
          pWVar9 = local_7c.dwTypeData;
          do {
            WVar1 = *pWVar9;
            pWVar9 = pWVar9 + 1;
          } while (WVar1 != (WCHAR)local_40);
          local_7c.cch = (int)pWVar9 - (int)local_44 >> 1;
          if (local_34 == (HMENU)param_1[9]) {
            local_38 = local_7c.wID;
          }
          InsertMenuItemW(pHVar4,0,1,&local_7c);
          if (local_7c.dwTypeData != (LPWSTR)0x0) {
            CoTaskMemFree(local_7c.dwTypeData);
            local_7c.dwTypeData = (LPWSTR)0x0;
          }
        }
        uVar10 = uVar10 + 1;
        uVar6 = FUN_0040cde6();
      } while (uVar10 < uVar6);
    }
    flags = 0;
    UVar7 = local_38;
    iVar5 = GetMenuItemCount(pHVar4);
    CheckMenuRadioItem(pHVar4,0x8002,iVar5 + 0x8001,UVar7,flags);
    puVar3 = local_48;
    SendMessageW((HWND)*local_48,0x433,local_48[3],(LPARAM)&local_1c);
    MapWindowPoints((HWND)*puVar3,(HWND)0x0,&local_1c,2);
    local_30.cbSize = 0x14;
    local_30.rcExclude.left = local_1c.x;
    local_30.rcExclude.top = local_1c.y;
    local_30.rcExclude.right = local_14;
    local_30.rcExclude.bottom = local_10;
    hWnd = (HWND)param_1[1];
    uVar10 = GetWindowLongW(hWnd,-0x14);
    pHVar4 = local_3c;
    if ((uVar10 & 0x400000) != 0) {
      local_1c.x = local_14;
    }
    UVar7 = TrackPopupMenuEx(local_3c,0x11c2,local_1c.x,local_10,hWnd,&local_30);
    if (UVar7 != 0) {
      memset(&local_7c,0,0x30);
      local_7c.cbSize = 0x30;
      local_7c.fMask = 0x22;
      local_7c.wID = UVar7;
      GetMenuItemInfoW(pHVar4,UVar7,0,&local_7c);
      local_3c = (HMENU)local_7c.dwItemData;
      if ((HMENU)param_1[9] != (HMENU)local_7c.dwItemData) {
        if (param_1[9] != 0) {
          pcVar2 = *(code **)(*param_1 + 0x10);
          (*(code *)PTR_guard_check_icall_00427678)();
          (*pcVar2)();
        }
        pcVar2 = *(code **)(*param_1 + 0x14);
        (*(code *)PTR_guard_check_icall_00427678)(local_3c);
        (*pcVar2)();
        FUN_0040f6bc((int)param_1);
        InvalidateRect((HWND)param_1[1],(RECT *)0x0,0);
      }
    }
    UVar7 = 0;
    iVar5 = GetMenuItemCount(pHVar4);
    if (0 < iVar5) {
      do {
        memset(&local_7c,0,0x30);
        local_7c.cbSize = 0x30;
        local_7c.fMask = 0x20;
        BVar8 = GetMenuItemInfoW(pHVar4,UVar7,1,&local_7c);
        if (BVar8 != 0) {
          pcVar2 = *(code **)(*(int *)local_7c.dwItemData + 8);
          (*(code *)PTR_guard_check_icall_00427678)(local_7c.dwItemData);
          (*pcVar2)();
        }
        UVar7 = UVar7 + 1;
        iVar5 = GetMenuItemCount(pHVar4);
      } while ((int)UVar7 < iVar5);
    }
    DestroyMenu(pHVar4);
    *local_4c = 1;
    param_2 = extraout_EDX;
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_0040c448 */

void __fastcall FUN_0040c448(void *param_1)

{
  void *pvVar1;
  HDC hdc;
  BOOL BVar2;
  HBRUSH pHVar3;
  APOHandle *ho;
  int mode;
  HRGN hRgn;
  undefined4 extraout_EDX;
  HDC pHStack_24;
  void *local_20;
  tagRECT tStack_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&pHStack_24;
  local_20 = param_1;
  hdc = GetDC((HWND)0x0);
  pHStack_24 = hdc;
  if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
      ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
     (3 < (byte)PTR_LOOP_004252dc[0x19])) {
    FUN_0040a5b1(0xc,&DAT_00402b94,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                 *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
  }
  BVar2 = BeginPath(hdc);
  if (BVar2 != 0) {
    GetClientRect(*(HWND *)((int)param_1 + 4),&tStack_1c);
    pHVar3 = GetSysColorBrush(5);
    ho = (APOHandle *)CreatePen(5,tStack_1c.bottom - tStack_1c.top,5);
    mode = SetBkMode(hdc,1);
    pvVar1 = local_20;
    FUN_0040c647(local_20,pHStack_24,pHVar3,ho);
    hdc = pHStack_24;
    SetBkMode(pHStack_24,mode);
    DeleteObject(ho);
    BVar2 = EndPath(hdc);
    if (BVar2 != 0) {
      hRgn = PathToRegion(hdc);
      if (hRgn != (HRGN)0x0) {
        SetWindowRgn(*(HWND *)((int)pvVar1 + 4),hRgn,1);
      }
    }
  }
  DeleteDC(hdc);
  FUN_00420010(local_c ^ (uint)&pHStack_24,extraout_EDX);
  return;
}



/* Function: FUN_0040c550 */

void __thiscall
FUN_0040c550(void *this,undefined4 param_1,HDC param_2,undefined4 param_3,undefined4 *param_4)

{
  HBRUSH ho;
  APOHandle *ho_00;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar1;
  HDC local_6c;
  HDC local_68;
  undefined4 *local_64;
  tagRECT local_60;
  tagPAINTSTRUCT local_50;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&local_6c;
  local_68 = param_2;
  local_64 = param_4;
  if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
      ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
     (3 < (byte)PTR_LOOP_004252dc[0x19])) {
    FUN_0040a58d(0xd,&DAT_00402b94,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                 *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
  }
  if (param_2 == (HDC)0x0) {
    local_6c = BeginPaint(*(HWND *)((int)this + 4),&local_50);
  }
  else {
    local_6c = param_2;
  }
  GetClientRect(*(HWND *)((int)this + 4),&local_60);
  ho = CreateSolidBrush(DAT_00425a6c);
  ho_00 = (APOHandle *)CreatePen(0,2,DAT_00425a6c);
  FUN_0040c647(this,local_6c,ho,ho_00);
  DeleteObject(ho);
  DeleteObject(ho_00);
  uVar1 = extraout_EDX;
  if (local_68 == (HDC)0x0) {
    EndPaint(*(HWND *)((int)this + 4),&local_50);
    uVar1 = extraout_EDX_00;
  }
  *local_64 = 1;
  FUN_00420010(local_c ^ (uint)&local_6c,uVar1);
  return;
}



/* Function: FUN_0040c647 */

void __thiscall FUN_0040c647(void *this,HDC param_1,HGDIOBJ param_2,APOHandle *param_3)

{
  void *pvVar1;
  HDC hdc;
  APOHandle *pAVar2;
  HWND hWnd;
  BOOL BVar3;
  TList<struct_APOHandle> *this_00;
  TList<struct_APOHandle> *extraout_ECX;
  uint uVar4;
  undefined4 extraout_EDX;
  int iVar5;
  undefined4 extraout_EDX_00;
  undefined4 uVar6;
  uint uVar7;
  int iVar8;
  undefined1 auStack_7c [4];
  uint uStack_78;
  int iStack_74;
  int iStack_70;
  APOHandle *local_6c;
  HGDIOBJ local_68;
  void *local_64;
  void *pvStack_60;
  APOHandle *pAStack_5c;
  HDC local_58;
  HGDIOBJ pvStack_54;
  HGDIOBJ pvStack_50;
  int iStack_4c;
  int iStack_48;
  int iStack_44;
  int iStack_40;
  tagRECT local_3c;
  RECT RStack_2c;
  tagRECT tStack_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)auStack_7c;
  local_68 = param_2;
  local_6c = param_3;
  local_58 = param_1;
  local_64 = this;
  GetClientRect(*(HWND *)((int)this + 4),&local_3c);
  iStack_74 = local_3c.left;
  uVar6 = extraout_EDX;
  if (local_3c.right != local_3c.left && -1 < local_3c.right - local_3c.left) {
    uVar7 = 0;
    pvStack_54 = SelectObject(param_1,local_68);
    pvStack_50 = SelectObject(param_1,local_6c);
    uStack_78 = *(uint *)(*(int *)((int)local_64 + 0x24) + 0x254);
    do {
      pvVar1 = local_64;
      local_68 = (HGDIOBJ)0x0;
      uVar4 = uStack_78;
      iStack_70 = local_3c.right;
      if (uVar7 < uStack_78) {
        do {
          pAStack_5c = (APOHandle *)0x0;
          if ((-1 < (int)uVar7) &&
             (this_00 = *(TList<struct_APOHandle> **)((int)pvVar1 + 0x24), uVar4 = uStack_78,
             (int)uVar7 <= *(int *)(this_00 + 0x254) + -1)) {
            local_6c = (APOHandle *)0x0;
            pvStack_60 = *(void **)(this_00 + 0x24c);
            iVar5 = 1;
            iVar8 = 0;
            do {
              pAVar2 = local_6c;
              if ((int)uVar7 < iVar8) break;
              iVar5 = TList<struct_APOHandle>::GetNext(this_00,&pvStack_60,&local_6c);
              iVar8 = iVar8 + 1;
              pAVar2 = pAStack_5c;
              this_00 = extraout_ECX;
            } while (iVar5 != 0);
            uVar4 = uStack_78;
            if ((iVar5 != 0) &&
               (hWnd = GetDlgItem(*(HWND *)(pAVar2 + 4),0x130), uVar4 = uStack_78, hWnd != (HWND)0x0
               )) {
              SendMessageW(hWnd,0x419,0,(LPARAM)&RStack_2c);
              MapWindowPoints(hWnd,*(HWND *)((int)pvVar1 + 4),(LPPOINT)&RStack_2c,2);
              BVar3 = IntersectRect(&tStack_1c,&local_3c,&RStack_2c);
              uVar4 = uStack_78;
              if (BVar3 != 0) {
                local_68 = (HGDIOBJ)(RStack_2c.right - RStack_2c.left);
                iStack_70 = local_3c.right;
                if (RStack_2c.left < local_3c.right) {
                  iStack_70 = RStack_2c.left;
                }
                uVar7 = uVar7 + 1;
                break;
              }
            }
          }
          uVar7 = uVar7 + 1;
        } while (uVar7 < uVar4);
      }
      iVar5 = iStack_74;
      iStack_4c = local_3c.left;
      iStack_48 = local_3c.top;
      iStack_44 = local_3c.right;
      iStack_40 = local_3c.bottom;
      if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
          ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
         (3 < (byte)PTR_LOOP_004252dc[0x19])) {
        FUN_0040a5db(*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                     *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
      }
      hdc = local_58;
      Rectangle(local_58,iVar5,iStack_48,iStack_70,iStack_40);
      iStack_74 = (int)local_68 + iStack_70;
      iStack_70 = local_3c.right;
    } while (iStack_74 < local_3c.right);
    SelectObject(hdc,pvStack_54);
    SelectObject(hdc,pvStack_50);
    uVar6 = extraout_EDX_00;
  }
  FUN_00420010(local_c ^ (uint)auStack_7c,uVar6);
  return;
}



/* Function: FUN_0040c87e */

HWND __thiscall FUN_0040c87e(void *this,HWND param_1)

{
  int iVar1;
  HWND pHVar2;
  
  iVar1 = FUN_00409c80((int *)((int)this + 8),0,0);
  if (iVar1 == 0) {
    SetLastError(0xe);
    pHVar2 = (HWND)0x0;
  }
  else {
    FUN_00409b19((int *)((int)this + 8),(int)this);
    pHVar2 = CreateDialogParamW((HINSTANCE)PTR_IMAGE_DOS_HEADER_00425350,(LPCWSTR)0xca,param_1,
                                FUN_00409690,0);
  }
  return pHVar2;
}



/* Function: FUN_0040c8d3 */

bool __thiscall FUN_0040c8d3(void *this,uint param_1)

{
  void *pvVar1;
  bool bVar2;
  
  if ((int)((ulonglong)param_1 * 2 >> 0x20) == 0) {
    pvVar1 = malloc((size_t)((ulonglong)param_1 * 2));
    bVar2 = pvVar1 != (void *)0x0;
    *(void **)this = pvVar1;
  }
  else {
    bVar2 = false;
  }
  return bVar2;
}



/* Function: FUN_0040c90c */

int * __thiscall FUN_0040c90c(void *this,void *param_1,int param_2,undefined4 *param_3)

{
  code *pcVar1;
  int iVar2;
  int *piVar3;
  undefined4 uVar4;
  
  if (param_3 == (undefined4 *)0x0) {
    uVar4 = 0x80004005;
  }
  else {
    if ((param_1 != (void *)0x0) || (param_2 == 0)) {
      pcVar1 = *(code **)*param_3;
      (*(code *)PTR_guard_check_icall_00427678)(param_2,2);
      iVar2 = (*pcVar1)();
      if (iVar2 != 0) {
        *(int *)this = iVar2 + 0x10;
        FUN_0040d1d8(this,param_2);
                    /* WARNING: Load size is inaccurate */
        memcpy_s(*this,param_2 * 2,param_1,param_2 * 2);
        return (int *)this;
      }
      goto LAB_0040c980;
    }
    uVar4 = 0x80070057;
  }
  FUN_00409c00(uVar4);
LAB_0040c980:
  FUN_0040d0ee();
  pcVar1 = (code *)swi(3);
  piVar3 = (int *)(*pcVar1)();
  return piVar3;
}



/* Function: FUN_0040c98c */

HWND __thiscall
FUN_0040c98c(void *this,HWND param_1,int *param_2,LPCWSTR param_3,uint param_4,DWORD param_5,
            HMENU param_6,ushort param_7)

{
  int iVar1;
  HWND pHVar2;
  
  iVar1 = FUN_00409c80((int *)((int)this + 8),0,0);
  if (iVar1 == 0) {
    SetLastError(0xe);
    pHVar2 = (HWND)0x0;
  }
  else if (param_7 == 0) {
    pHVar2 = (HWND)0x0;
  }
  else {
    FUN_00409b19((int *)((int)this + 8),(int)this);
    if ((param_6 == (HMENU)0x0) && ((param_4 & 0x40000000) != 0)) {
      param_6 = (HMENU)this;
    }
    if (param_2 == (int *)0x0) {
      param_2 = &DAT_00425514;
    }
    pHVar2 = CreateWindowExW(param_5,(LPCWSTR)(uint)param_7,param_3,param_4,*param_2,param_2[1],
                             param_2[2] - *param_2,param_2[3] - param_2[1],param_1,param_6,
                             (HINSTANCE)PTR_IMAGE_DOS_HEADER_0042534c,(LPVOID)0x0);
  }
  return pHVar2;
}



/* Function: FUN_0040ca2b */

int * __thiscall FUN_0040ca2b(void *this,int param_1)

{
  int *piVar1;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  piVar1 = (int *)FUN_0041f39d(0xc);
  if (piVar1 == (int *)0x0) {
    piVar1 = (int *)0x0;
  }
  else {
    *piVar1 = 0;
    piVar1[1] = 0;
    piVar1[2] = param_1;
                    /* WARNING: Load size is inaccurate */
    *piVar1 = *this;
    piVar1[1] = 0;
                    /* WARNING: Load size is inaccurate */
    if (*this == 0) {
      *(int **)((int)this + 4) = piVar1;
    }
    else {
      *(int **)(*this + 4) = piVar1;
    }
    *(int *)((int)this + 8) = *(int *)((int)this + 8) + 1;
    *(int **)this = piVar1;
  }
  ExceptionList = local_10;
  return piVar1;
}



/* Function: FUN_0040caa8 */

undefined4 __thiscall FUN_0040caa8(void *this,int *param_1)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  
                    /* WARNING: Load size is inaccurate */
  if ((param_1 == (int *)0x0) || (piVar1 = *this, piVar1 == (int *)0x0)) {
    uVar3 = 0;
  }
  else {
    *param_1 = piVar1[2];
    iVar2 = *piVar1;
    *(int *)this = iVar2;
    if (iVar2 == 0) {
      *(undefined4 *)((int)this + 4) = 0;
    }
    else {
      *(undefined4 *)(iVar2 + 4) = 0;
    }
    operator_delete(piVar1);
    *(int *)((int)this + 8) = *(int *)((int)this + 8) + -1;
    uVar3 = 1;
  }
  return uVar3;
}



/* Function: FUN_0040caf1 */

void __thiscall FUN_0040caf1(void *this,int *param_1)

{
                    /* WARNING: Load size is inaccurate */
  if (param_1 == *this) {
    *(int *)this = *param_1;
  }
  else {
    *(int *)param_1[1] = *param_1;
  }
  if (param_1 == *(int **)((int)this + 4)) {
    *(int *)((int)this + 4) = param_1[1];
  }
  else {
    *(int *)(*param_1 + 4) = param_1[1];
  }
  operator_delete(param_1);
  *(int *)((int)this + 8) = *(int *)((int)this + 8) + -1;
  return;
}



/* Function: GetNext */

/* Library Function - Single Match
    public: int __thiscall TList<struct APOHandle>::GetNext(void * &,struct APOHandle * *)const 
   
   Libraries: Visual Studio 2012 Release, Visual Studio 2015 Release, Visual Studio 2017 Release,
   Visual Studio 2019 Release */

int __thiscall
TList<struct_APOHandle>::GetNext(TList<struct_APOHandle> *this,void **param_1,APOHandle **param_2)

{
  undefined4 *puVar1;
  int iVar2;
  
  puVar1 = (undefined4 *)*param_1;
  if (puVar1 == (undefined4 *)0x0) {
    iVar2 = 0;
  }
  else {
    *param_1 = (void *)*puVar1;
    if (param_2 != (APOHandle **)0x0) {
      *param_2 = (APOHandle *)puVar1[2];
    }
    iVar2 = 1;
  }
  return iVar2;
}



/* Function: FUN_0040cb70 */

void __thiscall FUN_0040cb70(void *this,byte param_1)

{
  FUN_0040a740((void *)((int)this + -0x224),param_1);
  return;
}



/* Function: FUN_0040cb90 */

int FUN_0040cb90(int *param_1,uint param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  code *pcVar2;
  undefined4 extraout_ECX;
  undefined4 *extraout_EDX;
  bool bVar3;
  undefined1 local_30 [36];
  LONG local_c;
  int local_8;
  
  FUN_00409cb5(local_30,param_1[1],param_2,param_3,param_4);
  iVar1 = extraout_EDX[6];
  extraout_EDX[6] = extraout_ECX;
  pcVar2 = *(code **)*extraout_EDX;
  (*(code *)PTR_guard_check_icall_00427678)(extraout_EDX[1],param_2,param_3,param_4,&local_c,0);
  local_8 = (*pcVar2)();
  param_1[6] = iVar1;
  if (local_8 == 0) {
    local_c = local_8;
    if (param_2 == 0x82) {
      param_1[7] = param_1[7] | 1;
    }
  }
  else {
    if (param_2 < 0x134) {
      if ((((param_2 == 0x133) || (param_2 == 0x2e)) ||
          ((param_2 == 0x2f || ((param_2 == 0x37 || (param_2 == 0x39)))))) || (param_2 == 0x110))
      goto LAB_0040cc5b;
      bVar3 = param_2 == 0x132;
    }
    else {
      if ((((param_2 == 0x134) || (param_2 == 0x135)) || (param_2 == 0x136)) || (param_2 == 0x137))
      goto LAB_0040cc5b;
      bVar3 = param_2 == 0x138;
    }
    if (!bVar3) {
      SetWindowLongW((HWND)param_1[1],0,local_c);
      local_c = local_8;
    }
  }
LAB_0040cc5b:
  if (((param_1[7] & 1U) != 0) && (param_1[6] == 0)) {
    iVar1 = param_1[1];
    param_1[1] = 0;
    param_1[7] = param_1[7] & 0xfffffffe;
    pcVar2 = *(code **)(*param_1 + 0xc);
    (*(code *)PTR_guard_check_icall_00427678)(iVar1);
    (*pcVar2)();
  }
  return local_c;
}



/* Function: FUN_0040cca0 */

undefined * FUN_0040cca0(void)

{
  return FUN_0040cb90;
}



/* Function: FUN_0040ccac */

void __fastcall FUN_0040ccac(int *param_1)

{
  code *pcVar1;
  int iVar2;
  
  if (*(int **)(*param_1 + -0x10) != (int *)0x0) {
    pcVar1 = *(code **)(**(int **)(*param_1 + -0x10) + 0x10);
    (*(code *)PTR_guard_check_icall_00427678)();
    iVar2 = (*pcVar1)();
    if (iVar2 != 0) {
      return;
    }
  }
  pcVar1 = *(code **)(PTR_PTR_00425384 + 0x10);
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar1)();
  return;
}



/* Function: FUN_0040ccec */

int * __fastcall FUN_0040ccec(int *param_1)

{
  rsize_t _DstSize;
  code *pcVar1;
  undefined4 *puVar2;
  int *piVar3;
  
  pcVar1 = *(code **)(*(int *)*param_1 + 0x10);
  (*(code *)PTR_guard_check_icall_00427678)();
  puVar2 = (undefined4 *)(*pcVar1)();
  piVar3 = param_1 + 3;
  if ((*piVar3 < 0) || (puVar2 != (undefined4 *)*param_1)) {
    pcVar1 = *(code **)*puVar2;
    (*(code *)PTR_guard_check_icall_00427678)(param_1[1],2);
    piVar3 = (int *)(*pcVar1)();
    if (piVar3 == (int *)0x0) {
      FUN_0040d0ee();
      pcVar1 = (code *)swi(3);
      piVar3 = (int *)(*pcVar1)();
      return piVar3;
    }
    piVar3[1] = param_1[1];
    _DstSize = param_1[1] * 2 + 2;
    memcpy_s(piVar3 + 4,_DstSize,param_1 + 4,_DstSize);
  }
  else {
    LOCK();
    *piVar3 = *piVar3 + 1;
    UNLOCK();
    piVar3 = param_1;
  }
  return piVar3;
}



/* Function: FUN_0040cd6b */

/* WARNING: Function: __SEH_prolog4 replaced with injection: SEH_prolog4 */

void __fastcall FUN_0040cd6b(undefined4 *param_1)

{
  void *local_14;
  
  EnterCriticalSection((LPCRITICAL_SECTION)*param_1);
  *(undefined1 *)(param_1 + 1) = 1;
  ExceptionList = local_14;
  return;
}



/* Function: FUN_0040cdc7 */

void __fastcall FUN_0040cdc7(undefined4 *param_1)

{
  if (*(char *)(param_1 + 1) != '\0') {
    LeaveCriticalSection((LPCRITICAL_SECTION)*param_1);
    *(undefined1 *)(param_1 + 1) = 0;
  }
  return;
}



/* Function: FUN_0040cde6 */

undefined4 FUN_0040cde6(void)

{
  undefined4 uVar1;
  int iVar2;
  LPCRITICAL_SECTION local_c;
  undefined4 local_8;
  
  iVar2 = DAT_00425aa0;
  local_8 = 0;
  local_c = (LPCRITICAL_SECTION)(DAT_00425aa0 + 0x14);
  FUN_0040cd6b(&local_c);
  uVar1 = *(undefined4 *)(iVar2 + 0x10);
  if ((char)local_8 != '\0') {
    LeaveCriticalSection(local_c);
  }
  return uVar1;
}



/* Function: FUN_0040ce23 */

void __fastcall FUN_0040ce23(int *param_1)

{
  FUN_0040d028((undefined4 *)(*param_1 + -0x10));
  return;
}



/* Function: FUN_0040ce33 */

int * __thiscall FUN_0040ce33(void *this,int *param_1)

{
  code *pcVar1;
  int iVar2;
  int *piVar3;
  
  if (param_1 != (int *)0x0) {
    pcVar1 = *(code **)(*param_1 + 0xc);
    (*(code *)PTR_guard_check_icall_00427678)();
    iVar2 = (*pcVar1)();
    *(int *)this = iVar2 + 0x10;
    return (int *)this;
  }
  FUN_00409c00(0x80004005);
  pcVar1 = (code *)swi(3);
  piVar3 = (int *)(*pcVar1)();
  return piVar3;
}



/* Function: FUN_0040ce74 */

ushort * __fastcall FUN_0040ce74(HMODULE param_1,HRSRC param_2,uint param_3)

{
  ushort *puVar1;
  HGLOBAL hResData;
  ushort *puVar2;
  DWORD DVar3;
  uint uVar4;
  
  hResData = LoadResource(param_1,param_2);
  if ((hResData != (HGLOBAL)0x0) &&
     (puVar2 = (ushort *)LockResource(hResData), puVar2 != (ushort *)0x0)) {
    DVar3 = SizeofResource(param_1,param_2);
    puVar1 = (ushort *)((int)puVar2 + DVar3);
    for (uVar4 = param_3 & 0xf; uVar4 != 0; uVar4 = uVar4 - 1) {
      if (puVar1 <= puVar2) {
        return (ushort *)0x0;
      }
      puVar2 = puVar2 + *puVar2 + 1;
    }
    if (puVar2 < puVar1) {
      if (*puVar2 == 0) {
        return (ushort *)0x0;
      }
      return puVar2;
    }
  }
  return (ushort *)0x0;
}



/* Function: FUN_0040cedd */

undefined4 __fastcall FUN_0040cedd(int param_1)

{
  undefined4 uVar1;
  
  if (param_1 == 0) {
    return 0;
  }
  if (param_1 == 0xc) {
    uVar1 = 0x8007000e;
  }
  else if ((param_1 == 0x16) || (param_1 == 0x22)) {
    uVar1 = 0x80070057;
  }
  else {
    if (param_1 == 0x50) {
      return 0x50;
    }
    uVar1 = 0x80004005;
  }
  uVar1 = FUN_00409c00(uVar1);
  return uVar1;
}



/* Function: FUN_0040cf16 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __thiscall FUN_0040cf16(void *this,HMODULE param_1,uint param_2)

{
  HRSRC pHVar1;
  ushort *puVar2;
  void *_Dst;
  errno_t eVar3;
  uint uVar4;
  
  pHVar1 = FindResourceExW(param_1,(LPCWSTR)0x6,(LPCWSTR)((param_2 >> 4) + 1 & 0xffff),0);
  if ((pHVar1 != (HRSRC)0x0) &&
     (puVar2 = FUN_0040ce74(param_1,pHVar1,param_2), puVar2 != (ushort *)0x0)) {
    uVar4 = (uint)*puVar2;
    _Dst = (void *)FUN_0040d1a9(this,uVar4);
    eVar3 = memcpy_s(_Dst,uVar4 * 2,puVar2 + 1,(uint)*puVar2 * 2);
    FUN_0040cedd(eVar3);
    FUN_0040d1d8(this,uVar4);
    return 1;
  }
  return 0;
}



/* Function: FUN_0040cfad */

undefined4 __thiscall FUN_0040cfad(void *this,uint param_1)

{
  HMODULE hModule;
  HRSRC pHVar1;
  ushort *puVar2;
  undefined4 uVar3;
  int iVar4;
  
  hModule = (HMODULE)FUN_0041a510(0);
  if (hModule != (HMODULE)0x0) {
    iVar4 = 1;
    do {
      pHVar1 = FindResourceExW(hModule,(LPCWSTR)0x6,(LPCWSTR)((param_1 >> 4) + 1 & 0xffff),0);
      if ((pHVar1 != (HRSRC)0x0) &&
         (puVar2 = FUN_0040ce74(hModule,pHVar1,param_1), puVar2 != (ushort *)0x0)) {
        if (hModule == (HMODULE)0x0) {
          return 0;
        }
        uVar3 = FUN_0040cf16(this,hModule,param_1);
        return uVar3;
      }
      hModule = (HMODULE)FUN_0041a510(iVar4);
      iVar4 = iVar4 + 1;
    } while (hModule != (HMODULE)0x0);
  }
  return 0;
}



/* Function: FUN_0040d028 */

void __fastcall FUN_0040d028(undefined4 *param_1)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  
  LOCK();
  piVar1 = param_1 + 3;
  iVar2 = *piVar1;
  *piVar1 = *piVar1 + -1;
  UNLOCK();
  if (iVar2 == 1 || iVar2 + -1 < 0) {
    pcVar3 = *(code **)(*(int *)*param_1 + 4);
    (*(code *)PTR_guard_check_icall_00427678)(param_1);
    (*pcVar3)();
  }
  return;
}



/* Function: FUN_0040d054 */

void __thiscall FUN_0040d054(void *this,int param_1)

{
  rsize_t _DstSize;
  void *_Src;
  int iVar1;
  code *pcVar2;
  undefined4 *puVar3;
  int iVar4;
  
                    /* WARNING: Load size is inaccurate */
  _Src = *this;
  iVar1 = *(int *)((int)_Src + -0xc);
  pcVar2 = *(code **)(**(int **)((int)_Src + -0x10) + 0x10);
  (*(code *)PTR_guard_check_icall_00427678)();
  puVar3 = (undefined4 *)(*pcVar2)();
  pcVar2 = *(code **)*puVar3;
  (*(code *)PTR_guard_check_icall_00427678)(param_1,2);
  iVar4 = (*pcVar2)();
  if (iVar4 != 0) {
    if (iVar1 < param_1) {
      param_1 = iVar1;
    }
    _DstSize = param_1 * 2 + 2;
    memcpy_s((void *)(iVar4 + 0x10),_DstSize,_Src,_DstSize);
    *(int *)(iVar4 + 4) = iVar1;
    FUN_0040d028((undefined4 *)((int)_Src + -0x10));
    *(void **)this = (void *)(iVar4 + 0x10);
    return;
  }
  FUN_0040d0ee();
  pcVar2 = (code *)swi(3);
  (*pcVar2)();
  return;
}



/* Function: FUN_0040d0ee */

void FUN_0040d0ee(void)

{
  FUN_00409c00(0x8007000e);
  return;
}



/* Function: FUN_0040d0fe */

void __thiscall FUN_0040d0fe(void *this,int param_1)

{
  code *pcVar1;
  int iVar2;
  undefined4 *puVar3;
  
                    /* WARNING: Load size is inaccurate */
  puVar3 = (undefined4 *)(*this + -0x10);
  if ((*(int *)(*this + -8) < param_1) && (0 < param_1)) {
    pcVar1 = *(code **)(*(int *)*puVar3 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(puVar3,param_1,2);
    iVar2 = (*pcVar1)();
    if (iVar2 != 0) {
      *(int *)this = iVar2 + 0x10;
      return;
    }
  }
  FUN_0040d0ee();
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_0040d14c */

void __thiscall FUN_0040d14c(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
                    /* WARNING: Load size is inaccurate */
  iVar1 = *this;
  if (param_1 < *(int *)(iVar1 + -0xc)) {
    param_1 = *(int *)(iVar1 + -0xc);
  }
  if (*(int *)(iVar1 + -4) < 2) {
    iVar1 = *(int *)(iVar1 + -8);
    if (iVar1 < param_1) {
      if (iVar1 < 0x40000001) {
        iVar2 = iVar1 / 2;
      }
      else {
        iVar2 = 0x100000;
      }
      if (param_1 <= iVar2 + iVar1) {
        param_1 = iVar2 + iVar1;
      }
      FUN_0040d0fe(this,param_1);
    }
  }
  else {
    FUN_0040d054(this,param_1);
  }
  return;
}



/* Function: FUN_0040d1a9 */

int __thiscall FUN_0040d1a9(void *this,int param_1)

{
                    /* WARNING: Load size is inaccurate */
  if ((int)(1U - *(int *)(*this + -4) | *(int *)(*this + -8) - param_1) < 0) {
    FUN_0040d14c(this,param_1);
  }
                    /* WARNING: Load size is inaccurate */
  return *this;
}



/* Function: FUN_0040d1d8 */

void __thiscall FUN_0040d1d8(void *this,int param_1)

{
  code *pcVar1;
  
                    /* WARNING: Load size is inaccurate */
  if ((-1 < param_1) && (param_1 <= *(int *)(*this + -8))) {
    *(int *)(*this + -0xc) = param_1;
                    /* WARNING: Load size is inaccurate */
    *(undefined2 *)(*this + param_1 * 2) = 0;
    return;
  }
  FUN_00409c00(0x80070057);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_0040d20b */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void __thiscall FUN_0040d20b(void *this,void *param_1,int param_2)

{
  int *piVar1;
  code *pcVar2;
  uint uVar3;
  rsize_t _DstSize;
  int iVar4;
  void *_Dst;
  uint uVar5;
  
  if (param_2 == 0) {
                    /* WARNING: Load size is inaccurate */
    iVar4 = *this;
    piVar1 = *(int **)(iVar4 + -0x10);
    if (*(int *)(iVar4 + -0xc) == 0) {
      return;
    }
    if (-1 < *(int *)(iVar4 + -4)) {
      FUN_0040d028((undefined4 *)(iVar4 + -0x10));
      pcVar2 = *(code **)(*piVar1 + 0xc);
      (*(code *)PTR_guard_check_icall_00427678)();
      iVar4 = (*pcVar2)();
      *(int *)this = iVar4 + 0x10;
      return;
    }
    param_2 = 0;
  }
  else {
    if (param_1 == (void *)0x0) {
      FUN_00409c00(0x80070057);
      pcVar2 = (code *)swi(3);
      (*pcVar2)();
      return;
    }
                    /* WARNING: Load size is inaccurate */
    uVar5 = (int)param_1 - *this >> 1;
    uVar3 = *(uint *)(*this + -0xc);
    _Dst = (void *)FUN_0040d1a9(this,param_2);
    _DstSize = param_2 * 2;
    if (uVar3 < uVar5) {
      memcpy_s(_Dst,_DstSize,param_1,_DstSize);
    }
    else {
      memmove_s(_Dst,_DstSize,(void *)((int)_Dst + uVar5 * 2),_DstSize);
    }
  }
  FUN_0040d1d8(this,param_2);
  return;
}



/* Function: FUN_0040d2c0 */

void * __thiscall FUN_0040d2c0(void *this,short *param_1)

{
  short sVar1;
  int iVar2;
  short *psVar3;
  
  if (param_1 == (short *)0x0) {
    iVar2 = 0;
  }
  else {
    psVar3 = param_1;
    do {
      sVar1 = *psVar3;
      psVar3 = psVar3 + 1;
    } while (sVar1 != 0);
    iVar2 = (int)psVar3 - (int)(param_1 + 1) >> 1;
  }
  FUN_0040d20b(this,param_1,iVar2);
  return this;
}



/* Function: FUN_0040d303 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void * __thiscall FUN_0040d303(void *this,short *param_1)

{
  FUN_0040ce33(this,(int *)&PTR_PTR_00425384);
  if ((param_1 == (short *)0x0) || (((uint)param_1 & 0xffff0000) != 0)) {
    FUN_0040d2c0(this,param_1);
  }
  else {
    FUN_0040cfad(this,(uint)param_1 & 0xffff);
  }
  return this;
}



/* Function: FUN_0040d355 */

undefined4 __thiscall FUN_0040d355(void *this,HWND param_1)

{
  code *pcVar1;
  int iVar2;
  LONG LVar3;
  void *pvVar4;
  
                    /* WARNING: Load size is inaccurate */
  pcVar1 = *(code **)(*this + 8);
  pvVar4 = this;
  (*(code *)PTR_guard_check_icall_00427678)();
  iVar2 = (*pcVar1)();
  iVar2 = FUN_00409c80((void *)((int)this + 8),iVar2,pvVar4);
  if (iVar2 != 0) {
    iVar2 = FUN_0041aa8b(*(int **)((int)this + 0x14));
    LVar3 = SetWindowLongW(param_1,-4,iVar2);
    if (LVar3 != 0) {
      *(LONG *)((int)this + 0x20) = LVar3;
      *(HWND *)((int)this + 4) = param_1;
      return 1;
    }
  }
  return 0;
}



/* Function: FUN_0040d3af */

void __fastcall FUN_0040d3af(LPCRITICAL_SECTION param_1)

{
  DeleteCriticalSection(param_1);
  return;
}



/* Function: FUN_0040d3bf */

/* WARNING: Function: __SEH_prolog4 replaced with injection: SEH_prolog4 */

LPCRITICAL_SECTION __fastcall FUN_0040d3bf(LPCRITICAL_SECTION param_1)

{
  undefined4 local_14;
  
  InitializeCriticalSection(param_1);
  ExceptionList = local_14;
  return param_1;
}



/* Function: guard_check_icall */

/* guard_check_icall */

void __cdecl guard_check_icall(void)

{
  return;
}



/* Function: FUN_0040d430 */

void __fastcall
FUN_0040d430(int *param_1,undefined4 param_2,undefined4 param_3,int param_4,HDC param_5,HWND param_6
            ,undefined4 *param_7,int param_8)

{
  POINT pt;
  bool bVar1;
  int iVar2;
  HBRUSH pHVar3;
  BOOL BVar4;
  undefined3 extraout_var;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined8 uVar5;
  undefined1 auStack_2c [4];
  int *local_28;
  HWND local_24;
  undefined4 local_20;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)auStack_2c;
  local_20 = param_3;
  local_24 = param_6;
  local_28 = param_1;
  if (param_8 != 0) goto LAB_0040d5b1;
  if (param_4 == 0x24) {
    GetWindowRect((HWND)param_1[1],&local_1c);
    param_6[8].unused = local_1c.right - local_1c.left;
    param_6[6].unused = local_1c.right - local_1c.left;
    param_6[9].unused = local_1c.bottom - local_1c.top;
    param_6[7].unused = local_1c.bottom - local_1c.top;
    *param_7 = 0;
    param_2 = extraout_EDX;
    goto LAB_0040d5b1;
  }
  if (param_4 == 0x111) {
    if (((short)param_5 != 0x133) || (param_2 = 0, (short)((uint)param_5 >> 0x10) != 0))
    goto LAB_0040d57d;
    uVar5 = FUN_0040d9a5((int)param_1);
  }
  else {
    if (param_4 == 0x138) {
      iVar2 = GetDlgCtrlID(param_6);
      if (iVar2 == 0x133) {
        pHVar3 = GetSysColorBrush(0xf);
        uVar5 = CONCAT44(extraout_EDX_01,pHVar3);
        goto LAB_0040d4d3;
      }
      *param_7 = 0;
      param_2 = extraout_EDX_00;
    }
    else if (param_4 == 0x84) {
      GetClientRect((HWND)param_1[1],&local_1c);
      FUN_0041bc56((HWND)local_28[1],&local_1c.left);
      pt.y = (int)(short)((uint)param_6 >> 0x10);
      pt.x = (int)(short)param_6;
      BVar4 = PtInRect(&local_1c,pt);
      *param_7 = 0;
      param_2 = extraout_EDX_02;
      param_6 = local_24;
      if (BVar4 == 0) goto LAB_0040d5b1;
    }
    else if (param_4 == 0x14) {
      local_24 = (HWND)0x1;
      uVar5 = FUN_0040daba(param_1,param_1,param_5,param_1,&local_24);
      param_2 = (undefined4)((ulonglong)uVar5 >> 0x20);
      *param_7 = (int)uVar5;
      if (local_24 != (HWND)0x0) goto LAB_0040d5b1;
    }
LAB_0040d57d:
    bVar1 = FUN_00409d20(local_28,param_2,local_20,param_4,param_5,&param_6->unused,param_7,0);
    param_2 = extraout_EDX_03;
    if ((CONCAT31(extraout_var,bVar1) != 0) || (param_4 != 0x110)) goto LAB_0040d5b1;
    uVar5 = FUN_0040d72e(local_28);
  }
LAB_0040d4d3:
  param_2 = (undefined4)((ulonglong)uVar5 >> 0x20);
  *param_7 = (int)uVar5;
LAB_0040d5b1:
  FUN_00420010(local_c ^ (uint)auStack_2c,param_2);
  return;
}



/* Function: FUN_0040d5cb */

undefined4 * __thiscall FUN_0040d5cb(void *this,undefined4 param_1)

{
  code *pcVar1;
  HCURSOR pHVar2;
  
  FUN_0040efbb((undefined4 *)this);
  *(undefined ***)this = &PTR_FUN_004015b8;
  *(undefined4 *)((int)this + 0x224) = param_1;
  pcVar1 = DefWindowProcW_exref;
  *(undefined ***)((int)this + 0x20) = &PTR_FUN_00401580;
  *(undefined4 *)((int)this + 0x234) = 0;
  *(undefined4 *)((int)this + 0x244) = 0;
  *(code **)((int)this + 0x250) = pcVar1;
  *(undefined4 *)((int)this + 0x248) = 0;
  *(undefined4 *)((int)this + 0x24c) = 0;
  *(undefined ***)((int)this + 0x230) = &PTR_FUN_004017c0;
  *(undefined4 *)((int)this + 0x254) = 0;
  *(undefined4 *)((int)this + 600) = 0;
  *(undefined4 *)((int)this + 0x25c) = 0;
  *(undefined4 *)((int)this + 0x260) = 0;
  *(undefined4 *)((int)this + 0x264) = 0x24;
  *(undefined4 *)((int)this + 0x268) = 0;
  *(undefined4 *)((int)this + 0x26c) = 0;
  *(undefined4 *)((int)this + 0x270) = 0;
  *(undefined4 *)((int)this + 0x284) = 0;
  *(undefined4 *)((int)this + 0x274) = 0;
  *(undefined4 *)((int)this + 0x278) = 0;
  *(undefined4 *)((int)this + 0x27c) = 0;
  *(undefined4 *)((int)this + 0x280) = 0;
  pHVar2 = LoadCursorW((HINSTANCE)0x0,(LPCWSTR)0x7f89);
  *(HCURSOR *)((int)this + 600) = pHVar2;
  pHVar2 = LoadCursorW((HINSTANCE)0x0,(LPCWSTR)0x7f00);
  *(HCURSOR *)((int)this + 0x25c) = pHVar2;
  FUN_0041b420((undefined4 *)((int)this + 0x288));
  *(undefined4 *)((int)this + 0x1c8) = 0xffffffff;
  *(undefined4 *)((int)this + 0x220) = 0xc9;
  *(undefined4 *)((int)this + 0x1cc) = 0;
  QueryPerformanceCounter((LARGE_INTEGER *)((int)this + 0x228));
  return (undefined4 *)this;
}



/* Function: FUN_0040d6d0 */

int * __thiscall FUN_0040d6d0(void *this,byte param_1)

{
  FUN_0040d6f8((int *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (int *)this;
}



/* Function: FUN_0040d6f8 */

void __fastcall FUN_0040d6f8(int *param_1)

{
  *param_1 = (int)&PTR_FUN_004015b8;
  param_1[8] = (int)&PTR_FUN_00401580;
  FUN_0041b498(param_1 + 0xa2);
  FUN_0041bee8(param_1 + 0x8c);
  FUN_0040f088(param_1);
  return;
}



/* Function: FUN_0040d72e */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_0040d72e(int *param_1)

{
  int *piVar1;
  code *pcVar2;
  HWND pHVar3;
  HTHEME pvVar4;
  int iVar5;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  float fVar6;
  float fVar7;
  wchar_t *local_2c;
  int local_28;
  tagRECT local_24;
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x24;
  local_8 = 0x40d73a;
  piVar1 = param_1 + 1;
  pHVar3 = GetDlgItem((HWND)*piVar1,0x12d);
  FUN_0040d355(param_1 + 0xa2,pHVar3);
  FUN_0041b50c((int)(param_1 + 0xa2));
  FUN_0040de64(param_1 + 0xa3,0x10000000,0,0);
  FUN_0040de2d(piVar1);
  SetForegroundWindow((HWND)*piVar1);
  FUN_0040f549(1);
  if (param_1[0x89] == 0) {
    DestroyWindow((HWND)*piVar1);
  }
  else {
    local_8 = 0;
    FUN_0040ce33(&local_2c,(int *)&PTR_PTR_00425384);
    local_8 = 2;
    FUN_0040ce33(&local_28,(int *)&PTR_PTR_00425384);
    local_8 = CONCAT31(local_8._1_3_,3);
    pcVar2 = *(code **)(*param_1 + 0x14);
    (*(code *)PTR_guard_check_icall_00427678)(param_1[0x89]);
    (*pcVar2)();
    pHVar3 = GetDlgItem((HWND)param_1[1],0x133);
    FUN_0040d355(param_1 + 0x8c,pHVar3);
    param_1[0x9a] = 1;
    pvVar4 = OpenThemeData((HWND)param_1[0x8d],L"FLYOUT");
    param_1[0xa1] = (int)pvVar4;
    param_1[0x98] = 2;
    param_1[0x99] = 0x25;
    fVar7 = (DAT_00425568 * _DAT_00403660) / DAT_00403670;
    fVar6 = (DAT_00425568 * _DAT_0040365c) / DAT_00403670;
    iVar5 = FUN_0041c3d9(param_1 + 0x8c);
    iVar5 = (int)fVar6 + iVar5 + (int)fVar7;
    GetClientRect((HWND)*piVar1,&local_24);
    SetWindowPos((HWND)param_1[0x8d],(HWND)0x0,local_24.left,local_24.bottom - iVar5,
                 local_24.right - local_24.left,iVar5,0x14);
    if ((*(int *)(param_1[0x89] + 0x18) != 0) &&
       (iVar5 = FUN_0040cf16(&local_2c,DAT_00425aa8,0x1f9), iVar5 != 0)) {
      FUN_0040dd0f(&local_28,local_2c);
      pHVar3 = (HWND)param_1[0x8d];
      GetClientRect(pHVar3,&local_24);
      FUN_0041bb23(param_1 + 0x74,pHVar3,0x133,local_28,local_24.left,local_24.top,local_24.right,
                   local_24.bottom);
    }
    pHVar3 = GetDlgItem((HWND)param_1[1],0x130);
    SetFocus(pHVar3);
    FUN_0040d028((undefined4 *)(local_28 + -0x10));
    local_8 = 0xffffffff;
    FUN_0040d028((undefined4 *)(local_2c + -8));
  }
  pcVar2 = *(code **)(*param_1 + 0x24);
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar2)();
  FUN_004204c2(extraout_ECX,extraout_EDX);
  return;
}



/* Function: FUN_0040d970 */

undefined4 __fastcall FUN_0040d970(int param_1)

{
  FUN_0041baa6((void *)(param_1 + 0x1d0),param_1,param_1,*(HWND *)(param_1 + 4));
  FUN_0041bbcf(*(HWND *)(param_1 + 4),0x12d);
  return 0;
}



/* Function: FUN_0040d9a5 */

void __fastcall FUN_0040d9a5(int param_1)

{
  int iVar1;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 uVar2;
  _STARTUPINFOW local_274;
  _PROCESS_INFORMATION local_228;
  int local_218;
  wchar_t local_214 [259];
  undefined2 local_e;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  memset(&local_274,0,0x44);
  local_228.hProcess = (HANDLE)0x0;
  local_228.hThread = (HANDLE)0x0;
  local_228.dwProcessId = 0;
  local_228.dwThreadId = 0;
  iVar1 = GetWindowBand(*(undefined4 *)(param_1 + 4),&local_218);
  if ((iVar1 != 0) && (local_218 != 1)) {
    FUN_0040dba6(*(undefined4 *)(param_1 + 4));
  }
  PostQuitMessage(0);
  local_274.cb = 0x44;
  FUN_0040dddb(local_214,0x208,L"SndVol.exe -r %d 0 %s");
  local_e = 0;
  CreateProcessW((LPCWSTR)0x0,local_214,(LPSECURITY_ATTRIBUTES)0x0,(LPSECURITY_ATTRIBUTES)0x0,0,0,
                 (LPVOID)0x0,(LPCWSTR)0x0,&local_274,&local_228);
  uVar2 = extraout_EDX;
  if (local_228.hProcess != (HANDLE)0x0) {
    CloseHandle(local_228.hProcess);
    local_228.hProcess = (HANDLE)0x0;
    uVar2 = extraout_EDX_00;
  }
  if (local_228.hThread != (HANDLE)0x0) {
    CloseHandle(local_228.hThread);
    uVar2 = extraout_EDX_01;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar2);
  return;
}



/* Function: FUN_0040daba */

void __thiscall
FUN_0040daba(void *this,undefined4 param_1,HDC param_2,undefined4 param_3,undefined4 *param_4)

{
  HTHEME hTheme;
  HBRUSH hbr;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar1;
  tagRECT local_38;
  tagRECT local_28;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  GetClientRect(*(HWND *)((int)this + 4),&local_28);
  hTheme = OpenThemeData((HWND)0x0,L"TRAYNOTIFYFLYOUT");
  if (hTheme == (HTHEME)0x0) {
    hbr = GetSysColorBrush(5);
    FillRect(param_2,&local_28,hbr);
    uVar1 = extraout_EDX_00;
  }
  else {
    GetClientRect(*(HWND *)((int)this + 0x234),&local_18);
    MapWindowPoints(*(HWND *)((int)this + 0x234),*(HWND *)((int)this + 4),(LPPOINT)&local_18,2);
    local_18.left = local_28.left;
    local_38.left = local_28.left;
    local_18.right = local_28.right;
    local_38.top = local_28.top;
    local_38.right = local_28.right;
    local_38.bottom = local_28.bottom;
    SubtractRect(&local_38,&local_28,&local_18);
    DrawThemeBackground(hTheme,param_2,1,0,&local_38,(LPCRECT)0x0);
    DrawThemeBackground(hTheme,param_2,2,0,&local_18,(LPCRECT)0x0);
    uVar1 = extraout_EDX;
  }
  *param_4 = 1;
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar1);
  return;
}



/* Function: FUN_0040dba6 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void FUN_0040dba6(undefined4 param_1)

{
  code *pcVar1;
  _func_5022 *p_Var2;
  HRESULT HVar3;
  int iVar4;
  IUnknown *This;
  int *local_20;
  int local_1c;
  int *local_18;
  IUnknown *local_14 [3];
  undefined1 local_8;
  undefined3 uStack_7;
  undefined4 uStack_4;
  
  uStack_4 = 0x10;
  local_18 = (int *)0x0;
  local_8 = 0;
  uStack_7 = 0;
  HVar3 = CoCreateInstance((IID *)&DAT_00402c24,(LPUNKNOWN)0x0,0x404,(IID *)&DAT_00402c34,&local_18)
  ;
  if (-1 < HVar3) {
    local_20 = (int *)0x0;
    pcVar1 = *(code **)(*local_18 + 0xc);
    local_8 = 2;
    (*(code *)PTR_guard_check_icall_00427678)(local_18,&DAT_0040267c,&DAT_00402c14,&local_20);
    iVar4 = (*pcVar1)();
    if (-1 < iVar4) {
      local_1c = 0;
      pcVar1 = *(code **)(*local_20 + 0x2c);
      local_8 = 4;
      (*(code *)PTR_guard_check_icall_00427678)
                (local_20,param_1,&DAT_00402c04,&DAT_00402c04,&local_1c);
      iVar4 = (*pcVar1)();
      if (-1 < iVar4) {
        local_14[0] = (IUnknown *)0x0;
        pcVar1 = *(code **)(*local_18 + 0xc);
        local_8 = 6;
        (*(code *)PTR_guard_check_icall_00427678)(local_18,&DAT_0040268c,&DAT_00402bf4,local_14);
        iVar4 = (*pcVar1)();
        if (-1 < iVar4) {
          CoAllowSetForegroundWindow(local_14[0],(LPVOID)0x0);
          This = (IUnknown *)0x1;
          p_Var2 = local_14[0]->lpVtbl[4].AddRef;
          (*(code *)PTR_guard_check_icall_00427678)(local_14[0],local_1c);
          (*p_Var2)(This);
        }
        FUN_0040dcb4((int *)local_14);
      }
      FUN_0040dcb4(&local_1c);
    }
    FUN_0040dcb4((int *)&local_20);
  }
  FUN_0040dcb4((int *)&local_18);
  return;
}



/* Function: FUN_0040dcb4 */

void __fastcall FUN_0040dcb4(int *param_1)

{
  int *piVar1;
  code *pcVar2;
  uint uVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00421226;
  local_10 = ExceptionList;
  uVar3 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8 = 0;
  piVar1 = (int *)*param_1;
  if (piVar1 != (int *)0x0) {
    *param_1 = 0;
    pcVar2 = *(code **)(*piVar1 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1,uVar3);
    (*pcVar2)();
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0040dd0f */

void __cdecl FUN_0040dd0f(void *param_1,wchar_t *param_2)

{
  FUN_0040dd2b(param_1,param_2,&stack0x0000000c);
  return;
}



/* Function: FUN_0040dd2b */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void __thiscall FUN_0040dd2b(void *this,wchar_t *param_1,va_list param_2)

{
  code *pcVar1;
  int iVar2;
  int *piVar3;
  wchar_t *_Dst;
  undefined4 uVar4;
  wchar_t *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 4;
  local_8 = 0x40dd37;
  if (param_1 == (wchar_t *)0x0) {
    uVar4 = 0x80070057;
  }
  else {
    iVar2 = _vscwprintf(param_1,param_2);
    if (iVar2 != -1) {
      piVar3 = (int *)FUN_0040ccac((int *)this);
      FUN_0040ce33(local_14,piVar3);
      local_8 = 0;
      if (((uint)param_1 & 0xffff0000) == 0) {
        FUN_0040cfad(local_14,(uint)param_1 & 0xffff);
      }
      else {
        FUN_0040d2c0(local_14,param_1);
      }
      local_8 = 1;
      _Dst = (wchar_t *)FUN_0040d1a9(this,iVar2);
      vswprintf_s(_Dst,iVar2 + 1,local_14[0],param_2);
      FUN_0040d1d8(this,iVar2);
      FUN_0040d028((undefined4 *)(local_14[0] + -8));
      return;
    }
    uVar4 = 0x8007000e;
  }
  FUN_00409c00(uVar4);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_0040dddb */

undefined4 __cdecl FUN_0040dddb(wchar_t *param_1,uint param_2,wchar_t *param_3)

{
  uint uVar1;
  uint _Count;
  undefined4 uVar2;
  
  if (param_2 >> 1 == 0) {
    uVar2 = 0x80070057;
  }
  else {
    uVar2 = 0;
    _Count = (param_2 >> 1) - 1;
    uVar1 = _vsnwprintf(param_1,_Count,param_3,&stack0x00000010);
    if (((int)uVar1 < 0) || (_Count < uVar1)) {
      uVar2 = 0x8007007a;
    }
    else if (uVar1 != _Count) {
      return 0;
    }
    param_1[_Count] = L'\0';
  }
  return uVar2;
}



/* Function: FUN_0040de2d */

bool __fastcall FUN_0040de2d(undefined4 *param_1)

{
  uint uVar1;
  uint dwNewLong;
  
  uVar1 = GetWindowLongW((HWND)*param_1,-0x14);
  dwNewLong = uVar1 | 0x8000000;
  if (uVar1 != dwNewLong) {
    SetWindowLongW((HWND)*param_1,-0x14,dwNewLong);
  }
  return uVar1 != dwNewLong;
}



/* Function: FUN_0040de64 */

undefined4 __thiscall FUN_0040de64(void *this,uint param_1,uint param_2,uint param_3)

{
  uint uVar1;
  undefined4 uVar2;
  uint dwNewLong;
  
                    /* WARNING: Load size is inaccurate */
  uVar1 = GetWindowLongW(*this,-0x10);
  dwNewLong = ~param_1 & uVar1 | param_2;
  if (uVar1 == dwNewLong) {
    uVar2 = 0;
  }
  else {
                    /* WARNING: Load size is inaccurate */
    SetWindowLongW(*this,-0x10,dwNewLong);
    if (param_3 != 0) {
                    /* WARNING: Load size is inaccurate */
      SetWindowPos(*this,(HWND)0x0,0,0,0,0,param_3 | 0x17);
    }
    uVar2 = 1;
  }
  return uVar2;
}



/* Function: FUN_0040ded0 */

void __thiscall
FUN_0040ded0(void *this,undefined4 param_1,int param_2,HDC param_3,int param_4,undefined4 *param_5,
            int param_6)

{
  short sVar1;
  POINT pt;
  undefined4 uVar2;
  BOOL BVar3;
  HBRUSH hbr;
  undefined4 extraout_ECX;
  int extraout_EDX;
  int extraout_EDX_00;
  int extraout_EDX_01;
  int extraout_EDX_02;
  int extraout_EDX_03;
  int extraout_EDX_04;
  int extraout_EDX_05;
  int extraout_EDX_06;
  int extraout_EDX_07;
  int extraout_EDX_08;
  undefined1 auStack_24 [4];
  undefined4 *local_20;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)auStack_24;
  local_20 = param_5;
  if (param_6 != 0) goto LAB_0040df52;
  if (param_2 == 0x113) {
    uVar2 = FUN_0040e4e9(this,this,(int)param_3);
    param_4 = extraout_EDX;
  }
  else {
    if (param_2 != 0x110) {
      if (param_2 == 2) {
        local_20 = (undefined4 *)0x1;
        uVar2 = FUN_0040e5c4(this);
        *param_5 = uVar2;
        param_4 = extraout_EDX_01;
        goto LAB_0040df52;
      }
      if (param_2 == 0x24) {
        uVar2 = *(undefined4 *)((int)this + 0x58);
        *(undefined4 *)(param_4 + 0x20) = uVar2;
        *(undefined4 *)(param_4 + 0x18) = uVar2;
        uVar2 = *(undefined4 *)((int)this + 0x5c);
        *(undefined4 *)(param_4 + 0x24) = uVar2;
        *(undefined4 *)(param_4 + 0x1c) = uVar2;
        goto LAB_0040df7d;
      }
      if (param_2 == 0x84) {
        GetClientRect(*(HWND *)((int)this + 4),&local_1c);
        FUN_0041bc56(*(HWND *)((int)this + 4),&local_1c.left);
        pt.y = (int)(short)((uint)param_4 >> 0x10);
        pt.x = (int)(short)param_4;
        BVar3 = PtInRect(&local_1c,pt);
        param_4 = extraout_EDX_02;
        if (BVar3 != 0) {
          *local_20 = 0;
          goto LAB_0040df52;
        }
      }
      else {
        if (param_2 == 0x40c) {
          uVar2 = FUN_0040e621(this,2,&param_3->unused);
          param_4 = extraout_EDX_03;
          goto LAB_0040df11;
        }
        if (param_2 != 0x14) {
          sVar1 = (short)param_3;
          if (param_2 == 6) {
            if (sVar1 == 0) {
              if (param_4 != *(int *)((int)this + 4)) {
LAB_0040e053:
                ShowWindow(*(HWND *)((int)this + 4),0);
                SetTimer(*(HWND *)((int)this + 4),0x42c,1000,(TIMERPROC)0x0);
                param_4 = extraout_EDX_05;
              }
            }
            else if (((sVar1 == 1) || (sVar1 == 2)) && (param_4 == *(int *)((int)this + 4)))
            goto LAB_0040e053;
          }
          else {
            if (param_2 != 0x423) {
              if ((param_2 == 0x111) &&
                 (((param_4 = 2, sVar1 == 2 || (sVar1 == 1)) &&
                  ((short)((uint)param_3 >> 0x10) == 0)))) {
                PostQuitMessage(0);
                *param_5 = 0;
                param_4 = extraout_EDX_08;
              }
              goto LAB_0040df52;
            }
            KillTimer(*(HWND *)((int)this + 4),0x42c);
            ShowWindow(*(HWND *)((int)this + 4),5);
            param_4 = extraout_EDX_06;
            if ((DAT_00425ac0 & 1) != 0) {
              FUN_0040e150(extraout_ECX);
              param_4 = extraout_EDX_07;
            }
          }
LAB_0040df7d:
          *param_5 = 0;
          goto LAB_0040df52;
        }
        GetClientRect(*(HWND *)((int)this + 4),&local_1c);
        hbr = CreateSolidBrush(DAT_00425a6c);
        FillRect(param_3,&local_1c,hbr);
        DeleteObject(hbr);
        param_4 = extraout_EDX_04;
      }
      *local_20 = 0;
      goto LAB_0040df52;
    }
    uVar2 = FUN_0040e343(this);
    param_4 = extraout_EDX_00;
  }
LAB_0040df11:
  *param_5 = uVar2;
LAB_0040df52:
  FUN_00420010(local_c ^ (uint)auStack_24,param_4);
  return;
}



/* Function: FUN_0040e0fb */

void FUN_0040e0fb(undefined4 param_1,undefined4 param_2,undefined4 *param_3)

{
  ushort *puVar1;
  uint uVar2;
  undefined4 uVar3;
  
  puVar1 = DAT_004252e8;
  param_3[1] = 0;
  if (puVar1 == (ushort *)0x0) {
    *param_3 = 0;
    uVar3 = 0;
    uVar2 = 0;
  }
  else {
    *param_3 = puVar1;
    uVar2 = (uint)*puVar1;
    uVar3 = 2;
  }
  param_3[2] = uVar2;
  param_3[3] = uVar3;
  EtwEventWriteTransfer(DAT_004252e0,DAT_004252e4,&DAT_00402b18,0,0,2,param_3);
  return;
}



/* Function: FUN_0040e150 */

void __fastcall FUN_0040e150(undefined4 param_1)

{
  undefined4 extraout_EDX;
  undefined4 local_28 [4];
  undefined1 *local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_14 = 0;
  local_18 = &stack0x00000004;
  local_c = 0;
  local_10 = 4;
  FUN_0040e0fb(param_1,param_1,local_28);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0040e196 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 * __fastcall FUN_0040e196(undefined4 *param_1)

{
  param_1[1] = 0;
  param_1[5] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  param_1[0xc] = 0xffffffff;
  *param_1 = &PTR_FUN_004015e0;
  param_1[8] = 1;
  param_1[0xd] = 0;
  param_1[0xe] = 0;
  param_1[0xf] = 0;
  FUN_0040d3bf((LPCRITICAL_SECTION)(param_1 + 0x10));
  param_1[0x1e] = 1;
  param_1[0x1f] = 1;
  param_1[0x20] = 0;
  param_1[0x21] = 0;
  param_1[0x22] = 0;
  QueryPerformanceCounter((LARGE_INTEGER *)(param_1 + 10));
  return param_1;
}



/* Function: FUN_0040e210 */

undefined4 * __thiscall FUN_0040e210(void *this,byte param_1)

{
  FUN_0040e286((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_0040e238 */

void __fastcall FUN_0040e238(int param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00421545;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_8 = 0;
  if (*(int *)(param_1 + 0x14) != 0) {
    FUN_0041abac(*(int **)(param_1 + 0x14));
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0040e286 */

void __fastcall FUN_0040e286(undefined4 *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  code *pcVar4;
  uint uVar5;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421568;
  local_10 = ExceptionList;
  uVar5 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_004015e0;
  while (piVar1 = (int *)param_1[0xd], piVar1 != (int *)0x0) {
    iVar2 = *piVar1;
    iVar3 = piVar1[2];
    param_1[0xd] = iVar2;
    if (iVar2 == 0) {
      param_1[0xe] = 0;
    }
    else {
      *(undefined4 *)(iVar2 + 4) = 0;
    }
    operator_delete(piVar1);
    param_1[0xf] = param_1[0xf] + -1;
    if (iVar3 != 0) {
      piVar1 = (int *)(iVar3 + 0x20);
      pcVar4 = *(code **)(*piVar1 + 8);
      (*(code *)PTR_guard_check_icall_00427678)(piVar1,uVar5);
      (*pcVar4)();
    }
  }
  if ((LPVOID)param_1[0x22] != (LPVOID)0x0) {
    CoTaskMemFree((LPVOID)param_1[0x22]);
    param_1[0x22] = 0;
  }
  DeleteCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x10));
  local_8 = 0;
  if (param_1[5] != 0) {
    FUN_0041abac((int *)param_1[5]);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0040e343 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __fastcall FUN_0040e343(void *param_1)

{
  LPARAM *this;
  LPARAM lParam;
  HDC hdc;
  int iVar1;
  HICON lParam_00;
  HWND pHVar2;
  BOOL BVar3;
  HRESULT HVar4;
  undefined4 *puVar5;
  undefined4 extraout_ECX;
  int local_1c;
  BOOL local_18;
  int local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x14;
  local_8 = 0x40e34f;
  this = (LPARAM *)((int)param_1 + 4);
  **(LPARAM **)(DAT_00425a38 + 0x28) = *this;
  hdc = GetDC((HWND)*this);
  iVar1 = GetDeviceCaps(hdc,0x58);
  DAT_00425568 = (float)iVar1;
  ReleaseDC((HWND)*this,hdc);
  lParam_00 = LoadIconW(DAT_00425aa8,(LPCWSTR)0x65);
  SendMessageW((HWND)*this,0x80,1,(LPARAM)lParam_00);
  iVar1 = GetWindowBand(*this,&local_1c);
  if (iVar1 != 0) {
    local_14[0] = 1;
    pHVar2 = FindWindowW(L"Shell_TrayWnd",(LPCWSTR)0x0);
    if (pHVar2 != (HWND)0x0) {
      GetWindowBand(pHVar2,local_14);
    }
    if (local_14[0] != local_1c) {
      lParam = *this;
      pHVar2 = FindWindowW(L"Shell_TrayWnd",(LPCWSTR)0x0);
      if (pHVar2 != (HWND)0x0) {
        SendMessageTimeoutW(pHVar2,0x57a,1,lParam,2,200,(PDWORD_PTR)0x0);
      }
    }
  }
  FUN_0040de2d(this);
  SetForegroundWindow((HWND)*this);
  local_18 = 0;
  BVar3 = IsThemeActive();
  if (BVar3 != 0) {
    HVar4 = DwmIsCompositionEnabled(&local_18);
    if ((-1 < HVar4) && (local_18 == 1)) goto LAB_0040e456;
  }
  FUN_0040de64(this,0x40000,0x800000,0x20);
LAB_0040e456:
  puVar5 = (undefined4 *)FUN_0041f39d(0x48);
  local_8 = 0;
  if (puVar5 == (undefined4 *)0x0) {
    DAT_00425aa0 = (undefined4 *)0x0;
  }
  else {
    DAT_00425aa0 = FUN_00413bc6(puVar5);
  }
  local_8 = 0xffffffff;
  if (DAT_00425aa0 != (undefined4 *)0x0) {
    FUN_00413bfe();
  }
  FUN_0040e84a(param_1);
  FUN_0040e9fa((int)param_1);
  FUN_0040e732();
  FUN_0040eade((int)param_1);
  SetTimer((HWND)*this,0x42b,0x32,(TIMERPROC)0x0);
  NotifyWinEvent(6,(HWND)*this,-4,0);
  if ((DAT_00425a90 != 0) && ((DAT_00425ac0 & 1) != 0)) {
    FUN_0040e150(extraout_ECX);
  }
  return 0;
}



/* Function: FUN_0040e4e9 */

/* WARNING: Removing unreachable block (ram,0x0040e565) */

undefined4 __thiscall FUN_0040e4e9(void *this,undefined4 param_1,int param_2)

{
  HWND hWnd;
  DWORD DVar1;
  UINT UVar2;
  BOOL BVar3;
  bool bVar4;
  LARGE_INTEGER local_c;
  
  if (param_2 == 0x42b) {
    hWnd = GetForegroundWindow();
    if (hWnd != (HWND)0x0) {
      GetWindowThreadProcessId(hWnd,(LPDWORD)&local_c.s.HighPart);
      DVar1 = GetCurrentProcessId();
      if (local_c.s.HighPart == DVar1) {
        return 0;
      }
    }
    UVar2 = GetDoubleClickTime();
    BVar3 = QueryPerformanceCounter(&local_c);
    if (BVar3 != 0) {
      bVar4 = local_c.s.LowPart < *(uint *)((int)this + 0x28);
      local_c.s.LowPart = local_c.s.LowPart - *(uint *)((int)this + 0x28);
      local_c.s.HighPart = (local_c.s.HighPart - *(int *)((int)this + 0x2c)) - (uint)bVar4;
      if (CONCAT44(local_c.s.HighPart,local_c.s.LowPart) <= (longlong)((ulonglong)UVar2 * 10000)) {
        return 0;
      }
    }
    KillTimer(*(HWND *)((int)this + 4),0x42b);
    ShowWindow(*(HWND *)((int)this + 4),0);
    SetTimer(*(HWND *)((int)this + 4),0x42c,1000,(TIMERPROC)0x0);
  }
  else if (param_2 == 0x42c) {
    KillTimer(*(HWND *)((int)this + 4),0x42c);
    PostQuitMessage(0);
  }
  return 0;
}



/* Function: FUN_0040e5c4 */

undefined4 __thiscall FUN_0040e5c4(void *this)

{
  LPARAM lParam;
  HWND hWnd;
  undefined4 *in_stack_00000010;
  
  KillTimer(*(HWND *)((int)this + 4),0x42b);
  lParam = *(LPARAM *)((int)this + 4);
  hWnd = FindWindowW(L"Shell_TrayWnd",(LPCWSTR)0x0);
  if (hWnd != (HWND)0x0) {
    SendNotifyMessageW(hWnd,0x57a,0,lParam);
  }
  NotifyWinEvent(7,*(HWND *)((int)this + 4),-4,0);
  *in_stack_00000010 = 0;
  return 0;
}



/* Function: FUN_0040e621 */

undefined4 __thiscall FUN_0040e621(void *this,undefined4 param_1,int *param_2)

{
  int *piVar1;
  int *piVar2;
  code *pcVar3;
  bool bVar4;
  int iVar5;
  int *piVar6;
  
  bVar4 = false;
  if (param_2 != (int *)0x0) {
    EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 0x40));
    piVar2 = *(int **)((int)this + 0x34);
    while (piVar6 = piVar2, piVar6 != (int *)0x0) {
      piVar1 = (int *)piVar6[2];
      piVar2 = (int *)*piVar6;
      if (piVar1 != (int *)0x0) {
        iVar5 = _wcsicmp(*(wchar_t **)(piVar1[0x89] + 0x24),(wchar_t *)param_2[9]);
        if (iVar5 == 0) {
          pcVar3 = *(code **)(*piVar1 + 0x10);
          (*(code *)PTR_guard_check_icall_00427678)();
          (*pcVar3)();
          PostQuitMessage(0);
          bVar4 = true;
          if (piVar6 == *(int **)((int)this + 0x34)) {
            *(int *)((int)this + 0x34) = *piVar6;
          }
          else {
            *(int *)piVar6[1] = *piVar6;
          }
          if (piVar6 == *(int **)((int)this + 0x38)) {
            *(int *)((int)this + 0x38) = piVar6[1];
          }
          else {
            *(int *)(*piVar6 + 4) = piVar6[1];
          }
          operator_delete(piVar6);
          *(int *)((int)this + 0x3c) = *(int *)((int)this + 0x3c) + -1;
          pcVar3 = *(code **)(piVar1[8] + 8);
          (*(code *)PTR_guard_check_icall_00427678)(piVar1 + 8);
          (*pcVar3)();
        }
      }
    }
    iVar5 = *(int *)((int)this + 0x3c);
    LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 0x40));
    pcVar3 = *(code **)(*param_2 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(param_2);
    (*pcVar3)();
    if ((iVar5 == 0) || (bVar4)) {
      PostQuitMessage(0);
    }
  }
  return 0;
}



/* Function: FUN_0040e732 */

void FUN_0040e732(void)

{
  HRESULT HVar1;
  BOOL BVar2;
  undefined4 extraout_EDX;
  int dx;
  int iVar3;
  SIZE local_64;
  BOOL local_5c;
  int local_58;
  RECT local_54;
  RECT local_44;
  NOTIFYICONIDENTIFIER local_34;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_34.cbSize = 0x1c;
  local_34.hWnd = (HWND)0x0;
  local_34.uID = 0;
  local_34.guidItem.Data1 = DAT_0040269c;
  local_34.guidItem._4_4_ = DAT_004026a0;
  local_34.guidItem.Data4._0_4_ = DAT_004026a4;
  local_34.guidItem.Data4._4_4_ = DAT_004026a8;
  HVar1 = Shell_NotifyIconGetRect(&local_34,&local_54);
  iVar3 = local_58;
  if (-1 < HVar1) {
    GetWindowRect(*(HWND *)(local_58 + 4),&local_18);
    dx = 0;
    local_5c = 0;
    HVar1 = DwmIsCompositionEnabled(&local_5c);
    if ((-1 < HVar1) && (local_5c != 0)) {
      local_34.guidItem.Data1 = DAT_004026ac;
      local_34.guidItem.Data2 = (ushort)DAT_004026b0;
      local_34.guidItem.Data3 = DAT_004026b0._2_2_;
      local_34.guidItem.Data4[0] = (uchar)DAT_004026b4;
      local_34.guidItem.Data4[1] = DAT_004026b4._1_1_;
      local_34.guidItem.Data4[2] = DAT_004026b4._2_1_;
      local_34.guidItem.Data4[3] = DAT_004026b4._3_1_;
      local_34.guidItem.Data4[4] = (uchar)DAT_004026b8;
      local_34.guidItem.Data4[5] = DAT_004026b8._1_1_;
      local_34.guidItem.Data4[6] = DAT_004026b8._2_1_;
      local_34.guidItem.Data4[7] = DAT_004026b8._3_1_;
      HVar1 = Shell_NotifyIconGetRect(&local_34,&local_44);
      if (-1 < HVar1) {
        dx = local_44.bottom - local_44.top;
      }
      InflateRect(&local_18,dx,dx);
      iVar3 = local_58;
    }
    local_64.cx = local_18.right - local_18.left;
    local_64.cy = local_18.bottom - local_18.top;
    BVar2 = CalculatePopupWindowPosition
                      ((POINT *)&DAT_00425524,&local_64,0x10054,&local_54,&local_18);
    if (BVar2 != 0) {
      SetWindowPos(*(HWND *)(iVar3 + 4),(HWND)0xffffffff,local_18.left + dx,local_18.top + dx,0,0,1)
      ;
    }
  }
  InvalidateRect(*(HWND *)(local_58 + 4),(RECT *)0x0,1);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0040e84a */

int __fastcall FUN_0040e84a(void *param_1)

{
  APOHandle *pAVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  uint local_c;
  int local_8;
  
  local_8 = 0;
  FUN_0040ecb2((uint)param_1);
  EnterCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x40));
  pAVar1 = FUN_004140be(0);
  if ((pAVar1 == (APOHandle *)0x0) || (*(int *)(pAVar1 + 0x14) != 1)) {
    iVar5 = -0x7fffbffb;
  }
  else {
    iVar5 = FUN_0040e93b(param_1,pAVar1);
    if (-1 < iVar5) {
      if (*(int *)(pAVar1 + 0x40) == 0) {
        pAVar1 = FUN_004140be(2);
        if (pAVar1 != (APOHandle *)0x0) {
          iVar2 = FUN_0040ebab(param_1,(int)pAVar1);
          if (iVar2 != 0) {
            iVar5 = FUN_0040e93b(param_1,pAVar1);
            if (iVar5 < 0) goto LAB_0040e925;
          }
        }
      }
      uVar3 = FUN_0040cde6();
      local_c = 0;
      if (uVar3 != 0) {
        do {
          iVar5 = FUN_00414028(local_c,&local_8);
          iVar2 = local_8;
          if (iVar5 < 0) break;
          if (((local_8 != 0) && (*(int *)(local_8 + 0x38) == 0)) && (*(int *)(local_8 + 0x40) == 0)
             ) {
            iVar4 = FUN_0040ebab(param_1,local_8);
            if (iVar4 != 0) {
              iVar5 = FUN_0040e93b(param_1,iVar2);
              if (iVar5 < 0) break;
            }
          }
          local_c = local_c + 1;
        } while (local_c < uVar3);
      }
    }
  }
LAB_0040e925:
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x40));
  return iVar5;
}



/* Function: FUN_0040e93b */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __thiscall FUN_0040e93b(void *this,undefined4 param_1)

{
  int iVar1;
  void *this_00;
  undefined4 *this_01;
  undefined4 *puVar2;
  
  this_00 = (void *)FUN_0041f39d(0x2e8);
  if ((this_00 != (void *)0x0) &&
     (this_01 = FUN_0040d5cb(this_00,param_1), this_01 != (undefined4 *)0x0)) {
    puVar2 = (undefined4 *)FUN_0041f39d(0xc);
    if (puVar2 == (undefined4 *)0x0) {
      puVar2 = (undefined4 *)0x0;
    }
    else {
      *puVar2 = 0;
      puVar2[1] = 0;
      puVar2[2] = this_01;
      puVar2[1] = *(undefined4 *)((int)this + 0x38);
      if (*(undefined4 **)((int)this + 0x38) == (undefined4 *)0x0) {
        *(undefined4 **)((int)this + 0x34) = puVar2;
      }
      else {
        **(undefined4 **)((int)this + 0x38) = puVar2;
      }
      *(int *)((int)this + 0x3c) = *(int *)((int)this + 0x3c) + 1;
      *(undefined4 **)((int)this + 0x38) = puVar2;
    }
    iVar1 = this_01[8];
    if (puVar2 != (undefined4 *)0x0) {
      (*(code *)PTR_guard_check_icall_00427678)(this_01 + 8);
      (**(code **)(iVar1 + 4))();
      FUN_0040ed95(this_01,*(HWND *)((int)this + 4));
      return 0;
    }
    (*(code *)PTR_guard_check_icall_00427678)();
    (**(code **)(iVar1 + 8))();
  }
  return 0x8007000e;
}



/* Function: FUN_0040e9fa */

void __fastcall FUN_0040e9fa(int param_1)

{
  LPCRITICAL_SECTION lpCriticalSection;
  int iVar1;
  int cx;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar2;
  tagRECT local_28;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  GetWindowRect(*(HWND *)(param_1 + 4),&local_28);
  GetClientRect(*(HWND *)(param_1 + 4),&local_18);
  lpCriticalSection = (LPCRITICAL_SECTION)(param_1 + 0x40);
  *(int *)(param_1 + 0x60) =
       (((local_18.left - local_18.right) - local_28.left) + local_28.right) / 2;
  *(int *)(param_1 + 100) =
       (((local_18.top - local_18.bottom) - local_28.top) + local_28.bottom) / 2;
  EnterCriticalSection(lpCriticalSection);
  iVar1 = *(int *)(param_1 + 0x3c);
  if ((iVar1 == 0) || (*(int *)(param_1 + 0x34) == 0)) {
    LeaveCriticalSection(lpCriticalSection);
    uVar2 = extraout_EDX_00;
  }
  else {
    GetWindowRect(*(HWND *)(*(int *)(*(int *)(param_1 + 0x34) + 8) + 4),(LPRECT)(param_1 + 0x68));
    LeaveCriticalSection(lpCriticalSection);
    cx = *(int *)(param_1 + 0x60) * 2 + -1 +
         ((*(int *)(param_1 + 0x70) - ((LPRECT)(param_1 + 0x68))->left) + 1) * iVar1;
    *(int *)(param_1 + 0x58) = cx;
    iVar1 = *(int *)(param_1 + 0x74) + (*(int *)(param_1 + 100) * 2 - *(int *)(param_1 + 0x6c));
    *(int *)(param_1 + 0x5c) = iVar1;
    SetWindowPos(*(HWND *)(param_1 + 4),(HWND)0x0,0,0,cx,iVar1,6);
    uVar2 = extraout_EDX;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar2);
  return;
}



/* Function: FUN_0040eade */

void __fastcall FUN_0040eade(int param_1)

{
  int iVar1;
  bool bVar2;
  HWND hWnd;
  undefined4 extraout_EDX;
  undefined4 *puVar3;
  int X;
  int iVar4;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  bVar2 = true;
  GetClientRect(*(HWND *)(param_1 + 4),&local_18);
  iVar4 = (*(int *)(param_1 + 0x70) - *(int *)(param_1 + 0x68)) + 1;
  if (*(int *)(param_1 + 0x78) == 0) {
    X = 0;
    iVar4 = -iVar4;
  }
  else {
    X = ((*(int *)(param_1 + 0x68) - *(int *)(param_1 + 0x70)) - local_18.left) + local_18.right;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x40));
  puVar3 = *(undefined4 **)(param_1 + 0x34);
  while (puVar3 != (undefined4 *)0x0) {
    iVar1 = puVar3[2];
    puVar3 = (undefined4 *)*puVar3;
    if (iVar1 != 0) {
      SetWindowPos(*(HWND *)(iVar1 + 4),(HWND)0x0,X,0,0,0,5);
      if (bVar2) {
        hWnd = GetDlgItem(*(HWND *)(iVar1 + 4),0x130);
        SetFocus(hWnd);
        bVar2 = false;
      }
      ShowWindow(*(HWND *)(iVar1 + 4),5);
      X = X - iVar4;
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x40));
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0040ebab */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __thiscall FUN_0040ebab(void *this,int param_1)

{
  wchar_t wVar1;
  code *pcVar2;
  int iVar3;
  wchar_t *pwVar4;
  wchar_t *_Str2;
  int local_18;
  int *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 8;
  local_8 = 0x40ebb7;
  if (*(int *)(param_1 + 0x14) == 1) {
    if ((*(int *)((int)this + 0x80) != 0) && (*(int *)(param_1 + 0x40) != 0)) {
      return 1;
    }
    if (*(int *)((int)this + 0x7c) != 0) {
      local_18 = 0;
      local_14[0] = (int *)0x0;
      local_8 = 1;
      pcVar2 = *(code **)(**(int **)(param_1 + 4) + 0xc);
      (*(code *)PTR_guard_check_icall_00427678)
                (*(int **)(param_1 + 4),&DAT_00402d34,0x17,0,&local_18);
      iVar3 = (*pcVar2)();
      if ((iVar3 == 0) && (FUN_0040eded(local_14,&local_18), local_14[0] != (int *)0x0)) {
        pcVar2 = *(code **)(*local_14[0] + 0xc);
        (*(code *)PTR_guard_check_icall_00427678)(local_14[0],0x1e);
        iVar3 = (*pcVar2)();
        if (iVar3 == 0) {
          ~CComPtr<>((int *)local_14);
          ~CComPtr<>(&local_18);
          return 1;
        }
      }
      ~CComPtr<>((int *)local_14);
      ~CComPtr<>(&local_18);
    }
    if (*(int *)((int)this + 0x84) != 0) {
      _Str2 = *(wchar_t **)((int)this + 0x88);
      wVar1 = *_Str2;
      while (wVar1 != L'\0') {
        iVar3 = _wcsicmp(*(wchar_t **)(param_1 + 0x24),_Str2);
        if (iVar3 == 0) {
          return 1;
        }
        pwVar4 = _Str2;
        do {
          wVar1 = *pwVar4;
          pwVar4 = pwVar4 + 1;
        } while (wVar1 != L'\0');
        _Str2 = _Str2 + ((int)pwVar4 - (int)(_Str2 + 1) >> 1) + 1;
        wVar1 = *_Str2;
      }
    }
  }
  return 0;
}



/* Function: FUN_0040ecb2 */

void __fastcall FUN_0040ecb2(uint param_1)

{
  LSTATUS LVar1;
  uint uVar2;
  LPVOID pvData;
  uint uVar3;
  uint uVar4;
  uint local_c;
  DWORD local_8;
  
  local_8 = 4;
  local_c = param_1;
  LVar1 = RegGetValueW((HKEY)0x80000001,L"Software\\Microsoft\\Multimedia\\Audio\\SndVol",
                       L"SndVolPreferencesMask",0x18,(LPDWORD)0x0,&local_c,&local_8);
  if (LVar1 == 0) {
    uVar2 = local_c >> 2 & 1;
    uVar3 = local_c >> 1 & 1;
    uVar4 = local_c & 1;
  }
  else {
    uVar2 = 0;
    uVar3 = 0;
    uVar4 = 1;
  }
  *(uint *)(param_1 + 0x7c) = uVar4;
  *(uint *)(param_1 + 0x80) = uVar3;
  *(uint *)(param_1 + 0x84) = uVar2;
  if (uVar2 != 0) {
    local_8 = 0;
    LVar1 = RegGetValueW((HKEY)0x80000001,L"Software\\Microsoft\\Multimedia\\Audio\\SndVol",
                         L"SndVolSelectedDevices",0x20,(LPDWORD)0x0,(PVOID)0x0,&local_8);
    if (LVar1 == 0) {
      pvData = CoTaskMemAlloc(local_8);
      *(LPVOID *)(param_1 + 0x88) = pvData;
      if (pvData != (LPVOID)0x0) {
        LVar1 = RegGetValueW((HKEY)0x80000001,L"Software\\Microsoft\\Multimedia\\Audio\\SndVol",
                             L"SndVolSelectedDevices",0x20,(LPDWORD)0x0,pvData,&local_8);
        if (LVar1 == 0) {
          return;
        }
        if (*(LPVOID *)(param_1 + 0x88) != (LPVOID)0x0) {
          CoTaskMemFree(*(LPVOID *)(param_1 + 0x88));
        }
        *(undefined4 *)(param_1 + 0x88) = 0;
      }
    }
    *(undefined4 *)(param_1 + 0x84) = 0;
  }
  return;
}



/* Function: FUN_0040ed95 */

HWND __thiscall FUN_0040ed95(void *this,HWND param_1)

{
  int iVar1;
  HWND pHVar2;
  
  iVar1 = FUN_00409c80((int *)((int)this + 8),0,0);
  if (iVar1 == 0) {
    SetLastError(0xe);
    pHVar2 = (HWND)0x0;
  }
  else {
    FUN_00409b19((int *)((int)this + 8),(int)this);
    pHVar2 = CreateDialogParamW((HINSTANCE)PTR_IMAGE_DOS_HEADER_00425350,
                                (LPCWSTR)(uint)*(ushort *)((int)this + 0x220),param_1,FUN_00409690,0
                               );
  }
  return pHVar2;
}



/* Function: FUN_0040eded */

int __thiscall FUN_0040eded(void *this,int *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  bool bVar5;
  void *local_18;
  void *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_004215f6;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  puVar1 = (undefined4 *)*param_1;
  local_8 = 0;
                    /* WARNING: Load size is inaccurate */
  puVar2 = *this;
  local_18 = this;
  local_14 = this;
  if (puVar2 == (undefined4 *)0x0) {
    if (puVar1 == (undefined4 *)0x0) {
LAB_0040ee81:
                    /* WARNING: Load size is inaccurate */
      ExceptionList = local_10;
      return *this;
    }
  }
  else if (puVar1 != (undefined4 *)0x0) {
    local_18 = (void *)0x0;
    local_14 = (void *)0x0;
    puVar3 = (undefined4 *)*puVar2;
    (*(code *)PTR_guard_check_icall_00427678)
              (puVar2,&DAT_00402d14,&local_18,DAT_004254c0 ^ (uint)&stack0xfffffffc);
    (*(code *)*puVar3)();
    puVar2 = (undefined4 *)*puVar1;
    (*(code *)PTR_guard_check_icall_00427678)(puVar1,&DAT_00402d14,&local_14);
    (*(code *)*puVar2)();
    bVar5 = local_18 == local_14;
    ~CComPtr<>((int *)&local_14);
    ~CComPtr<>((int *)&local_18);
    if (bVar5) goto LAB_0040ee81;
  }
  iVar4 = FUN_0040eeb3((int *)this,(undefined4 *)*param_1,&DAT_00402d24);
  ExceptionList = local_10;
  return iVar4;
}



/* Function: FUN_0040eeb3 */

int __fastcall FUN_0040eeb3(int *param_1,undefined4 *param_2,undefined4 param_3)

{
  int *piVar1;
  code *pcVar2;
  int iVar3;
  
  if (param_1 == (int *)0x0) {
    iVar3 = 0;
  }
  else {
    piVar1 = (int *)*param_1;
    *param_1 = 0;
    if (param_2 != (undefined4 *)0x0) {
      pcVar2 = *(code **)*param_2;
      (*(code *)PTR_guard_check_icall_00427678)(param_2,param_3,param_1);
      (*pcVar2)();
    }
    if (piVar1 != (int *)0x0) {
      pcVar2 = *(code **)(*piVar1 + 8);
      (*(code *)PTR_guard_check_icall_00427678)(piVar1);
      (*pcVar2)();
    }
    iVar3 = *param_1;
  }
  return iVar3;
}



/* Function: FUN_0040ef04 */

void FUN_0040ef04(void)

{
  int iVar1;
  BOOL BVar2;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 uVar3;
  SHELLEXECUTEINFOW local_24c;
  wchar_t local_210 [260];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_24c.cbSize = 0x3c;
  memset(&local_24c.fMask,0,0x38);
  local_24c.hwnd = (HWND)0x0;
  local_24c.lpParameters = local_210;
  local_24c.fMask = 0x300;
  local_24c.lpFile = L"%systemroot%\\system32\\rundll32.exe";
  local_24c.nShow = 1;
  iVar1 = FUN_00405da3(local_24c.lpParameters,0x104,L"shell32.dll,Control_RunDLL %s");
  uVar3 = extraout_EDX;
  if ((-1 < iVar1) && (BVar2 = ShellExecuteExW(&local_24c), uVar3 = extraout_EDX_00, BVar2 == 0)) {
    GetLastError();
    uVar3 = extraout_EDX_01;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar3);
  return;
}



/* Function: FUN_0040efbb */

undefined4 * __fastcall FUN_0040efbb(undefined4 *param_1)

{
  undefined4 uVar1;
  
  uVar1 = DAT_00425a98;
  param_1[1] = 0;
  param_1[5] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  *param_1 = &PTR_FUN_00401630;
  param_1[8] = &PTR_FUN_00401580;
  param_1[9] = 0;
  FUN_0041c6b6(param_1 + 10,uVar1);
  FUN_0041c6b6(param_1 + 0x23,DAT_00425a98);
  param_1[0x3c] = 0;
  param_1[0x3d] = 0;
  FUN_0041d4d5(param_1 + 0x3e);
  param_1[0x71] = 0;
  param_1[0x70] = 0;
  FUN_0041ba34(param_1 + 0x74);
  param_1[0x85] = 1;
  param_1[0x86] = 0;
  param_1[0x87] = 0;
  if (DAT_00425ac4 == 0) {
    CoCreateGuid((GUID *)&DAT_00425ac4);
  }
  return param_1;
}



/* Function: FUN_0040f060 */

int * __thiscall FUN_0040f060(void *this,byte param_1)

{
  FUN_0040f088((int *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (int *)this;
}



/* Function: FUN_0040f088 */

void __fastcall FUN_0040f088(int *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421619;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = (int)&PTR_FUN_00401630;
  param_1[8] = (int)&PTR_FUN_00401580;
  IsWindow((HWND)param_1[1]);
  if (param_1[9] != 0) {
    FUN_0040f840(param_1);
  }
  if (DAT_00425ad8 != (HICON)0x0) {
    DestroyIcon(DAT_00425ad8);
  }
  if (DAT_00425ad4 != (HICON)0x0) {
    DestroyIcon(DAT_00425ad4);
  }
  if ((HANDLE)param_1[0x87] != (HANDLE)0x0) {
    CloseHandle((HANDLE)param_1[0x87]);
    param_1[0x87] = 0;
  }
  param_1[0x74] = (int)&PTR_FUN_004017bc;
  local_8 = 0;
  if ((int *)param_1[0x43] != (int *)0x0) {
    FUN_0041abac((int *)param_1[0x43]);
  }
  FUN_0041c758(param_1 + 0x23);
  FUN_0041c758(param_1 + 10);
  local_8 = 1;
  if (param_1[5] != 0) {
    FUN_0041abac((int *)param_1[5]);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0040f170 */

int FUN_0040f170(int param_1)

{
  int *piVar1;
  int iVar2;
  
  LOCK();
  piVar1 = (int *)(param_1 + 500);
  iVar2 = *piVar1;
  *piVar1 = *piVar1 + 1;
  UNLOCK();
  return iVar2 + 1;
}



/* Function: FUN_0040f190 */

int FUN_0040f190(int param_1)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  
  LOCK();
  piVar1 = (int *)(param_1 + 500);
  iVar2 = *piVar1;
  *piVar1 = *piVar1 + -1;
  UNLOCK();
  if ((iVar2 + -1 == 0) && ((int *)(param_1 + -0x20) != (int *)0x0)) {
    pcVar3 = *(code **)(*(int *)(param_1 + -0x20) + 4);
    (*(code *)PTR_guard_check_icall_00427678)(1);
    (*pcVar3)();
  }
  return iVar2 + -1;
}



/* Function: FUN_0040f1e0 */

/* WARNING: Function: __EH_prolog3_catch replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void __fastcall FUN_0040f1e0(int param_1,undefined4 param_2)

{
  HICON pHVar1;
  uint uVar2;
  int local_18 [4];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x18;
  local_8 = 0x40f1ec;
  pHVar1 = DAT_00425ad4;
  if (*(int *)(param_1 + 0x1c0) != 0) {
    pHVar1 = DAT_00425ad8;
  }
  FUN_0041c8af(param_1 + 0x8c,param_2,pHVar1);
  if ((*(int *)(param_1 + 0x24) != 0) && (*(int *)(*(int *)(param_1 + 0x24) + 0x18) != 0)) {
    local_8 = 0;
    FUN_0040ce33(local_18,(int *)&PTR_PTR_00425384);
    local_8 = 2;
    uVar2 = 0x1f5;
    if (*(int *)(param_1 + 0x1c0) != 0) {
      uVar2 = 0x1fc;
    }
    FUN_0041039c(local_18,uVar2);
    local_8 = 1;
    FUN_0040f2a1();
    return;
  }
  return;
}



/* Function: Catch@0040f272 */

undefined * Catch_0040f272(void)

{
  int *piVar1;
  int unaff_EBP;
  
  piVar1 = *(int **)(unaff_EBP + -0x24);
  if (*piVar1 == -0x3fffff03) {
    _resetstkoflw();
  }
  *(int *)(unaff_EBP + -0x18) = *piVar1;
  return &DAT_0040f28e;
}



/* Function: FUN_0040f2a1 */

/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void FUN_0040f2a1(void)

{
  LPCWSTR lpString;
  void *unaff_EBX;
  int unaff_EBP;
  int unaff_EDI;
  
  lpString = *(LPCWSTR *)(unaff_EBP + -0x14);
  FUN_0041c9d5(unaff_EBX,lpString);
  SetWindowTextW(*(HWND *)(unaff_EDI + 0x90),lpString);
  FUN_0040d028((undefined4 *)(lpString + -8));
  return;
}



/* Function: FUN_0040f2e0 */

void __fastcall FUN_0040f2e0(int *param_1)

{
  code *pcVar1;
  
  pcVar1 = *(code **)(*param_1 + 0x1c);
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar1)();
  SendMessageW((HWND)param_1[0x3f],0x432,1,param_1[0x70]);
  return;
}



/* Function: FUN_0040f319 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall FUN_0040f319(void *this)

{
  code *pcVar1;
  HINSTANCE hInstance;
  int *piVar2;
  HDC hdc;
  int iVar3;
  HANDLE pvVar4;
  HICON lParam;
  HWND pHVar5;
  uint uVar6;
  float fVar7;
  undefined4 *in_stack_00000010;
  undefined4 local_c;
  int *local_8;
  
  local_8 = (int *)this;
  hdc = GetDC(*(HWND *)((int)this + 4));
  iVar3 = GetDeviceCaps(hdc,0x58);
  DAT_00425568 = (float)iVar3;
  ReleaseDC(*(HWND *)((int)this + 4),hdc);
  FUN_0041d459(&DAT_00425a6c,0);
  local_c = 2;
  DwmSetWindowAttribute(*(HWND *)((int)this + 4),2,&local_c,4);
  pvVar4 = CreateEventW((LPSECURITY_ATTRIBUTES)0x0,1,0,(LPCWSTR)0x0);
  hInstance = DAT_00425aa8;
  *(HANDLE *)((int)this + 0x21c) = pvVar4;
  lParam = LoadIconW(hInstance,(LPCWSTR)0x65);
  SendMessageW(*(HWND *)((int)this + 4),0x80,1,(LPARAM)lParam);
  fVar7 = (DAT_00425568 * _DAT_00403664) / DAT_00403670;
  uVar6 = (uint)((DAT_00425568 * _DAT_00403658) / DAT_00403670);
  Ordinal_381(DAT_00425aa8,0x6f,uVar6,uVar6,&DAT_00425ad8);
  Ordinal_381(DAT_00425aa8,0x6e,uVar6,uVar6,&DAT_00425ad4);
  piVar2 = local_8;
  pHVar5 = GetDlgItem((HWND)local_8[1],300);
  FUN_0040d355(piVar2 + 10,pHVar5);
  FUN_0041c7dd(piVar2 + 10,(int)((DAT_00425568 * _DAT_00403664) / DAT_00403670));
  pHVar5 = GetDlgItem((HWND)piVar2[1],0x131);
  FUN_0040d355(piVar2 + 0x23,pHVar5);
  FUN_0041c7dd(piVar2 + 0x23,uVar6);
  uVar6 = (int)fVar7 & 0xffff;
  SendMessageW((HWND)piVar2[0x24],0x41f,0,uVar6 << 0x10 | uVar6);
  pHVar5 = GetDlgItem((HWND)piVar2[1],0x130);
  FUN_0040d355(piVar2 + 0x3e,pHVar5);
  FUN_0041d551((int)(piVar2 + 0x3e));
  pHVar5 = GetDlgItem((HWND)piVar2[1],0x130);
  SendMessageW(pHVar5,0x406,1,0x640000);
  SendMessageW((HWND)piVar2[0x3f],0x433,0,1);
  SendMessageW((HWND)piVar2[0x3f],0x434,0,0);
  pcVar1 = *(code **)(*piVar2 + 0x18);
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar1)();
  FUN_0041023b((int)piVar2);
  pcVar1 = *(code **)(*piVar2 + 0x24);
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar1)();
  SetTimer((HWND)0x0,0x7b2,500,FUN_00410380);
  *in_stack_00000010 = 0;
  return 0;
}



/* Function: FUN_0040f549 */

void FUN_0040f549(int param_1)

{
  HRESULT HVar1;
  BOOL BVar2;
  undefined4 extraout_EDX;
  int dx;
  int iVar3;
  SIZE local_6c;
  int local_64;
  BOOL local_60;
  int local_5c;
  RECT local_58;
  RECT local_48;
  NOTIFYICONIDENTIFIER local_38;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_38.hWnd = (HWND)0x0;
  local_38.uID = 0;
  local_38.cbSize = 0x1c;
  local_64 = param_1;
  local_38.guidItem.Data1 = DAT_0040269c;
  local_38.guidItem._4_4_ = DAT_004026a0;
  local_38.guidItem.Data4._0_4_ = DAT_004026a4;
  local_38.guidItem.Data4._4_4_ = DAT_004026a8;
  HVar1 = Shell_NotifyIconGetRect(&local_38,&local_58);
  iVar3 = local_5c;
  if (-1 < HVar1) {
    GetWindowRect(*(HWND *)(local_5c + 4),&local_1c);
    dx = 0;
    local_60 = 0;
    HVar1 = DwmIsCompositionEnabled(&local_60);
    if ((-1 < HVar1) && (local_60 != 0)) {
      local_38.guidItem.Data1 = DAT_004026ac;
      local_38.guidItem.Data2 = (ushort)DAT_004026b0;
      local_38.guidItem.Data3 = DAT_004026b0._2_2_;
      local_38.guidItem.Data4[0] = (uchar)DAT_004026b4;
      local_38.guidItem.Data4[1] = DAT_004026b4._1_1_;
      local_38.guidItem.Data4[2] = DAT_004026b4._2_1_;
      local_38.guidItem.Data4[3] = DAT_004026b4._3_1_;
      local_38.guidItem.Data4[4] = (uchar)DAT_004026b8;
      local_38.guidItem.Data4[5] = DAT_004026b8._1_1_;
      local_38.guidItem.Data4[6] = DAT_004026b8._2_1_;
      local_38.guidItem.Data4[7] = DAT_004026b8._3_1_;
      HVar1 = Shell_NotifyIconGetRect(&local_38,&local_48);
      if (-1 < HVar1) {
        dx = local_48.bottom - local_48.top;
      }
      InflateRect(&local_1c,dx,dx);
      iVar3 = local_5c;
    }
    local_6c.cx = local_1c.right - local_1c.left;
    local_6c.cy = local_1c.bottom - local_1c.top;
    BVar2 = CalculatePopupWindowPosition
                      ((POINT *)&DAT_00425524,&local_6c,0x10054,&local_58,&local_1c);
    if (BVar2 != 0) {
      SetWindowPos(*(HWND *)(iVar3 + 4),(HWND)-(uint)(local_64 != 0),local_1c.left + dx,
                   local_1c.top + dx,0,0,1);
    }
  }
  InvalidateRect(*(HWND *)(local_5c + 4),(RECT *)0x0,1);
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0040f670 */

undefined4 FUN_0040f670(HWND param_1,int param_2)

{
  LONG LVar1;
  uint nCmdShow;
  
  LVar1 = GetWindowLongW(param_1,-0xc);
  if (LVar1 == 0x132) {
    nCmdShow = 5;
    if (param_2 != 0) {
      nCmdShow = 0;
    }
  }
  else {
    if (LVar1 == 0x12e) {
      return 1;
    }
    nCmdShow = -(uint)(param_2 != 0) & 5;
  }
  ShowWindow(param_1,nCmdShow);
  return 1;
}



/* Function: FUN_0040f6bc */

void __fastcall FUN_0040f6bc(int param_1)

{
  HWND hWnd;
  int nIDDlgItem;
  
  if (*(int *)(param_1 + 0x24) == 0) {
    if (DAT_0042552c == 0) {
      return;
    }
    EnumChildWindows(*(HWND *)(param_1 + 4),FUN_0040f670,0);
    DAT_0042552c = 0;
    nIDDlgItem = 0x132;
  }
  else {
    if (DAT_0042552c != 0) {
      return;
    }
    EnumChildWindows(*(HWND *)(param_1 + 4),FUN_0040f670,5);
    DAT_0042552c = 1;
    nIDDlgItem = 0x130;
  }
  hWnd = GetDlgItem(*(HWND *)(param_1 + 4),nIDDlgItem);
  SetFocus(hWnd);
  return;
}



/* Function: FUN_0040f72e */

undefined4 __thiscall FUN_0040f72e(void *this,undefined4 param_1,int *param_2)

{
  code *pcVar1;
  APOHandle *pAVar2;
  
  if (param_2 != (int *)0x0) {
    if (*(int **)((int)this + 0x24) == param_2) {
                    /* WARNING: Load size is inaccurate */
      pcVar1 = *(code **)(*this + 0x10);
      (*(code *)PTR_guard_check_icall_00427678)();
      (*pcVar1)();
      pAVar2 = FUN_004140be(0);
      if (pAVar2 != (APOHandle *)0x0) {
                    /* WARNING: Load size is inaccurate */
        pcVar1 = *(code **)(*this + 0x14);
        (*(code *)PTR_guard_check_icall_00427678)(pAVar2);
        (*pcVar1)();
      }
    }
    pcVar1 = *(code **)(*param_2 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(param_2);
    (*pcVar1)();
    FUN_0040f6bc((int)this);
  }
  return 0;
}



/* Function: FUN_0040f798 */

void __thiscall FUN_0040f798(void *this,LPCWSTR param_1)

{
  LPCWSTR lpString;
  HWND hWnd;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar1;
  undefined1 auStack_24 [4];
  LPCWSTR local_20;
  tagRECT tStack_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)auStack_24;
  local_20 = param_1;
  hWnd = GetDlgItem(*(HWND *)((int)this + 4),0x12d);
  uVar1 = extraout_EDX;
  if (hWnd != (HWND)0x0) {
    GetClientRect(hWnd,&tStack_1c);
    MapWindowPoints(hWnd,*(HWND *)((int)this + 4),(LPPOINT)&tStack_1c,2);
    lpString = local_20;
    FUN_0041bb23((void *)((int)this + 0x1d0),*(undefined4 *)((int)this + 4),0x12d,local_20,
                 tStack_1c.left,tStack_1c.top,tStack_1c.right,tStack_1c.bottom);
    SetDlgItemTextW(*(HWND *)((int)this + 4),0x12d,lpString);
    uVar1 = extraout_EDX_00;
  }
  FUN_00420010(local_c ^ (uint)auStack_24,uVar1);
  return;
}



/* Function: FUN_0040f840 */

void __fastcall FUN_0040f840(int *param_1)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  undefined4 extraout_EDX;
  
  piVar1 = (int *)param_1[0x3c];
  if (piVar1 != (int *)0x0) {
    iVar2 = *piVar1;
    (*(code *)PTR_guard_check_icall_00427678)
              (piVar1,-(uint)(param_1 != (int *)0x0) & (uint)(param_1 + 8));
    (**(code **)(iVar2 + 0x10))();
    piVar1 = (int *)param_1[0x3c];
    if (piVar1 != (int *)0x0) {
      pcVar3 = *(code **)(*piVar1 + 8);
      (*(code *)PTR_guard_check_icall_00427678)(piVar1);
      (*pcVar3)();
      param_1[0x3c] = 0;
    }
  }
  piVar1 = (int *)param_1[0x3d];
  if (piVar1 != (int *)0x0) {
    pcVar3 = *(code **)(*piVar1 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1);
    (*pcVar3)();
    param_1[0x3d] = 0;
  }
  piVar1 = (int *)param_1[9];
  if (piVar1 != (int *)0x0) {
    pcVar3 = *(code **)(*piVar1 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1);
    (*pcVar3)();
    param_1[9] = 0;
  }
  KillTimer((HWND)param_1[1],0x42a);
  FUN_0041c8af((int)(param_1 + 10),extraout_EDX,(HICON)0x0);
  EnableWindow((HWND)param_1[0x3f],0);
  EnableWindow((HWND)param_1[0x24],0);
  SendMessageW((HWND)param_1[0x3f],0x434,0,0);
  SendMessageW((HWND)param_1[0x3f],0x432,1,0);
  param_1[0x70] = 0;
  pcVar3 = *(code **)(*param_1 + 0x18);
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar3)();
  return;
}



/* Function: FUN_0040f940 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

int __thiscall FUN_0040f940(void *this,int *param_1)

{
  code *pcVar1;
  int *extraout_EDX;
  int *piVar2;
  int *piVar3;
  int iVar4;
  int *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 4;
  local_14[0] = (int *)0x0;
  local_8 = 0;
  if (param_1 == (int *)0x0) {
    iVar4 = 1;
  }
  else {
    *(int **)((int)this + 0x24) = param_1;
    pcVar1 = *(code **)(*param_1 + 4);
    (*(code *)PTR_guard_check_icall_00427678)(param_1);
    (*pcVar1)();
    piVar2 = *(int **)(*(int *)((int)this + 0x24) + 4);
    piVar3 = (int *)0x0;
    if (piVar2 != (int *)0x0) {
      FUN_004105b9((int *)local_14,piVar2);
      piVar2 = extraout_EDX;
      piVar3 = local_14[0];
    }
    FUN_0041c8af((int)this + 0x28,piVar2,*(HICON *)(*(int *)((int)this + 0x24) + 0x28));
    pcVar1 = *(code **)(*piVar3 + 0xc);
    (*(code *)PTR_guard_check_icall_00427678)(piVar3,&DAT_00402f10,0x17,0,(int)this + 0xf0);
    iVar4 = (*pcVar1)();
    if (-1 < iVar4) {
      pcVar1 = *(code **)(*piVar3 + 0xc);
      (*(code *)PTR_guard_check_icall_00427678)(piVar3,&DAT_00402f00,0x17,0,(int)this + 0xf4);
      iVar4 = (*pcVar1)();
      if (-1 < iVar4) {
        pcVar1 = *(code **)(**(int **)((int)this + 0xf0) + 0x24);
        (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)this + 0xf0),(int)this + 0x1c4);
        iVar4 = (*pcVar1)();
        if (-1 < iVar4) {
          pcVar1 = *(code **)(**(int **)((int)this + 0xf0) + 0x3c);
          (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)this + 0xf0),(int)this + 0x1c0);
          iVar4 = (*pcVar1)();
          if (-1 < iVar4) {
            pcVar1 = *(code **)(**(int **)((int)this + 0xf0) + 0xc);
            (*(code *)PTR_guard_check_icall_00427678)
                      (*(int **)((int)this + 0xf0),-(uint)(this != (void *)0x0) & (int)this + 0x20U)
            ;
            iVar4 = (*pcVar1)();
            if (-1 < iVar4) {
              EnableWindow(*(HWND *)((int)this + 0xfc),1);
              EnableWindow(*(HWND *)((int)this + 0x90),1);
              SendMessageW(*(HWND *)((int)this + 0xfc),0x405,1,
                           100 - (int)(*(float *)((int)this + 0x1c4) * DAT_00403674 + DAT_0040363c))
              ;
                    /* WARNING: Load size is inaccurate */
              pcVar1 = *(code **)(*this + 0x18);
              (*(code *)PTR_guard_check_icall_00427678)();
              (*pcVar1)();
              FUN_0041023b((int)this);
              SetTimer(*(HWND *)((int)this + 4),0x42a,0x32,(TIMERPROC)0x0);
              goto LAB_0040faf3;
            }
          }
        }
      }
    }
                    /* WARNING: Load size is inaccurate */
    pcVar1 = *(code **)(*this + 0x10);
    (*(code *)PTR_guard_check_icall_00427678)();
    (*pcVar1)();
  }
LAB_0040faf3:
  ~CComPtr<>((int *)local_14);
  return iVar4;
}



/* Function: FUN_0040fb0b */

undefined4 __fastcall FUN_0040fb0b(float param_1)

{
  int *piVar1;
  code *pcVar2;
  bool bVar3;
  int iVar4;
  undefined3 extraout_var;
  uint uVar5;
  float local_8;
  
                    /* WARNING: Load size is inaccurate */
  local_8 = param_1;
  if (*(int *)(*ThreadLocalStoragePointer + 4) < DAT_00425b14) {
    FUN_00420385(&DAT_00425b14);
    if (DAT_00425b14 == -1) {
      bVar3 = FUN_0041bcb2();
      DAT_00425b18 = (uint)(CONCAT31(extraout_var,bVar3) == 0);
      FUN_0042032c(&DAT_00425b14);
    }
  }
  if ((DAT_00425b18 != 0) && (piVar1 = *(int **)((int)param_1 + 0xf4), piVar1 != (int *)0x0)) {
    uVar5 = 0;
    pcVar2 = *(code **)(*piVar1 + 0xc);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1,&local_8);
    iVar4 = (*pcVar2)();
    if (iVar4 < 0) {
      iVar4 = 0;
    }
    else {
      uVar5 = (uint)(local_8 * DAT_00403674 + DAT_0040363c);
      iVar4 = (int)(local_8 * *(float *)((int)param_1 + 0x1c4) * DAT_00403674 + DAT_0040363c);
    }
    PostMessageW(*(HWND *)((int)param_1 + 0xfc),0x434,1,iVar4 << 0x10 | uVar5 & 0xffff);
  }
  return 0;
}



/* Function: FUN_0040fbfe */

undefined4 __thiscall FUN_0040fbfe(void *this,undefined4 param_1,int *param_2,undefined4 *param_3)

{
  short *psVar1;
  
  *param_3 = 0;
  if ((param_2[1] == 300) && (*param_2 == *(int *)((int)this + 0x2c))) {
    if ((*(int *)((int)this + 0x24) != 0) &&
       (psVar1 = *(short **)(*(int *)((int)this + 0x24) + 0x1c), psVar1 != (short *)0x0)) {
      psVar1 = FUN_0041bce2(psVar1);
      FUN_00405d17((short *)param_2[3],param_2[4],(int)psVar1);
      CoTaskMemFree(psVar1);
    }
    *param_3 = 1;
  }
  return 0;
}



/* Function: FUN_0040fc5c */

void __fastcall FUN_0040fc5c(undefined4 *param_1)

{
  CoTaskMemFree((LPVOID)*param_1);
  *param_1 = 0;
  return;
}



/* Function: FUN_0040fc74 */

/* WARNING: Function: __EH_prolog3_catch replaced with injection: EH_prolog3 */

void FUN_0040fc74(void)

{
  undefined1 local_18 [16];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x10;
  local_8 = 0;
  FUN_0040ce33(local_18,(int *)&PTR_PTR_00425384);
  local_8 = 2;
  FUN_0040dd0f(local_18,L"mmsys.cpl,,%s,general");
  FUN_0040fcd9();
  return;
}



/* Function: Catch@0040fcb7 */

undefined * Catch_0040fcb7(void)

{
  int *piVar1;
  int unaff_EBP;
  
  piVar1 = *(int **)(unaff_EBP + -0x1c);
  if (*piVar1 == -0x3fffff03) {
    _resetstkoflw();
  }
  *(int *)(unaff_EBP + -0x18) = *piVar1;
  return &DAT_0040fcd3;
}



/* Function: FUN_0040fcd9 */

/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 FUN_0040fcd9(void)

{
  int iVar1;
  int unaff_EBP;
  
  iVar1 = *(int *)(unaff_EBP + -0x14);
  FUN_0040ef04();
  FUN_0040d028((undefined4 *)(iVar1 + -0x10));
  return 0;
}



/* Function: FUN_0040fd00 */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */

void __fastcall FUN_0040fd00(int *param_1)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  uint uVar4;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 extraout_EDX;
  int unaff_retaddr;
  RTL_SRWLOCK local_dc [53];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xcc;
  local_8 = 0x40fd0f;
  FUN_00410959(local_dc,"MuteToggle");
  local_dc[0].Ptr = &PTR_FUN_00401614;
  FUN_00410507(local_dc);
  local_8 = 0;
  piVar1 = (int *)param_1[0x3c];
  if (piVar1 != (int *)0x0) {
    iVar2 = param_1[0x70];
    pcVar3 = *(code **)(*piVar1 + 0x38);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1,(uint)(iVar2 == 0),&DAT_00425ac4);
    uVar4 = (*pcVar3)();
    if ((int)uVar4 < 0) {
      FUN_00411a89(unaff_retaddr,0x2d6,extraout_ECX,uVar4);
    }
    else {
      param_1[0x70] = (uint)(iVar2 == 0);
      pcVar3 = *(code **)(*param_1 + 0x18);
      (*(code *)PTR_guard_check_icall_00427678)();
      (*pcVar3)();
    }
  }
  FUN_00410fc8(local_dc,(undefined4 *)param_1[0x73],(undefined *)param_1[0x70]);
  local_dc[0].Ptr = &PTR_FUN_00401614;
  FUN_00411a00(local_dc);
  FUN_004115ba((int)local_dc);
  FUN_004204c2(extraout_ECX_00,extraout_EDX);
  return;
}



/* Function: FUN_0040fdd9 */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */

void __fastcall FUN_0040fdd9(int *param_1)

{
  code *pcVar1;
  int *piVar2;
  uint uVar3;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 extraout_EDX;
  int unaff_retaddr;
  RTL_SRWLOCK local_dc [53];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xcc;
  local_8 = 0x40fde8;
  FUN_00410959(local_dc,"UnmuteFromSlider");
  local_dc[0].Ptr = &PTR_FUN_00401608;
  FUN_00410455(local_dc);
  local_8 = 0;
  param_1[0x70] = 0;
  pcVar1 = *(code **)(*param_1 + 0x1c);
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar1)();
  piVar2 = (int *)param_1[0x3c];
  if (piVar2 != (int *)0x0) {
    pcVar1 = *(code **)(*piVar2 + 0x38);
    (*(code *)PTR_guard_check_icall_00427678)(piVar2,param_1[0x70],&DAT_00425ac4);
    uVar3 = (*pcVar1)();
    if ((int)uVar3 < 0) {
      FUN_00411a89(unaff_retaddr,0x2f6,extraout_ECX,uVar3);
    }
  }
  FUN_00410bc1(local_dc,(undefined *)param_1[0x73]);
  local_dc[0].Ptr = &PTR_FUN_00401608;
  FUN_00411a00(local_dc);
  FUN_004115ba((int)local_dc);
  FUN_004204c2(extraout_ECX_00,extraout_EDX);
  return;
}



/* Function: FUN_0040fea4 */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall
FUN_0040fea4(void *this,undefined4 param_1,short param_2,undefined4 param_3,undefined4 *param_4)

{
  code *pcVar1;
  int *piVar2;
  LRESULT LVar3;
  uint uVar4;
  HANDLE hThread;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 extraout_ECX_01;
  undefined4 extraout_EDX;
  int unaff_retaddr;
  RTL_SRWLOCK local_dc [53];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xd4;
  local_8 = 0x40feb3;
  FUN_00410959(local_dc,"VolumeChange");
  local_dc[0].Ptr = &PTR_FUN_004015fc;
  local_8 = 0;
  if (param_2 == 8) {
    FUN_00410889(local_dc);
  }
  LVar3 = SendMessageW(*(HWND *)((int)this + 0xfc),0x400,0,0);
                    /* WARNING: Load size is inaccurate */
  pcVar1 = *(code **)(*this + 0x20);
  *(float *)((int)this + 0x1c4) = (float)(100 - LVar3) / DAT_00403674;
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar1)();
  piVar2 = *(int **)((int)this + 0xf0);
  if (piVar2 != (int *)0x0) {
    pcVar1 = *(code **)(*piVar2 + 0x1c);
    (*(code *)PTR_guard_check_icall_00427678)
              (piVar2,*(undefined4 *)((int)this + 0x1c4),&DAT_00425ac4);
    uVar4 = (*pcVar1)();
    if ((int)uVar4 < 0) {
      FUN_00411a89(unaff_retaddr,0x313,extraout_ECX,uVar4);
    }
    if (*(float *)((int)this + 0x1c4) == _DAT_00403638) {
      pcVar1 = *(code **)(**(int **)((int)this + 0xf0) + 0x38);
      (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)this + 0xf0),1,&DAT_00425ac4);
      uVar4 = (*pcVar1)();
      if ((int)uVar4 < 0) {
        FUN_00411a89(unaff_retaddr,0x316,extraout_ECX_00,uVar4);
      }
      else {
                    /* WARNING: Load size is inaccurate */
        *(undefined4 *)((int)this + 0x1c0) = 1;
        pcVar1 = *(code **)(*this + 0x18);
        (*(code *)PTR_guard_check_icall_00427678)();
        (*pcVar1)();
      }
    }
  }
  if (param_2 == 8) {
    hThread = CreateThread((LPSECURITY_ATTRIBUTES)0x0,0,FUN_00410190,this,0,(LPDWORD)0x0);
    *(HANDLE *)((int)this + 0x218) = hThread;
    SetThreadPriority(hThread,2);
    if (*(HANDLE *)((int)this + 0x218) != (HANDLE)0x0) {
      CloseHandle(*(HANDLE *)((int)this + 0x218));
      *(undefined4 *)((int)this + 0x218) = 0;
    }
    FUN_00410602(local_dc,*(undefined4 **)((int)this + 0x1cc));
  }
  local_dc[0].Ptr = &PTR_FUN_004015fc;
  *param_4 = 0;
  FUN_00411a00(local_dc);
  FUN_004115ba((int)local_dc);
  FUN_004204c2(extraout_ECX_01,extraout_EDX);
  return;
}



/* Function: FUN_00410080 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_00410080(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    if (*(int *)(param_2 + iVar1 * 4) != (&DAT_00425ac4)[iVar1]) {
      PostMessageW(*(HWND *)(param_1 + -0x1c),0x417,
                   (int)(*(float *)(param_2 + 0x14) * _DAT_00403680),*(LPARAM *)(param_2 + 0x10));
      return 0;
    }
    iVar1 = iVar1 + 1;
  } while (iVar1 != 4);
  return 0;
}



/* Function: FUN_004100d3 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall FUN_004100d3(void *this,undefined4 param_1,int param_2,int param_3)

{
  code *pcVar1;
  float fVar2;
  
  fVar2 = (float)((double)param_2 + *(double *)(&DAT_00403700 + (param_2 >> 0x1f) * -8)) /
          _DAT_00403680;
  if (*(float *)((int)this + 0x1c4) != fVar2) {
    *(float *)((int)this + 0x1c4) = fVar2;
    SendMessageW(*(HWND *)((int)this + 0xfc),0x405,1,
                 100 - (int)(fVar2 * DAT_00403674 + DAT_0040363c));
                    /* WARNING: Load size is inaccurate */
    pcVar1 = *(code **)(*this + 0x20);
    (*(code *)PTR_guard_check_icall_00427678)();
    (*pcVar1)();
  }
  if (*(int *)((int)this + 0x1c0) != param_3) {
    *(int *)((int)this + 0x1c0) = param_3;
                    /* WARNING: Load size is inaccurate */
    pcVar1 = *(code **)(*this + 0x18);
    (*(code *)PTR_guard_check_icall_00427678)();
    (*pcVar1)();
  }
  return 0;
}



/* Function: FUN_00410190 */

undefined4 FUN_00410190(int param_1)

{
  HRESULT HVar1;
  
  HVar1 = CoInitialize((LPVOID)0x0);
  if (-1 < HVar1) {
    FUN_004101bb(param_1);
    CoUninitialize();
  }
  return 0;
}



/* Function: FUN_004101bb */

void __fastcall FUN_004101bb(int param_1)

{
  int iVar1;
  LSTATUS LVar2;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar3;
  DWORD local_214;
  WCHAR local_210 [260];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_214 = 0x208;
  LVar2 = RegGetValueW((HKEY)0x80000001,L"AppEvents\\Schemes\\Apps\\.Default\\.Default\\.Current",
                       L"",0xffff,(LPDWORD)0x0,local_210,&local_214);
  uVar3 = extraout_EDX;
  if ((LVar2 == 0) && (iVar1 = *(int *)(param_1 + 0x24), iVar1 != 0)) {
    FUN_0041ecb1(*(int **)(iVar1 + 4),local_210,iVar1,iVar1,*(HANDLE *)(param_1 + 0x21c));
    uVar3 = extraout_EDX_00;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar3);
  return;
}



/* Function: FUN_0041023b */

/* WARNING: Function: __EH_prolog3_catch replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void __fastcall FUN_0041023b(int param_1)

{
  int local_28;
  int *local_24;
  int local_1c;
  int local_18 [4];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x24;
  local_8 = 0;
  local_1c = param_1;
  FUN_0040ce33(&local_28,(int *)&PTR_PTR_00425384);
  local_8 = 2;
  FUN_0040ce33(local_18,(int *)&PTR_PTR_00425384);
  local_24 = (int *)(param_1 + 0x24);
  local_8 = CONCAT31(local_8._1_3_,3);
  if ((*local_24 != 0) && (*(int *)(*local_24 + 0x18) != 0)) {
    local_8 = CONCAT31(local_8._1_3_,4);
    FUN_0041039c(&local_28,0x1f6);
    local_8 = 3;
    FUN_004102df();
    return;
  }
  FUN_0040d028((undefined4 *)(local_18[0] + -0x10));
  FUN_0040d028((undefined4 *)(local_28 + -0x10));
  return;
}



/* Function: Catch@004102af */

undefined * Catch_004102af(void)

{
  int *piVar1;
  int unaff_EBP;
  
  piVar1 = *(int **)(unaff_EBP + -0x28);
  if (*piVar1 == -0x3fffff03) {
    _resetstkoflw();
  }
  *(int *)(unaff_EBP + -0x1c) = *piVar1;
  return &DAT_004102cb;
}



/* Function: FUN_004102df */

void FUN_004102df(void)

{
  uint uVar1;
  int unaff_EBP;
  int unaff_EDI;
  
  SetDlgItemTextW(*(HWND *)(unaff_EDI + 4),0x12e,*(LPCWSTR *)(unaff_EBP + -0x14));
  *(undefined1 *)(unaff_EBP + -4) = 6;
  uVar1 = 0x1f5;
  if (*(int *)(unaff_EDI + 0x1c0) != 0) {
    uVar1 = 0x1fc;
  }
  FUN_0041039c((int *)(unaff_EBP + -0x14),uVar1);
  FUN_0041033c();
  return;
}



/* Function: Catch@0041031a */

undefined * Catch_0041031a(void)

{
  int *piVar1;
  int unaff_EBP;
  
  piVar1 = *(int **)(unaff_EBP + -0x2c);
  if (*piVar1 == -0x3fffff03) {
    _resetstkoflw();
  }
  *(int *)(unaff_EBP + -0x1c) = *piVar1;
  return &DAT_00410336;
}



/* Function: FUN_0041033c */

/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void FUN_0041033c(void)

{
  int unaff_EBP;
  int unaff_ESI;
  LPCWSTR lpString;
  int unaff_EDI;
  
  if (unaff_ESI < 0) {
    lpString = *(LPCWSTR *)(unaff_EBP + -0x14);
  }
  else {
    lpString = *(LPCWSTR *)(unaff_EBP + -0x14);
    SetWindowTextW(*(HWND *)(unaff_EDI + 0x90),lpString);
  }
  FUN_0040d028((undefined4 *)(lpString + -8));
  FUN_0040d028((undefined4 *)(*(int *)(unaff_EBP + -0x24) + -0x10));
  return;
}



/* Function: FUN_00410380 */

void FUN_00410380(void)

{
  waveOutGetNumDevs();
  KillTimer((HWND)0x0,0x7b2);
  return;
}



/* Function: FUN_0041039c */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void __cdecl FUN_0041039c(int *param_1,uint param_2)

{
  code *pcVar1;
  int *piVar2;
  DWORD DVar3;
  va_list local_1c;
  LPCVOID local_18;
  short *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xc;
  local_8 = 0x4103a8;
  piVar2 = (int *)FUN_0040ccac(param_1);
  local_8 = 0;
  FUN_0040ce33(&local_18,piVar2);
  local_8 = 1;
  FUN_0040cfad(&local_18,param_2);
  if (*(int *)((int)local_18 + -0xc) == 0) {
    FUN_00409c00(0x80070057);
  }
  else {
    local_1c = &stack0x0000000c;
    local_14[0] = (short *)0x0;
    local_8 = CONCAT31(local_8._1_3_,2);
    DVar3 = FormatMessageW(0x500,local_18,0,0,(LPWSTR)local_14,0,&local_1c);
    if (DVar3 != 0) {
      FUN_0040d2c0(param_1,local_14[0]);
      LocalFree(local_14[0]);
      local_1c = (va_list)0x0;
      FUN_0040d028((undefined4 *)((int)local_18 + -0x10));
      return;
    }
  }
  FUN_0040d0ee();
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_0041043d */

void __fastcall FUN_0041043d(undefined4 *param_1)

{
  LocalFree((HLOCAL)*param_1);
  *param_1 = 0;
  return;
}



/* Function: FUN_00410455 */

void __fastcall FUN_00410455(PSRWLOCK param_1)

{
  uint *this;
  undefined *puVar1;
  uint uVar2;
  int *piVar3;
  PSRWLOCK local_18;
  PSRWLOCK local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_004217fc;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_18 = param_1;
  local_14 = param_1;
  FUN_004107f0(param_1);
  puVar1 = FUN_004118b8();
  this = *(uint **)(puVar1 + 4);
  if (5 < *this) {
    uVar2 = FUN_00405a81(this,0,0x2000);
    if ((char)uVar2 != '\0') {
      local_14 = (PSRWLOCK)GetCurrentThreadId();
      local_18 = (PSRWLOCK)&DAT_00402ec8;
      piVar3 = FUN_0041085d((int)param_1);
      FUN_004054b3((int)this,&DAT_00403a89,(int)param_1[0x2a].Ptr + 8,piVar3,&local_18,&local_14);
    }
  }
  if (param_1[0x2f].Ptr == (PVOID)0x0) {
    FUN_00411b82(param_1 + 0x2c);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00410507 */

void __fastcall FUN_00410507(PSRWLOCK param_1)

{
  uint *this;
  undefined *puVar1;
  uint uVar2;
  int *piVar3;
  PSRWLOCK local_18;
  PSRWLOCK local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_004217fc;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_18 = param_1;
  local_14 = param_1;
  FUN_004107f0(param_1);
  puVar1 = FUN_004118b8();
  this = *(uint **)(puVar1 + 4);
  if (5 < *this) {
    uVar2 = FUN_00405a81(this,0,0x2000);
    if ((char)uVar2 != '\0') {
      local_14 = (PSRWLOCK)GetCurrentThreadId();
      local_18 = (PSRWLOCK)&DAT_00402ec8;
      piVar3 = FUN_0041085d((int)param_1);
      FUN_004054b3((int)this,&DAT_00403ad1,(int)param_1[0x2a].Ptr + 8,piVar3,&local_18,&local_14);
    }
  }
  if (param_1[0x2f].Ptr == (PVOID)0x0) {
    FUN_00411b82(param_1 + 0x2c);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_004105b9 */

int * __fastcall FUN_004105b9(int *param_1,int *param_2)

{
  code *pcVar1;
  int *piVar2;
  
  if (param_1 == (int *)0x0) {
    param_2 = (int *)0x0;
  }
  else {
    if (param_2 != (int *)0x0) {
      pcVar1 = *(code **)(*param_2 + 4);
      (*(code *)PTR_guard_check_icall_00427678)(param_2);
      (*pcVar1)();
    }
    piVar2 = (int *)*param_1;
    if (piVar2 != (int *)0x0) {
      pcVar1 = *(code **)(*piVar2 + 8);
      (*(code *)PTR_guard_check_icall_00427678)(piVar2);
      (*pcVar1)();
    }
    *param_1 = (int)param_2;
  }
  return param_2;
}



/* Function: FUN_00410602 */

void __thiscall FUN_00410602(void *this,undefined4 *param_1)

{
  uint *this_00;
  undefined4 *puVar1;
  undefined *puVar2;
  uint uVar3;
  int extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined *in_XMM2_Da;
  undefined *local_58;
  undefined4 *local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined *local_24;
  undefined4 local_20;
  DWORD local_1c;
  undefined4 *local_18;
  undefined *local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  local_58 = in_XMM2_Da;
  puVar1 = (undefined4 *)FUN_00411747((int)this);
  FUN_00411408((PSRWLOCK)this);
  puVar2 = FUN_004118b8();
  if (puVar1 == (undefined4 *)0x0) {
    this_00 = *(uint **)(puVar2 + 4);
    if (5 < *this_00) {
      uVar3 = FUN_00405a81(this_00,0,0x2000);
      if ((char)uVar3 != '\0') {
        local_14 = local_58;
        local_18 = param_1;
        local_1c = GetCurrentThreadId();
        local_24 = &DAT_00402ec8;
        local_20 = *(undefined4 *)(*(int *)((int)this + 0xa8) + 0x38);
        FUN_004051e7((int)this_00,&DAT_00403c52,*(int *)((int)this + 0xa8) + 8,extraout_ECX_00,
                     &local_24,&local_20,&local_1c,&local_18,&local_14);
      }
    }
  }
  else if (5 < **(uint **)(puVar2 + 4)) {
    uVar3 = FUN_00405a81(*(uint **)(puVar2 + 4),0,0x2000);
    if ((char)uVar3 != '\0') {
      local_54 = param_1;
      local_50 = puVar1[0x12];
      local_4c = puVar1[0x11];
      local_48 = puVar1[0x10];
      local_44 = puVar1[0xf];
      local_40 = puVar1[0xe];
      local_3c = puVar1[0xd];
      local_38 = puVar1[0xc];
      local_34 = puVar1[6];
      local_30 = puVar1[5];
      local_2c = *puVar1;
      local_28 = puVar1[0x13];
      local_24 = (undefined *)puVar1[10];
      local_20 = puVar1[9];
      local_1c = puVar1[2];
      local_18 = &local_10;
      local_10 = 0x1000000;
      local_c = 0;
      local_14 = &DAT_00402ec8;
      FUN_00404fea(extraout_ECX,&DAT_00403b13,*(int *)((int)this + 0xa8) + 8,extraout_ECX,&local_14,
                   &local_18,&local_1c,&local_20,&local_24,&local_28,&local_2c,&local_30,&local_34,
                   &local_38,&local_3c,&local_40,&local_44,&local_48,&local_4c,&local_50,&local_54,
                   &local_58);
    }
  }
  if (*(int *)((int)this + 0xbc) != 0) {
    FUN_00411c3f((undefined4 *)((int)this + 0xb0));
  }
  return;
}



/* Function: FUN_004107f0 */

void __fastcall FUN_004107f0(PSRWLOCK param_1)

{
  undefined4 *puVar1;
  undefined *puVar2;
  uint uVar3;
  PSRWLOCK local_8;
  
  local_8 = param_1;
  FUN_004115ea(param_1,&local_8);
  puVar1 = (undefined4 *)param_1[0x2a].Ptr;
  puVar2 = FUN_004118b8();
  if (5 < **(uint **)(puVar2 + 4)) {
    uVar3 = FUN_00405a81(*(uint **)(puVar2 + 4),0,0x2000);
    if ((char)uVar3 != '\0') {
      EtwEventActivityIdControl(3,puVar1 + 2);
      goto LAB_0041083e;
    }
  }
  puVar1[2] = 0;
  puVar1[3] = 0;
  puVar1[4] = 0;
  puVar1[5] = 0;
LAB_0041083e:
  *puVar1 = 1;
  if (local_8 != (PSRWLOCK)0x0) {
    ReleaseSRWLockExclusive(local_8);
  }
  return;
}



/* Function: FUN_0041085d */

int * __fastcall FUN_0041085d(int param_1)

{
  int iVar1;
  int *piVar2;
  
  iVar1 = *(int *)(param_1 + 0xa8);
  if ((*(char *)(iVar1 + 4) == '\0') ||
     ((((piVar2 = (int *)(iVar1 + 0x18), *piVar2 == 0 && (*(int *)(iVar1 + 0x1c) == 0)) &&
       (*(int *)(iVar1 + 0x20) == 0)) && (*(int *)(iVar1 + 0x24) == 0)))) {
    piVar2 = (int *)0x0;
  }
  return piVar2;
}



/* Function: FUN_00410889 */

void __fastcall FUN_00410889(PSRWLOCK param_1)

{
  uint *this;
  undefined *puVar1;
  uint uVar2;
  int *piVar3;
  PSRWLOCK local_18;
  PSRWLOCK local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_004217fc;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_18 = param_1;
  local_14 = param_1;
  FUN_004107f0(param_1);
  puVar1 = FUN_004118b8();
  this = *(uint **)(puVar1 + 4);
  if (5 < *this) {
    uVar2 = FUN_00405a81(this,0,0x2000);
    if ((char)uVar2 != '\0') {
      local_14 = (PSRWLOCK)GetCurrentThreadId();
      local_18 = (PSRWLOCK)&DAT_00402ec8;
      piVar3 = FUN_0041085d((int)param_1);
      FUN_004054b3((int)this,&DAT_00403cba,(int)param_1[0x2a].Ptr + 8,piVar3,&local_18,&local_14);
    }
  }
  if (param_1[0x2f].Ptr == (PVOID)0x0) {
    FUN_00411b82(param_1 + 0x2c);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0041093b */

void __fastcall FUN_0041093b(PSRWLOCK param_1)

{
  param_1->Ptr = &PTR_FUN_004015fc;
  FUN_00411a00(param_1);
  FUN_004115ba((int)param_1);
  return;
}



/* Function: FUN_00410959 */

undefined4 * __thiscall FUN_00410959(void *this,undefined4 param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_004210db;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *(undefined4 *)((int)this + 0x30) = param_1;
  *(undefined ***)this = &PTR_FUN_004015f0;
  *(undefined4 *)((int)this + 4) = 0;
  *(undefined1 *)((int)this + 8) = 0;
  *(undefined1 *)((int)this + 0x38) = 0;
  *(undefined4 *)((int)this + 0x2c) = 0;
  *(undefined4 *)((int)this + 0x34) = 0;
  *(undefined4 *)((int)this + 0x3c) = 0;
  *(undefined4 *)((int)this + 0x98) = 0;
  *(undefined4 *)((int)this + 0x9c) = 0;
  memset((void *)((int)this + 0x40),0,0x58);
  *(undefined4 *)((int)this + 0xa0) = 1;
  *(undefined4 *)((int)this + 0xa4) = 0;
  *(undefined4 **)((int)this + 0xa8) = (undefined4 *)((int)this + 4);
  *(undefined4 *)((int)this + 0xac) = 0;
  *(undefined4 *)((int)this + 0xb0) = 0;
  *(int *)((int)this + 0xc0) = (int)this + 0x2c;
  *(void **)((int)this + 0xb4) = this;
  *(undefined4 *)((int)this + 0xb8) = 0;
  *(undefined4 *)((int)this + 0xbc) = 0;
  ExceptionList = local_10;
  return (undefined4 *)this;
}



/* Function: FUN_00410a20 */

void __fastcall FUN_00410a20(PSRWLOCK param_1)

{
  uint *this;
  undefined4 *puVar1;
  undefined *puVar2;
  uint uVar3;
  int extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 local_4c;
  undefined4 local_48;
  undefined *local_44;
  undefined4 *local_40;
  undefined *local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  puVar1 = (undefined4 *)FUN_00411747((int)param_1);
  FUN_00411408(param_1);
  puVar2 = FUN_004118b8();
  if (puVar1 == (undefined4 *)0x0) {
    this = *(uint **)(puVar2 + 4);
    if (5 < *this) {
      uVar3 = FUN_00405a81(this,0,0x2000);
      if ((char)uVar3 != '\0') {
        local_44 = (undefined *)GetCurrentThreadId();
        local_3c = &DAT_00402ec8;
        local_40 = *(undefined4 **)((int)param_1[0x2a].Ptr + 0x38);
        FUN_0040551e((int)this,&DAT_00403e22,(int)param_1[0x2a].Ptr + 8,extraout_ECX_00,&local_3c,
                     &local_40,&local_44);
      }
    }
  }
  else if (5 < **(uint **)(puVar2 + 4)) {
    uVar3 = FUN_00405a81(*(uint **)(puVar2 + 4),0,0x2000);
    if ((char)uVar3 != '\0') {
      local_8 = puVar1[0x12];
      local_c = puVar1[0x11];
      local_10 = puVar1[0x10];
      local_14 = puVar1[0xf];
      local_18 = puVar1[0xe];
      local_1c = puVar1[0xd];
      local_20 = puVar1[0xc];
      local_24 = puVar1[6];
      local_28 = puVar1[5];
      local_2c = *puVar1;
      local_30 = puVar1[0x13];
      local_34 = puVar1[10];
      local_38 = puVar1[9];
      local_3c = (undefined *)puVar1[2];
      local_40 = &local_4c;
      local_4c = 0x1000000;
      local_48 = 0;
      local_44 = &DAT_00402ec8;
      FUN_00405594(extraout_ECX,&DAT_00403cfe,(int)param_1[0x2a].Ptr + 8,extraout_ECX,&local_44,
                   &local_40,&local_3c,&local_38,&local_34,&local_30,&local_2c,&local_28,&local_24,
                   &local_20,&local_1c,&local_18,&local_14,&local_10,&local_c,&local_8);
    }
  }
  if (param_1[0x2f].Ptr != (PVOID)0x0) {
    FUN_00411c3f(param_1 + 0x2c);
  }
  return;
}



/* Function: FUN_00410ba0 */

bool FUN_00410ba0(int param_1)

{
  bool bVar1;
  
  bVar1 = DAT_00425530 == param_1;
  DAT_00425530 = param_1;
  return bVar1;
}



/* Function: FUN_00410bc1 */

void __thiscall FUN_00410bc1(void *this,undefined *param_1)

{
  uint *this_00;
  undefined4 *puVar1;
  undefined *puVar2;
  uint uVar3;
  int extraout_ECX;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined4 uVar4;
  undefined4 extraout_EDX_04;
  undefined4 local_bc;
  undefined4 *local_b8;
  undefined *local_b4;
  undefined *local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  undefined4 local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 auStack_70 [8];
  undefined *puStack_50;
  undefined4 uStack_4c;
  undefined4 uStack_48;
  undefined4 uStack_44;
  undefined4 *puStack_40;
  undefined4 uStack_3c;
  undefined4 uStack_38;
  undefined4 uStack_34;
  undefined4 **ppuStack_30;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined **ppuStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&local_bc;
  puVar1 = (undefined4 *)FUN_00411747((int)this);
  FUN_00411408((PSRWLOCK)this);
  puVar2 = FUN_004118b8();
  uVar4 = extraout_EDX;
  if (puVar1 == (undefined4 *)0x0) {
    this_00 = *(uint **)(puVar2 + 4);
    if (5 < *this_00) {
      uVar3 = FUN_00405a81(this_00,0,0x2000);
      uVar4 = extraout_EDX_02;
      if ((char)uVar3 != '\0') {
        local_b4 = param_1;
        local_b8 = (undefined4 *)GetCurrentThreadId();
        local_bc = *(undefined4 *)(*(int *)((int)this + 0xa8) + 0x38);
        ppuStack_20 = &local_b4;
        ppuStack_30 = &local_b8;
        puStack_40 = &local_bc;
        uStack_1c = 0;
        uStack_18 = 4;
        uStack_14 = 0;
        uStack_2c = 0;
        uStack_28 = 4;
        uStack_24 = 0;
        uStack_3c = 0;
        uStack_38 = 4;
        uStack_34 = 0;
        puStack_50 = &DAT_00402ec8;
        uStack_4c = 0;
        uStack_48 = 8;
        uStack_44 = 0;
        FUN_004057eb((int)this_00,&DAT_00403fa5,*(int *)((int)this + 0xa8) + 8,0,6,auStack_70);
        uVar4 = extraout_EDX_03;
      }
    }
  }
  else if (5 < **(uint **)(puVar2 + 4)) {
    uVar3 = FUN_00405a81(*(uint **)(puVar2 + 4),0,0x2000);
    uVar4 = extraout_EDX_00;
    if ((char)uVar3 != '\0') {
      local_b0 = param_1;
      local_ac = puVar1[0x12];
      local_a8 = puVar1[0x11];
      local_a4 = puVar1[0x10];
      local_a0 = puVar1[0xf];
      local_9c = puVar1[0xe];
      local_98 = puVar1[0xd];
      local_94 = puVar1[0xc];
      local_90 = puVar1[6];
      local_8c = puVar1[5];
      local_88 = *puVar1;
      local_84 = puVar1[0x13];
      local_80 = puVar1[10];
      local_7c = puVar1[9];
      local_bc = puVar1[2];
      local_b8 = &local_78;
      local_78 = 0x1000000;
      local_74 = 0;
      local_b4 = &DAT_00402ec8;
      FUN_00404e00(extraout_ECX,&DAT_00403e6f,*(int *)((int)this + 0xa8) + 8,extraout_ECX,&local_b4,
                   &local_b8,&local_bc,&local_7c,&local_80,&local_84,&local_88,&local_8c,&local_90,
                   &local_94,&local_98,&local_9c,&local_a0,&local_a4,&local_a8,&local_ac,&local_b0);
      uVar4 = extraout_EDX_01;
    }
  }
  if (*(int *)((int)this + 0xbc) != 0) {
    FUN_00411c3f((undefined4 *)((int)this + 0xb0));
    uVar4 = extraout_EDX_04;
  }
  FUN_00420010(local_c ^ (uint)&local_bc,uVar4);
  return;
}



/* Function: FUN_00410e30 */

void __fastcall FUN_00410e30(PSRWLOCK param_1)

{
  uint *this;
  undefined4 *puVar1;
  undefined *puVar2;
  uint uVar3;
  int extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 local_4c;
  undefined4 local_48;
  undefined *local_44;
  undefined4 *local_40;
  undefined *local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  puVar1 = (undefined4 *)FUN_00411747((int)param_1);
  FUN_00411408(param_1);
  puVar2 = FUN_004118b8();
  if (puVar1 == (undefined4 *)0x0) {
    this = *(uint **)(puVar2 + 4);
    if (5 < *this) {
      uVar3 = FUN_00405a81(this,0,0x2000);
      if ((char)uVar3 != '\0') {
        local_44 = (undefined *)GetCurrentThreadId();
        local_3c = &DAT_00402ec8;
        local_40 = *(undefined4 **)((int)param_1[0x2a].Ptr + 0x38);
        FUN_0040551e((int)this,&DAT_0040412c,(int)param_1[0x2a].Ptr + 8,extraout_ECX_00,&local_3c,
                     &local_40,&local_44);
      }
    }
  }
  else if (5 < **(uint **)(puVar2 + 4)) {
    uVar3 = FUN_00405a81(*(uint **)(puVar2 + 4),0,0x2000);
    if ((char)uVar3 != '\0') {
      local_8 = puVar1[0x12];
      local_c = puVar1[0x11];
      local_10 = puVar1[0x10];
      local_14 = puVar1[0xf];
      local_18 = puVar1[0xe];
      local_1c = puVar1[0xd];
      local_20 = puVar1[0xc];
      local_24 = puVar1[6];
      local_28 = puVar1[5];
      local_2c = *puVar1;
      local_30 = puVar1[0x13];
      local_34 = puVar1[10];
      local_38 = puVar1[9];
      local_3c = (undefined *)puVar1[2];
      local_40 = &local_4c;
      local_4c = 0x1000000;
      local_48 = 0;
      local_44 = &DAT_00402ec8;
      FUN_00405594(extraout_ECX,&DAT_00404004,(int)param_1[0x2a].Ptr + 8,extraout_ECX,&local_44,
                   &local_40,&local_3c,&local_38,&local_34,&local_30,&local_2c,&local_28,&local_24,
                   &local_20,&local_1c,&local_18,&local_14,&local_10,&local_c,&local_8);
    }
  }
  if (param_1[0x2f].Ptr != (PVOID)0x0) {
    FUN_00411c3f(param_1 + 0x2c);
  }
  return;
}



/* Function: FUN_00410faa */

void __fastcall FUN_00410faa(PSRWLOCK param_1)

{
  param_1->Ptr = &PTR_FUN_00401608;
  FUN_00411a00(param_1);
  FUN_004115ba((int)param_1);
  return;
}



/* Function: FUN_00410fc8 */

void __thiscall FUN_00410fc8(void *this,undefined4 *param_1,undefined *param_2)

{
  uint *this_00;
  undefined4 *puVar1;
  undefined *puVar2;
  uint uVar3;
  int extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined *local_58;
  undefined4 *local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined *local_24;
  undefined4 local_20;
  DWORD local_1c;
  undefined4 *local_18;
  undefined *local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  puVar1 = (undefined4 *)FUN_00411747((int)this);
  FUN_00411408((PSRWLOCK)this);
  puVar2 = FUN_004118b8();
  if (puVar1 == (undefined4 *)0x0) {
    this_00 = *(uint **)(puVar2 + 4);
    if (5 < *this_00) {
      uVar3 = FUN_00405a81(this_00,0,0x2000);
      if ((char)uVar3 != '\0') {
        local_14 = param_2;
        local_18 = param_1;
        local_1c = GetCurrentThreadId();
        local_24 = &DAT_00402ec8;
        local_20 = *(undefined4 *)(*(int *)((int)this + 0xa8) + 0x38);
        FUN_004051e7((int)this_00,&DAT_004042b8,*(int *)((int)this + 0xa8) + 8,extraout_ECX_00,
                     &local_24,&local_20,&local_1c,&local_18,&local_14);
      }
    }
  }
  else if (5 < **(uint **)(puVar2 + 4)) {
    uVar3 = FUN_00405a81(*(uint **)(puVar2 + 4),0,0x2000);
    if ((char)uVar3 != '\0') {
      local_58 = param_2;
      local_54 = param_1;
      local_50 = puVar1[0x12];
      local_4c = puVar1[0x11];
      local_48 = puVar1[0x10];
      local_44 = puVar1[0xf];
      local_40 = puVar1[0xe];
      local_3c = puVar1[0xd];
      local_38 = puVar1[0xc];
      local_34 = puVar1[6];
      local_30 = puVar1[5];
      local_2c = *puVar1;
      local_28 = puVar1[0x13];
      local_24 = (undefined *)puVar1[10];
      local_20 = puVar1[9];
      local_1c = puVar1[2];
      local_18 = &local_10;
      local_10 = 0x1000000;
      local_c = 0;
      local_14 = &DAT_00402ec8;
      FUN_00404fea(extraout_ECX,&DAT_0040417d,*(int *)((int)this + 0xa8) + 8,extraout_ECX,&local_14,
                   &local_18,&local_1c,&local_20,&local_24,&local_28,&local_2c,&local_30,&local_34,
                   &local_38,&local_3c,&local_40,&local_44,&local_48,&local_4c,&local_50,&local_54,
                   &local_58);
    }
  }
  if (*(int *)((int)this + 0xbc) != 0) {
    FUN_00411c3f((undefined4 *)((int)this + 0xb0));
  }
  return;
}



/* Function: FUN_004111b0 */

undefined4 __thiscall FUN_004111b0(void *this,undefined4 *param_1)

{
  code *pcVar1;
  int iVar2;
  char cVar3;
  undefined *puVar4;
  uint uVar5;
  int iVar6;
  int extraout_EAX;
  int extraout_ECX;
  int extraout_ECX_00;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 *local_50 [2];
  undefined4 local_48;
  undefined4 local_44;
  undefined4 *local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  PSRWLOCK local_8;
  
  if ((*(byte *)(param_1 + 1) & 2) == 0) {
                    /* WARNING: Load size is inaccurate */
    pcVar1 = *(code **)(*this + 8);
    (*(code *)PTR_guard_check_icall_00427678)(param_1[4]);
    cVar3 = (*pcVar1)();
    if (cVar3 == '\0') {
      puVar4 = FUN_004118b8();
      if (2 < **(uint **)(puVar4 + 4)) {
        uVar5 = FUN_00405a81(*(uint **)(puVar4 + 4),0,0x2000);
        if ((char)uVar5 != '\0') {
          local_8 = (PSRWLOCK)param_1[0x12];
          local_c = param_1[0x11];
          local_10 = param_1[0x10];
          local_14 = param_1[0xf];
          local_18 = param_1[0xe];
          local_1c = param_1[0xd];
          local_20 = param_1[0xc];
          local_24 = param_1[6];
          local_28 = param_1[5];
          local_2c = *param_1;
          local_30 = param_1[0x13];
          local_34 = param_1[10];
          local_38 = param_1[9];
          local_3c = param_1[2];
          local_40 = &local_54;
          local_50[0] = (undefined4 *)0x0;
          local_54 = 0x1000000;
          FUN_0040527b(extraout_ECX,&DAT_0040431c,*(int *)((int)this + 0xa8) + 8,extraout_ECX,
                       &local_40,&local_3c,&local_38,&local_34,&local_30,&local_2c,&local_28,
                       &local_24,&local_20,&local_1c,&local_18,&local_14,&local_10,&local_c,&local_8
                      );
        }
      }
    }
    else {
      puVar4 = FUN_004118b8();
      if (2 < **(uint **)(puVar4 + 4)) {
        uVar5 = FUN_00405a81(*(uint **)(puVar4 + 4),0,0x2000);
        if ((char)uVar5 != '\0') {
          local_40 = (undefined4 *)param_1[8];
          local_3c = param_1[0xb];
          local_38 = param_1[4];
          local_34 = param_1[0x12];
          local_30 = param_1[0x11];
          local_2c = param_1[0x10];
          local_28 = param_1[0xf];
          local_24 = param_1[0xe];
          local_20 = param_1[0xd];
          local_1c = param_1[0xc];
          local_18 = param_1[6];
          local_14 = param_1[5];
          local_10 = *param_1;
          local_c = param_1[0x13];
          local_8 = (PSRWLOCK)param_1[10];
          local_44 = param_1[9];
          local_48 = param_1[2];
          local_50[0] = &local_5c;
          local_58 = 0;
          local_5c = 0x1000000;
          FUN_00405880(extraout_ECX_00,&DAT_00404431,*(int *)((int)this + 0xa8) + 8,extraout_ECX_00,
                       local_50,&local_48,&local_44,&local_8,&local_c,&local_10,&local_14,&local_18,
                       &local_1c,&local_20,&local_24,&local_28,&local_2c,&local_30,&local_34,
                       &local_38,&local_3c,&local_40);
        }
      }
    }
  }
  FUN_004115ea(this,&local_8);
  iVar2 = *(int *)((int)this + 0xa8);
  iVar6 = param_1[2];
  if ((iVar6 != *(int *)(iVar2 + 0x44)) &&
     ((iVar6 != *(int *)(iVar2 + 0x38) || (-1 < *(int *)(iVar2 + 0x38))))) {
    iVar6 = FUN_00406835((void *)(iVar2 + 0x3c),param_1);
  }
  if (local_8 != (PSRWLOCK)0x0) {
    ReleaseSRWLockExclusive(local_8);
    iVar6 = extraout_EAX;
  }
  return CONCAT31((int3)((uint)iVar6 >> 8),1);
}



/* Function: FUN_00411408 */

void __fastcall FUN_00411408(PSRWLOCK param_1)

{
  PSRWLOCK local_8;
  
  local_8 = param_1;
  FUN_004115ea(param_1,&local_8);
  *(undefined4 *)param_1[0x2a].Ptr = 2;
  if (local_8 != (PSRWLOCK)0x0) {
    ReleaseSRWLockExclusive(local_8);
  }
  return;
}



/* Function: FUN_00411440 */

void __fastcall FUN_00411440(PSRWLOCK param_1)

{
  uint *this;
  undefined4 *puVar1;
  undefined *puVar2;
  uint uVar3;
  int extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 local_4c;
  undefined4 local_48;
  undefined *local_44;
  undefined4 *local_40;
  undefined *local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  puVar1 = (undefined4 *)FUN_00411747((int)param_1);
  FUN_00411408(param_1);
  puVar2 = FUN_004118b8();
  if (puVar1 == (undefined4 *)0x0) {
    this = *(uint **)(puVar2 + 4);
    if (5 < *this) {
      uVar3 = FUN_00405a81(this,0,0x2000);
      if ((char)uVar3 != '\0') {
        local_44 = (undefined *)GetCurrentThreadId();
        local_3c = &DAT_00402ec8;
        local_40 = *(undefined4 **)((int)param_1[0x2a].Ptr + 0x38);
        FUN_0040551e((int)this,&DAT_0040468b,(int)param_1[0x2a].Ptr + 8,extraout_ECX_00,&local_3c,
                     &local_40,&local_44);
      }
    }
  }
  else if (5 < **(uint **)(puVar2 + 4)) {
    uVar3 = FUN_00405a81(*(uint **)(puVar2 + 4),0,0x2000);
    if ((char)uVar3 != '\0') {
      local_8 = puVar1[0x12];
      local_c = puVar1[0x11];
      local_10 = puVar1[0x10];
      local_14 = puVar1[0xf];
      local_18 = puVar1[0xe];
      local_1c = puVar1[0xd];
      local_20 = puVar1[0xc];
      local_24 = puVar1[6];
      local_28 = puVar1[5];
      local_2c = *puVar1;
      local_30 = puVar1[0x13];
      local_34 = puVar1[10];
      local_38 = puVar1[9];
      local_3c = (undefined *)puVar1[2];
      local_40 = &local_4c;
      local_4c = 0x1000000;
      local_48 = 0;
      local_44 = &DAT_00402ec8;
      FUN_00405594(extraout_ECX,&DAT_00404569,(int)param_1[0x2a].Ptr + 8,extraout_ECX,&local_44,
                   &local_40,&local_3c,&local_38,&local_34,&local_30,&local_2c,&local_28,&local_24,
                   &local_20,&local_1c,&local_18,&local_14,&local_10,&local_c,&local_8);
    }
  }
  if (param_1[0x2f].Ptr != (PVOID)0x0) {
    FUN_00411c3f(param_1 + 0x2c);
  }
  return;
}



/* Function: FUN_004115ba */

void __fastcall FUN_004115ba(int param_1)

{
  if (*(int *)(param_1 + 0xbc) != 0) {
    FUN_00411c3f((undefined4 *)(param_1 + 0xb0));
  }
  FUN_0041170e((undefined4 *)(param_1 + 0xac));
  FUN_004116e8((int *)(param_1 + 4));
  return;
}



/* Function: FUN_004115ea */

undefined4 * __thiscall FUN_004115ea(void *this,undefined4 *param_1)

{
  PSRWLOCK *ppRVar1;
  PSRWLOCK SRWLock;
  bool bVar2;
  PSRWLOCK local_c;
  PSRWLOCK local_8;
  
  local_c = (PSRWLOCK)0x0;
  bVar2 = *(int *)((int)this + 0xac) == 0;
  local_8 = (PSRWLOCK)this;
  if (bVar2) {
    ppRVar1 = &local_8;
    SRWLock = (PSRWLOCK)0x0;
  }
  else {
    SRWLock = (PSRWLOCK)(*(int *)((int)this + 0xac) + 0xa4);
    AcquireSRWLockExclusive(SRWLock);
    ppRVar1 = &local_c;
  }
  *ppRVar1 = (PSRWLOCK)0x0;
  *param_1 = SRWLock;
  if ((bVar2) && (local_8 != (PSRWLOCK)0x0)) {
    ReleaseSRWLockExclusive(local_8);
  }
  if ((!bVar2) && (local_c != (PSRWLOCK)0x0)) {
    ReleaseSRWLockExclusive(local_c);
  }
  return param_1;
}



/* Function: FUN_00411661 */

void __fastcall FUN_00411661(uint *param_1,undefined4 param_2)

{
  uint uVar1;
  int extraout_ECX;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar2;
  undefined1 auStack_34 [4];
  undefined4 local_30 [9];
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)auStack_34;
  uVar2 = param_2;
  if (5 < *param_1) {
    uVar1 = FUN_00405a81(param_1,0,0x2000);
    uVar2 = extraout_EDX;
    if ((char)uVar1 != '\0') {
      FUN_004057eb(extraout_ECX,&DAT_004046d6,param_2,0,2,local_30);
      uVar2 = extraout_EDX_00;
    }
  }
  FUN_00420010(local_c ^ (uint)auStack_34,uVar2);
  return;
}



/* Function: FUN_004116ba */

void __fastcall FUN_004116ba(int *param_1)

{
  undefined *puVar1;
  
  if (*param_1 == 1) {
    *param_1 = 2;
    puVar1 = FUN_004118b8();
    FUN_00411661(*(uint **)(puVar1 + 4),param_1 + 2);
  }
  *param_1 = 3;
  return;
}



/* Function: FUN_004116e8 */

void __fastcall FUN_004116e8(int *param_1)

{
  FUN_0040627c(param_1 + 0x25);
  FUN_00411b50((int)(param_1 + 10));
  FUN_004116ba(param_1);
  return;
}



/* Function: FUN_0041170e */

void __fastcall FUN_0041170e(undefined4 *param_1)

{
  int iVar1;
  int *piVar2;
  void *pvVar3;
  
  piVar2 = (int *)*param_1;
  if (piVar2 != (int *)0x0) {
    LOCK();
    iVar1 = *piVar2;
    *piVar2 = iVar1 + -1;
    UNLOCK();
    if ((iVar1 + -1 == 0) && (pvVar3 = (void *)*param_1, pvVar3 != (void *)0x0)) {
      FUN_004116e8((int *)((int)pvVar3 + 4));
      operator_delete(pvVar3);
    }
    *param_1 = 0;
  }
  return;
}



/* Function: FUN_00411747 */

int __fastcall FUN_00411747(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 0xa8);
  if ((*(int *)(iVar1 + 0x38) < 0) && (*(int *)(iVar1 + 0x38) == *(int *)(iVar1 + 0x44))) {
    return iVar1 + 0x3c;
  }
  return 0;
}



/* Function: FUN_00411766 */

void __fastcall FUN_00411766(int *param_1)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  int iVar4;
  undefined4 extraout_EDX;
  undefined4 local_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  iVar2 = param_1[4];
  param_1[1] = iVar2;
  *(undefined1 *)(param_1 + 2) = 1;
  iVar4 = *(int *)(iVar2 + 4);
  local_18 = *(undefined4 *)(iVar4 + -0x10);
  uStack_14 = *(undefined4 *)(iVar4 + -0xc);
  uStack_10 = *(undefined4 *)(iVar4 + -8);
  uStack_c = *(undefined4 *)(iVar4 + -4);
  piVar1 = (int *)(iVar2 + 0x18);
  if (*piVar1 != 0 || *(int *)(iVar2 + 0x1c) != 0) {
    pcVar3 = (code *)swi(0x29);
    (*pcVar3)();
  }
  *(undefined4 *)(iVar2 + 0x20) = 0;
  *(undefined4 *)(iVar2 + 0x24) = 0;
  iVar4 = EtwEventRegister(&local_18,FUN_00405430,iVar2,piVar1);
  if (iVar4 == 0) {
    EtwEventSetInformation
              (*piVar1,*(undefined4 *)(iVar2 + 0x1c),2,*(undefined2 **)(iVar2 + 4),
               **(undefined2 **)(iVar2 + 4));
  }
  param_1[3] = 1;
  pcVar3 = *(code **)(*param_1 + 4);
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar3)();
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00411808 */

void __fastcall FUN_00411808(int *param_1)

{
  if (param_1[1] == 0) {
    FUN_00411766((int *)(*param_1 + 4));
  }
  InitOnceComplete((LPINIT_ONCE)*param_1,param_1[1],(LPINIT_ONCE)*param_1 + 1);
  return;
}



/* Function: FUN_00411840 */

undefined4 * __thiscall FUN_00411840(void *this,byte param_1)

{
  FUN_00411adb((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_00411870 */

void FUN_00411870(void)

{
  code *pcVar1;
  BOOL BVar2;
  int *local_c;
  int local_8;
  
  BVar2 = InitOnceBeginInitialize((LPINIT_ONCE)&DAT_00425b1c,1,&local_8,&local_c);
  if ((BVar2 != 0) && (local_8 == 0)) {
    pcVar1 = *(code **)(*local_c + 0xc);
    (*(code *)PTR_guard_check_icall_00427678)(0);
    (*pcVar1)();
  }
  return;
}



/* Function: FUN_004118b8 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined * FUN_004118b8(void)

{
  BOOL BVar1;
  undefined *local_18;
  int local_14;
  undefined *puStack_10;
  undefined4 uStack_c;
  
  local_18 = (undefined *)0x0;
  BVar1 = InitOnceBeginInitialize((LPINIT_ONCE)&DAT_00425b1c,0,&local_14,&local_18);
  if ((BVar1 != 0) && (local_14 != 0)) {
    puStack_10 = &DAT_00425b1c;
    local_18 = &DAT_00425b20;
    _DAT_00425b24 = 0;
    DAT_00425b28 = 0;
    _DAT_00425b2c = 0;
    _DAT_00425b20 = &PTR_FUN_00401620;
    _DAT_00425b30 = &DAT_00425318;
    FUN_004200cf(FUN_00411870);
    uStack_c = 0;
    FUN_00411808((int *)&puStack_10);
  }
  return local_18;
}



/* Function: FUN_00411946 */

void __fastcall FUN_00411946(int *param_1)

{
  code *pcVar1;
  
  pcVar1 = *(code **)(*param_1 + 4);
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar1)();
  return;
}



/* Function: FUN_00411971 */

int __fastcall FUN_00411971(int param_1)

{
  code *pcVar1;
  int iVar2;
  int iVar3;
  undefined1 local_6c [92];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_0042181f;
  local_10 = ExceptionList;
  iVar2 = -0x7ff8fdc2;
  if (*(int *)(param_1 + 0x44) < 0) {
    iVar2 = *(int *)(param_1 + 0x44);
  }
  local_8 = 0;
  if (0 < *(int *)(param_1 + 0x9c)) {
    iVar3 = *(int *)(param_1 + 0x38);
    if (-1 < *(int *)(param_1 + 0x38)) {
      *(int *)(param_1 + 0x38) = iVar2;
      iVar3 = iVar2;
    }
    *(int *)(param_1 + 0x9c) = *(int *)(param_1 + 0x9c) + -1;
    return iVar3;
  }
  ExceptionList = &local_10;
  memset(local_6c,0,0x58);
  FUN_00406e9e((int)local_6c);
  pcVar1 = (code *)swi(3);
  iVar2 = (*pcVar1)();
  return iVar2;
}



/* Function: FUN_00411a00 */

void __fastcall FUN_00411a00(PSRWLOCK param_1)

{
  PSRWLOCK pRVar1;
  bool bVar2;
  PSRWLOCK local_8;
  
  bVar2 = true;
  pRVar1 = param_1 + 0x2b;
  local_8 = param_1;
  if (pRVar1->Ptr != (PVOID)0x0) {
    FUN_004115ea(param_1,&local_8);
                    /* WARNING: Load size is inaccurate */
    if (((int *)pRVar1->Ptr == (int *)0x0) || (*pRVar1->Ptr != 1)) {
      bVar2 = false;
      FUN_0041170e(pRVar1);
    }
    if (local_8 != (PSRWLOCK)0x0) {
      ReleaseSRWLockExclusive(local_8);
    }
    if (!bVar2) {
      return;
    }
  }
                    /* WARNING: Load size is inaccurate */
  if (*param_1[0x2a].Ptr == 1) {
    FUN_00411971((int)param_1[0x2a].Ptr);
    FUN_00411946((int *)param_1);
  }
  return;
}



/* Function: FUN_00411a6b */

void __fastcall FUN_00411a6b(PSRWLOCK param_1)

{
  param_1->Ptr = &PTR_FUN_00401614;
  FUN_00411a00(param_1);
  FUN_004115ba((int)param_1);
  return;
}



/* Function: FUN_00411a89 */

void __fastcall FUN_00411a89(int param_1,int param_2,undefined4 param_3,uint param_4)

{
  int unaff_retaddr;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421121;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_00408063(param_1,param_2,0x402df8,0,0,unaff_retaddr,param_4);
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00411adb */

void __fastcall FUN_00411adb(undefined4 *param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  
  *param_1 = &PTR_FUN_00401620;
  if (*(char *)(param_1 + 2) != '\0') {
    puVar1 = (undefined4 *)param_1[1];
    uVar2 = puVar1[7];
    uVar3 = puVar1[6];
    *puVar1 = 0;
    puVar1[6] = 0;
    puVar1[7] = 0;
    EtwEventUnregister(uVar3,uVar2,param_1);
  }
  return;
}



/* Function: FUN_00411b10 */

undefined4 __thiscall FUN_00411b10(void *this,int param_1)

{
  int iVar1;
  code *pcVar2;
  int iVar3;
  bool bVar4;
  
  iVar1 = *(int *)(param_1 + 0x10);
  bVar4 = DAT_00425530 != iVar1;
  iVar3 = DAT_00425530;
  DAT_00425530 = iVar1;
  if (bVar4) {
                    /* WARNING: Load size is inaccurate */
    pcVar2 = *(code **)(*this + 8);
    (*(code *)PTR_guard_check_icall_00427678)(0,param_1);
    iVar3 = (*pcVar2)();
  }
  return CONCAT31((int3)((uint)iVar3 >> 8),1);
}



/* Function: FUN_00411b50 */

void __fastcall FUN_00411b50(int param_1)

{
  LPVOID lpMem;
  HANDLE hHeap;
  
  if (*(char *)(param_1 + 0xc) != '\0') {
    lpMem = *(LPVOID *)(param_1 + 8);
    hHeap = GetProcessHeap();
    HeapFree(hHeap,0,lpMem);
    *(undefined1 *)(param_1 + 0xc) = 0;
  }
  *(undefined4 *)(param_1 + 8) = 0;
  return;
}



/* Function: FUN_00411b82 */

void __fastcall FUN_00411b82(undefined4 *param_1)

{
  code *pcVar1;
  DWORD *pDVar2;
  DWORD DVar3;
  undefined1 local_60 [92];
  
  if (param_1[3] == 0) {
    if (DAT_00425974 == 0) {
      *param_1 = 0;
    }
    else {
      pDVar2 = FUN_00407ac3('\x01');
      *param_1 = pDVar2;
      if (pDVar2 != (DWORD *)0x0) {
        param_1[2] = *pDVar2;
        *pDVar2 = (DWORD)param_1;
        DVar3 = GetCurrentThreadId();
        param_1[3] = DVar3;
      }
    }
    return;
  }
  memset(local_60,0,0x58);
  FUN_00406e9e((int)local_60);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_00411be5 */

uint __thiscall FUN_00411be5(void *this,undefined4 param_1,uint param_2)

{
  int unaff_retaddr;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421121;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_00408063((int)this,0x3be,0x402f20,0,0,unaff_retaddr,param_2);
  ExceptionList = local_10;
  return param_2;
}



/* Function: FUN_00411c3f */

void __fastcall FUN_00411c3f(undefined4 *param_1)

{
  undefined4 *puVar1;
  DWORD DVar2;
  undefined4 extraout_ECX;
  int *piVar3;
  void *unaff_retaddr;
  
  DVar2 = GetCurrentThreadId();
  if (param_1[3] != DVar2) {
    FUN_00411be5(unaff_retaddr,extraout_ECX,0x8007029c);
  }
  param_1[3] = 0;
  piVar3 = (int *)*param_1;
  do {
    puVar1 = (undefined4 *)*piVar3;
    if (puVar1 == (undefined4 *)0x0) {
LAB_00411c7f:
      *param_1 = 0;
      return;
    }
    if (puVar1 == param_1) {
      *piVar3 = param_1[2];
      goto LAB_00411c7f;
    }
    piVar3 = puVar1 + 2;
    *param_1 = piVar3;
  } while( true );
}



/* Function: FUN_00411c8c */

void __thiscall FUN_00411c8c(void *this,undefined4 *param_1)

{
  uint *this_00;
  uint uVar1;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 *local_44;
  undefined4 *local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  this_00 = *(uint **)((int)this + 4);
  if (2 < *this_00) {
    uVar1 = FUN_00405a81(this_00,0,0x2000);
    if ((char)uVar1 != '\0') {
      local_48 = 0;
      local_50 = 0;
      local_8 = param_1[0x12];
      local_c = param_1[0x11];
      local_10 = param_1[0x10];
      local_14 = param_1[0xf];
      local_18 = param_1[0xe];
      local_1c = param_1[0xd];
      local_20 = param_1[0xc];
      local_24 = param_1[6];
      local_28 = param_1[5];
      local_2c = *param_1;
      local_30 = param_1[0x13];
      local_34 = param_1[10];
      local_38 = param_1[9];
      local_3c = param_1[2];
      local_40 = &local_4c;
      local_44 = &local_54;
      local_4c = 0x1000000;
      local_54 = 0x1000000;
      FUN_00405594((int)this_00,&DAT_00404702,0,0x1000000,&local_44,&local_40,&local_3c,&local_38,
                   &local_34,&local_30,&local_2c,&local_28,&local_24,&local_20,&local_1c,&local_18,
                   &local_14,&local_10,&local_c,&local_8);
    }
  }
  return;
}



/* Function: FUN_00411d86 */

void __thiscall FUN_00411d86(void *this,undefined4 *param_1)

{
  undefined4 local_54;
  undefined4 local_50;
  undefined4 *local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  if (2 < **(uint **)((int)this + 4)) {
    local_50 = 0;
    local_54 = 0x1000000;
    local_8 = param_1[8];
    local_c = param_1[0xb];
    local_10 = param_1[4];
    local_14 = param_1[0x12];
    local_18 = param_1[0x11];
    local_1c = param_1[0x10];
    local_20 = param_1[0xf];
    local_24 = param_1[0xe];
    local_28 = param_1[0xd];
    local_2c = param_1[0xc];
    local_30 = param_1[6];
    local_34 = param_1[5];
    local_38 = *param_1;
    local_3c = param_1[0x13];
    local_40 = param_1[10];
    local_44 = param_1[9];
    local_48 = param_1[2];
    local_4c = &local_54;
    FUN_00405880((int)*(uint **)((int)this + 4),&DAT_00404825,0,param_1,&local_4c,&local_48,
                 &local_44,&local_40,&local_3c,&local_38,&local_34,&local_30,&local_2c,&local_28,
                 &local_24,&local_20,&local_1c,&local_18,&local_14,&local_10,&local_c,&local_8);
  }
  return;
}



/* Function: FUN_00411e80 */

void __thiscall FUN_00411e80(void *this,char param_1,undefined4 *param_2)

{
  if ((param_1 == '\0') && ((*(byte *)(param_2 + 1) & 2) == 0)) {
    if (*(int *)((int)this + 0xc) == 1) {
      FUN_00411c8c(this,param_2);
    }
    else if (*(int *)((int)this + 0xc) == 2) {
      FUN_00411d86(this,param_2);
    }
  }
  return;
}



/* Function: FUN_00411ebd */

void __fastcall FUN_00411ebd(int *param_1)

{
  HWND hWnd;
  BOOL bEnable;
  
  hWnd = GetDlgItem((HWND)param_1[1],0x1ad);
  bEnable = FUN_00413398(param_1);
  EnableWindow(hWnd,bEnable);
  return;
}



/* Function: FUN_00411ef0 */

void __fastcall
FUN_00411ef0(int *param_1,undefined4 param_2,undefined4 param_3,int param_4,HDC param_5,int param_6,
            undefined4 *param_7,int param_8)

{
  short sVar1;
  HDC pHVar2;
  int iVar3;
  undefined4 uVar4;
  UINT UVar5;
  HBRUSH pHVar6;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined4 extraout_EDX_04;
  undefined4 extraout_EDX_05;
  undefined4 extraout_EDX_06;
  undefined4 extraout_EDX_07;
  undefined8 uVar7;
  int local_54;
  tagPAINTSTRUCT local_50;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&local_54;
  if (param_8 != 0) goto LAB_00411f63;
  if (param_4 == 0xf) {
    pHVar2 = BeginPaint((HWND)param_1[1],&local_50);
    FUN_004131c1(param_1,pHVar2,0x1ae,5);
    FUN_004131c1(param_1,pHVar2,0x1af,6);
    EndPaint((HWND)param_1[1],&local_50);
    *param_7 = 0;
    param_2 = extraout_EDX;
    goto LAB_00411f63;
  }
  if (param_4 != 0x111) {
    if (param_4 == 0x40c) {
      uVar4 = FUN_00412cc2(param_1,param_6,&param_5->unused);
      uVar7 = CONCAT44(extraout_EDX_03,uVar4);
    }
    else if (param_4 == 0x40b) {
      uVar4 = FUN_00412d93(param_1,param_6,&param_5->unused);
      uVar7 = CONCAT44(extraout_EDX_04,uVar4);
    }
    else if (param_4 == 0x136) {
      pHVar6 = GetSysColorBrush(5);
      uVar7 = CONCAT44(extraout_EDX_05,pHVar6);
    }
    else if (param_4 == 0x138) {
      uVar7 = FUN_00413074(param_6,param_5);
    }
    else if (param_4 == 0x4e) {
      if (*(int *)(param_6 + 4) != 0x1ac) goto LAB_00411f63;
      if (*(int *)(param_6 + 8) != -0xc) {
        if (*(int *)(param_6 + 8) == -0x65) {
          local_54 = 1;
          uVar4 = FUN_00412c5b(param_1,param_6,param_6,&local_54);
          *param_7 = uVar4;
          param_2 = extraout_EDX_06;
        }
        goto LAB_00411f63;
      }
      uVar7 = FUN_004130af(param_1,param_2,param_6,param_6);
    }
    else {
      if (param_4 != 0x110) goto LAB_00411f63;
      uVar4 = FUN_004121b8(param_1);
      uVar7 = CONCAT44(extraout_EDX_07,uVar4);
    }
    param_2 = (undefined4)((ulonglong)uVar7 >> 0x20);
    *param_7 = (int)uVar7;
    goto LAB_00411f63;
  }
  sVar1 = (short)param_5;
  if (param_5 == (HDC)0x1) {
    iVar3 = FUN_00413398(param_1);
    if (iVar3 != 0) {
      FUN_0041296c();
    }
  }
  else if ((sVar1 != 2) || (local_54 = 0, (short)((uint)param_5 >> 0x10) != 0)) {
    if (param_5 == (HDC)0x1ad) {
      local_54 = 1;
      uVar4 = FUN_00413403(param_1);
      *param_7 = uVar4;
      param_2 = extraout_EDX_01;
      if (local_54 != 0) goto LAB_00411f63;
LAB_00412013:
      if (sVar1 != 0x1aa) goto LAB_00411f63;
      UVar5 = IsDlgButtonChecked((HWND)param_1[1],0x1aa);
      param_1[0xc] = UVar5;
    }
    else {
      param_2 = 0x1a9;
      if (sVar1 != 0x1a9) goto LAB_00412013;
      UVar5 = IsDlgButtonChecked((HWND)param_1[1],0x1a9);
      param_1[9] = UVar5;
    }
    FUN_00411ebd(param_1);
    *param_7 = 1;
    param_2 = extraout_EDX_02;
    goto LAB_00411f63;
  }
  EndDialog((HWND)param_1[1],0);
  *param_7 = 0;
  param_2 = extraout_EDX_00;
LAB_00411f63:
  FUN_00420010(local_c ^ (uint)&local_54,param_2);
  return;
}



/* Function: FUN_00412130 */

undefined4 * __thiscall FUN_00412130(void *this,byte param_1)

{
  FUN_00412158((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_00412158 */

void __fastcall FUN_00412158(undefined4 *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421226;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_00401658;
  FUN_0041354c(param_1 + 0xf);
  local_8 = 0;
  if (param_1[5] != 0) {
    FUN_0041abac((int *)param_1[5]);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_004121b8 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __fastcall FUN_004121b8(int *param_1)

{
  HDC hdc;
  int iVar1;
  HICON lParam;
  undefined4 *puVar2;
  undefined4 *puVar3;
  HWND pHVar4;
  undefined4 local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xc;
  local_8 = 0x4121c4;
  **(int **)(DAT_00425a38 + 0x28) = param_1[1];
  hdc = GetDC((HWND)param_1[1]);
  iVar1 = GetDeviceCaps(hdc,0x58);
  DAT_00425568 = (float)iVar1;
  ReleaseDC((HWND)param_1[1],hdc);
  lParam = LoadIconW(DAT_00425aa8,(LPCWSTR)0x65);
  SendMessageW((HWND)param_1[1],0x80,1,(LPARAM)lParam);
  local_14[0] = 2;
  DwmSetWindowAttribute((HWND)param_1[1],2,local_14,4);
  SetForegroundWindow((HWND)param_1[1]);
  FUN_00412eff((int)param_1);
  puVar2 = (undefined4 *)FUN_0041f39d(0x48);
  puVar3 = (undefined4 *)0x0;
  local_8 = 0;
  if (puVar2 != (undefined4 *)0x0) {
    puVar3 = FUN_00413bc6(puVar2);
  }
  local_8 = 0xffffffff;
  DAT_00425aa0 = puVar3;
  if (puVar3 != (undefined4 *)0x0) {
    FUN_00413bfe();
  }
  FUN_004122b0(param_1);
  pHVar4 = GetDlgItem((HWND)param_1[1],0x1ac);
  param_1[0xe] = (int)pHVar4;
  FUN_00412451((int)param_1);
  FUN_004127ee((int)param_1);
  FUN_00412fbb(param_1);
  return 0;
}



/* Function: FUN_004122b0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_004122b0(void *param_1)

{
  HWND pHVar1;
  HWND hWndFrom;
  int iVar2;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 extraout_ECX_01;
  undefined4 extraout_ECX_02;
  undefined4 extraout_ECX_03;
  undefined4 extraout_EDX;
  int iVar3;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  pHVar1 = GetDlgItem(*(HWND *)((int)param_1 + 4),0x1ae);
  GetClientRect(pHVar1,&local_18);
  pHVar1 = *(HWND *)((int)param_1 + 4);
  hWndFrom = GetDlgItem(pHVar1,0x1ae);
  MapWindowPoints(hWndFrom,pHVar1,(LPPOINT)&local_18,2);
  iVar2 = FUN_004132bc((int)param_1);
  iVar3 = (local_18.top - local_18.bottom) + iVar2;
  pHVar1 = GetDlgItem(*(HWND *)((int)param_1 + 4),0x1ae);
  SetWindowPos(pHVar1,(HWND)0x0,local_18.left,local_18.top,local_18.right - local_18.left,
               iVar2 - (int)((DAT_00425568 * _DAT_00403684) / DAT_00403670),0x21c);
  FUN_004123bf(param_1,0x1af,extraout_ECX,iVar3,extraout_ECX,0);
  FUN_004123bf(param_1,0x1a9,extraout_ECX_00,iVar3,extraout_ECX_00,0);
  FUN_004123bf(param_1,0x1aa,extraout_ECX_01,iVar3,extraout_ECX_01,0);
  FUN_004123bf(param_1,0x1b0,extraout_ECX_02,iVar3,extraout_ECX_02,0);
  FUN_004123bf(param_1,0x1ac,extraout_ECX_03,iVar3,extraout_ECX_03,-iVar3);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_004123bf */

void __thiscall
FUN_004123bf(void *this,int param_1,undefined4 param_2,int param_3,undefined4 param_4,int param_5)

{
  HWND pHVar1;
  HWND hWndFrom;
  undefined4 extraout_EDX;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  pHVar1 = GetDlgItem(*(HWND *)((int)this + 4),param_1);
  GetClientRect(pHVar1,&local_1c);
  pHVar1 = *(HWND *)((int)this + 4);
  hWndFrom = GetDlgItem(pHVar1,param_1);
  MapWindowPoints(hWndFrom,pHVar1,(LPPOINT)&local_1c,2);
  pHVar1 = GetDlgItem(*(HWND *)((int)this + 4),param_1);
  SetWindowPos(pHVar1,(HWND)0x0,local_1c.left,param_3 + local_1c.top,local_1c.right - local_1c.left,
               (local_1c.bottom - local_1c.top) + param_5,0x21c);
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00412451 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_00412451(int param_1)

{
  HWND hwnd;
  HRESULT HVar1;
  WPARAM wParam;
  int iVar2;
  LRESULT LVar3;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 uVar4;
  tagRECT local_40;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  int local_24;
  undefined8 local_20;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  hwnd = GetDlgItem(*(HWND *)(param_1 + 4),0x1ac);
  HVar1 = SetWindowTheme(hwnd,L"Explorer",(LPCWSTR)0x0);
  uVar4 = extraout_EDX;
  if (-1 < HVar1) {
    SendMessageW(*(HWND *)(param_1 + 0x38),0x1036,0,0x10024);
    wParam = FUN_0040cde6();
    SendMessageW(*(HWND *)(param_1 + 0x38),0x102f,wParam,0);
    GetClientRect(*(HWND *)(param_1 + 0x38),&local_40);
    iVar2 = FUN_00412577(param_1);
    uVar4 = extraout_EDX_00;
    if (iVar2 != 0) {
      local_20 = 0;
      local_18.left = 0;
      local_18.top = 0;
      local_18.right = 0;
      local_18.bottom = 0;
      local_24 = local_40.right - local_40.left;
      local_30 = 0x28;
      local_2c = 7;
      local_28 = 1;
      SetRect(&local_18,(int)((DAT_00425568 * _DAT_00403668) / DAT_00403670),5,0,5);
      local_20 = CONCAT44(1,(undefined4)local_20);
      LVar3 = SendMessageW(*(HWND *)(param_1 + 0x38),0x10a2,0,(LPARAM)&local_30);
      uVar4 = extraout_EDX_01;
      if (LVar3 != -1) {
        SendMessageW(*(HWND *)(param_1 + 0x38),0x108e,4,0);
        uVar4 = extraout_EDX_02;
      }
    }
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar4);
  return;
}



/* Function: FUN_00412577 */

undefined4 __fastcall FUN_00412577(int param_1)

{
  wchar_t *pwVar1;
  short *psVar2;
  short *psVar3;
  wchar_t *pwVar4;
  undefined4 local_30;
  undefined4 local_2c;
  wchar_t *local_24;
  int local_20;
  
  memset(&local_30,0,0x2c);
  local_2c = 0;
  local_24 = L"Name";
  local_30 = 1;
  psVar2 = &DAT_00402f6c;
  do {
    psVar3 = psVar2;
    psVar2 = psVar3 + 1;
  } while (*psVar3 != 0);
  local_20 = (int)(psVar3 + -0x2017b6) >> 1;
  SendMessageW(*(HWND *)(param_1 + 0x38),0x1061,0,(LPARAM)&local_30);
  local_24 = L"Adapter";
  pwVar1 = L"Adapter";
  do {
    pwVar4 = pwVar1;
    pwVar1 = pwVar4 + 1;
  } while (*pwVar4 != L'\0');
  local_20 = (int)(pwVar4 + -0x2017bc) >> 1;
  SendMessageW(*(HWND *)(param_1 + 0x38),0x1061,1,(LPARAM)&local_30);
  return 1;
}



/* Function: FUN_0041260b */

void __thiscall FUN_0041260b(void *this,int *param_1,undefined4 param_2)

{
  short sVar1;
  code *pcVar2;
  short *psVar3;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar4;
  undefined1 local_9c [12];
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_60;
  LRESULT local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  short *local_4c;
  int local_48;
  undefined4 uStack_44;
  int *local_40;
  undefined8 local_3c;
  undefined4 local_34;
  undefined4 *local_30;
  undefined8 local_2c;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_5c = param_2;
  local_20 = 2;
  local_1c = 3;
  local_24 = 1;
  local_30 = &local_24;
  local_34 = 1;
  local_4c = (short *)param_1[6];
  local_18 = 4;
  local_14 = 5;
  local_10 = 6;
  local_c = 7;
  local_50 = 0;
  local_3c = 0;
  local_2c = 0;
  local_40 = param_1;
  local_60 = 0x20d;
  local_54 = 0;
  local_58 = 0;
  psVar3 = local_4c;
  do {
    sVar1 = *psVar3;
    psVar3 = psVar3 + 1;
  } while (sVar1 != 0);
  local_48 = (int)psVar3 - (int)(local_4c + 1) >> 1;
  uStack_44 = 0;
  local_5c = SendMessageW(*(HWND *)((int)this + 0x38),0x104d,0,(LPARAM)&local_60);
  uVar4 = extraout_EDX;
  if (local_5c != -1) {
    local_4c = (short *)param_1[8];
    param_1[0xc] = local_5c;
    local_60 = 1;
    local_58 = 1;
    psVar3 = local_4c;
    do {
      sVar1 = *psVar3;
      psVar3 = psVar3 + 1;
    } while (sVar1 != 0);
    local_48 = (int)psVar3 - (int)(local_4c + 1) >> 1;
    SendMessageW(*(HWND *)((int)this + 0x38),0x104c,0,(LPARAM)&local_60);
    local_90 = 0x1000;
    local_8c = 0xf000;
    if (param_1[2] != 0) {
      local_90 = 0x2000;
    }
    SendMessageW(*(HWND *)((int)this + 0x38),0x102b,param_1[0xc],(LPARAM)local_9c);
    FUN_00412768((int)this);
    pcVar2 = *(code **)(*param_1 + 4);
    (*(code *)PTR_guard_check_icall_00427678)(param_1);
    (*pcVar2)();
    uVar4 = extraout_EDX_00;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar4);
  return;
}



/* Function: FUN_00412768 */

void __fastcall FUN_00412768(int param_1)

{
  undefined4 extraout_EDX;
  tagRECT local_40;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  int local_24;
  undefined8 local_20;
  undefined8 local_18;
  undefined8 local_10;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_20 = 0;
  local_18 = 0;
  local_10 = 0;
  GetClientRect(*(HWND *)(param_1 + 0x38),&local_40);
  local_30 = 0x28;
  local_2c = 1;
  local_28 = 1;
  local_24 = local_40.right - local_40.left;
  local_20 = 0;
  local_18 = 0;
  local_10 = 0;
  SendMessageW(*(HWND *)(param_1 + 0x38),0x10a2,0,(LPARAM)&local_30);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_004127ee */

/* WARNING: Function: __EH_prolog3_catch replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void __fastcall FUN_004127ee(int param_1)

{
  short sVar1;
  code *pcVar2;
  TList<struct_APOHandle> *_Memory;
  LSTATUS LVar3;
  int iVar4;
  uint uVar5;
  TList<struct_APOHandle> *pTVar6;
  int *local_30;
  DWORD local_2c;
  int local_28;
  uint local_24;
  TList<struct_APOHandle> *local_20;
  TList<struct_APOHandle> *local_1c;
  DWORD local_18 [4];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x24;
  local_8 = 0x4127fa;
  local_2c = 4;
  local_28 = param_1;
  LVar3 = RegGetValueW((HKEY)0x80000001,L"Software\\Microsoft\\Multimedia\\Audio\\SndVol",
                       L"SndVolPreferencesMask",0x18,(LPDWORD)0x0,&local_24,&local_2c);
  if (LVar3 != 0) {
    local_24 = 1;
  }
  local_18[0] = 0;
  *(uint *)(param_1 + 0x24) = local_24 & 1;
  uVar5 = local_24 >> 1 & 1;
  *(uint *)(param_1 + 0x20) = local_24 & 1;
  *(uint *)(param_1 + 0x30) = uVar5;
  *(uint *)(param_1 + 0x2c) = uVar5;
  LVar3 = RegGetValueW((HKEY)0x80000001,L"Software\\Microsoft\\Multimedia\\Audio\\SndVol",
                       L"SndVolSelectedDevices",0x20,(LPDWORD)0x0,(PVOID)0x0,local_18);
  if (LVar3 == 0) {
    local_1c = (TList<struct_APOHandle> *)0x0;
    local_8 = 0;
    FUN_0040c8d3(&local_1c,local_18[0]);
    _Memory = local_1c;
    if ((local_1c != (TList<struct_APOHandle> *)0x0) &&
       (LVar3 = RegGetValueW((HKEY)0x80000001,L"Software\\Microsoft\\Multimedia\\Audio\\SndVol",
                             L"SndVolSelectedDevices",0x20,(LPDWORD)0x0,local_1c,local_18),
       pTVar6 = _Memory, LVar3 == 0)) {
      for (; local_20 = pTVar6, *(short *)pTVar6 != 0;
          pTVar6 = local_20 + ((int)pTVar6 - (int)(local_20 + 2) >> 1) * 2 + 2) {
        iVar4 = FUN_00413f76(DAT_00425aa0,pTVar6,(int *)&local_30,(int *)0x0);
        if (iVar4 == 0) {
          local_30[3] = 1;
          local_30[2] = 1;
          pcVar2 = *(code **)(*local_30 + 8);
          (*(code *)PTR_guard_check_icall_00427678)(local_30);
          (*pcVar2)();
          FUN_0041292c();
          return;
        }
        local_8 = CONCAT31(local_8._1_3_,1);
        FUN_004134de((void *)(param_1 + 0x3c),(short *)local_20);
        local_8 = 0;
        pTVar6 = local_20;
        do {
          sVar1 = *(short *)pTVar6;
          pTVar6 = pTVar6 + 2;
        } while (sVar1 != 0);
      }
    }
    free(_Memory);
  }
  return;
}



/* Function: Catch@0041290d */

undefined * Catch_0041290d(void)

{
  int unaff_EBP;
  
  if (**(int **)(unaff_EBP + -0x30) == -0x3fffff03) {
    _resetstkoflw();
  }
  return &DAT_00412924;
}



/* Function: FUN_0041292c */

/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void FUN_0041292c(void)

{
  short sVar1;
  int *piVar2;
  code *pcVar3;
  int iVar4;
  short *psVar5;
  int iVar6;
  TList<struct_APOHandle> *pTVar7;
  short *psVar8;
  int *unaff_EBX;
  int unaff_EBP;
  void *unaff_ESI;
  
  iVar4 = *(int *)(unaff_EBP + -0x24);
  while( true ) {
    psVar5 = *(short **)(unaff_EBP + -0x1c);
    *(short **)(unaff_EBP + -0x1c) = psVar5 + 1;
    psVar8 = psVar5;
    do {
      sVar1 = *psVar8;
      psVar8 = psVar8 + 1;
    } while (sVar1 != (short)unaff_EBX);
    pTVar7 = (TList<struct_APOHandle> *)
             (psVar5 + ((int)psVar8 - *(int *)(unaff_EBP + -0x1c) >> 1) + 1);
    *(TList<struct_APOHandle> **)(unaff_EBP + -0x1c) = pTVar7;
    if (*(short *)pTVar7 == (short)unaff_EBX) break;
    iVar6 = FUN_00413f76(DAT_00425aa0,pTVar7,(int *)(unaff_EBP + -0x2c),unaff_EBX);
    if (iVar6 == 0) {
      piVar2 = *(int **)(unaff_EBP + -0x2c);
      piVar2[3] = 1;
      piVar2[2] = 1;
      pcVar3 = *(code **)(*piVar2 + 8);
      (*(code *)PTR_guard_check_icall_00427678)(piVar2);
      (*pcVar3)();
      FUN_0041292c();
      return;
    }
    *(undefined1 *)(unaff_EBP + -4) = 1;
    FUN_004134de((void *)(iVar4 + 0x3c),*(short **)(unaff_EBP + -0x1c));
    *(int **)(unaff_EBP + -4) = unaff_EBX;
  }
  free(unaff_ESI);
  return;
}



/* Function: FUN_0041296c */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

uint FUN_0041296c(void)

{
  short sVar1;
  code *pcVar2;
  uint uVar3;
  int iVar4;
  HKEY pHVar5;
  short *psVar6;
  short *psVar7;
  DWORD cbData;
  uint uVar8;
  int iVar9;
  int *piVar10;
  HKEY pHVar11;
  short *psVar12;
  int *local_38;
  uint local_34;
  HKEY local_30;
  HKEY local_2c;
  undefined4 local_28;
  int *local_24;
  short *local_20;
  int *local_1c;
  int local_18;
  short *local_14;
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x34;
  uVar8 = 0;
  piVar10 = (int *)0x0;
  local_28 = 0;
  local_1c = (int *)0x0;
  local_8 = 0;
  local_2c = (HKEY)0x0;
  uVar3 = RegCreateKeyExW((HKEY)0x80000001,L"Software\\Microsoft\\Multimedia\\Audio\\SndVol",0,
                          (LPWSTR)0x0,0,0x20006,(LPSECURITY_ATTRIBUTES)0x0,&local_2c,
                          (LPDWORD)&local_38);
  local_30 = local_2c;
  if (uVar3 != 0) {
    uVar8 = uVar3;
    local_30 = (HKEY)0x0;
  }
  local_34 = uVar8;
  if (uVar8 == 0) {
    iVar9 = 0;
    uVar8 = 0;
    iVar4 = FUN_0040cde6();
    if (iVar4 != 0) {
      do {
        iVar4 = FUN_00414028(uVar8,(int *)&local_24);
        if (-1 < iVar4) {
          if (local_24[3] != 0) {
            psVar6 = (short *)local_24[9];
            local_1c = (int *)((uint)piVar10 | 4);
            psVar12 = psVar6 + 1;
            do {
              sVar1 = *psVar6;
              psVar6 = psVar6 + 1;
            } while (sVar1 != (short)local_28);
            iVar9 = iVar9 + 1 + ((int)psVar6 - (int)psVar12 >> 1);
          }
          pcVar2 = *(code **)(*local_24 + 8);
          (*(code *)PTR_guard_check_icall_00427678)(local_24);
          (*pcVar2)();
          piVar10 = local_1c;
        }
        uVar8 = uVar8 + 1;
        uVar3 = FUN_0040cde6();
      } while (uVar8 < uVar3);
    }
    iVar4 = local_18;
    uVar8 = 0;
    if (*(int *)(local_18 + 0x40) != 0) {
      do {
        local_1c = (int *)((uint)local_1c | 4);
        piVar10 = (int *)FUN_00413525((void *)(iVar4 + 0x3c),uVar8);
        iVar9 = iVar9 + *(int *)(*piVar10 + -0xc) + 1;
        uVar8 = uVar8 + 1;
      } while (uVar8 < *(uint *)(iVar4 + 0x40));
    }
    uVar3 = iVar9 + 1;
    local_20 = (short *)0x0;
    local_8 = CONCAT31(local_8._1_3_,1);
    FUN_0040c8d3(&local_20,uVar3);
    psVar12 = local_20;
    uVar8 = local_34;
    psVar6 = local_20;
    if (local_20 != (short *)0x0) {
      local_14 = local_20;
      local_24 = (int *)0x0;
      local_2c = (HKEY)0x0;
      iVar4 = FUN_0040cde6();
      psVar6 = psVar12;
      pHVar11 = local_2c;
      if (iVar4 != 0) {
        do {
          local_24 = (int *)FUN_00414028((int)pHVar11,(int *)&local_38);
          piVar10 = local_38;
          if (-1 < (int)local_24) {
            if ((local_38[3] != 0) &&
               (local_24 = (int *)FUN_00405d17(psVar12,uVar3,local_38[9]), -1 < (int)local_24)) {
              psVar6 = psVar12;
              do {
                sVar1 = *psVar6;
                psVar6 = psVar6 + 1;
              } while (sVar1 != (short)local_28);
              uVar3 = uVar3 + (-1 - ((int)psVar6 - (int)(psVar12 + 1) >> 1));
              psVar6 = psVar12;
              do {
                sVar1 = *psVar6;
                psVar6 = psVar6 + 1;
              } while (sVar1 != (short)local_28);
              local_14 = psVar12 + ((int)psVar6 - (int)(psVar12 + 1) >> 1) + 1;
            }
            pcVar2 = *(code **)(*piVar10 + 8);
            (*(code *)PTR_guard_check_icall_00427678)(piVar10);
            (*pcVar2)();
            psVar12 = local_14;
          }
          pHVar11 = (HKEY)((int)&local_2c->unused + 1);
          local_2c = pHVar11;
          pHVar5 = (HKEY)FUN_0040cde6();
          psVar6 = local_20;
        } while (pHVar11 < pHVar5);
      }
      uVar8 = 0;
      psVar12 = local_14;
      if (*(int *)(local_18 + 0x40) != 0) {
        local_2c = (HKEY)(local_18 + 0x3c);
        do {
          piVar10 = (int *)FUN_00413525(local_2c,uVar8);
          local_24 = (int *)FUN_00405d17(psVar12,uVar3,*piVar10);
          if (-1 < (int)local_24) {
            piVar10 = (int *)FUN_00413525(local_2c,uVar8);
            uVar3 = uVar3 + (-1 - *(int *)(*piVar10 + -0xc));
            piVar10 = (int *)FUN_00413525(local_2c,uVar8);
            psVar12 = psVar12 + *(int *)(*piVar10 + -0xc) + 1;
          }
          uVar8 = uVar8 + 1;
          psVar6 = local_20;
        } while (uVar8 < *(uint *)(local_18 + 0x40));
      }
      local_14 = psVar12;
      cbData = 0;
      *local_14 = 0;
      uVar8 = local_34;
      psVar12 = psVar6;
      iVar4 = local_18;
      if (-1 < (int)local_24) {
        do {
          psVar7 = psVar12;
          do {
            sVar1 = *psVar7;
            psVar7 = psVar7 + 1;
          } while (sVar1 != (short)local_28);
          iVar4 = ((int)psVar7 - (int)(psVar12 + 1) >> 1) + 1;
          cbData = cbData + iVar4 * 2;
          psVar12 = psVar12 + iVar4;
        } while (iVar4 != 1);
        uVar8 = RegSetValueExW(local_30,L"SndVolSelectedDevices",0,7,(BYTE *)psVar6,cbData);
        iVar4 = local_18;
      }
    }
    free(psVar6);
    if (uVar8 == 0) {
      piVar10 = (int *)((uint)local_1c | 1);
      if (*(int *)(iVar4 + 0x24) == 0) {
        piVar10 = local_1c;
      }
      local_38 = (int *)((uint)piVar10 | 2);
      if (*(int *)(iVar4 + 0x30) == 0) {
        local_38 = piVar10;
      }
      uVar8 = RegSetValueExW(local_30,L"SndVolPreferencesMask",0,4,(BYTE *)&local_38,4);
    }
  }
  uVar3 = uVar8 & 0xffff | 0x80070000;
  if ((int)uVar8 < 1) {
    uVar3 = uVar8;
  }
  if (local_30 != (HKEY)0x0) {
    RegCloseKey(local_30);
  }
  return uVar3;
}



/* Function: FUN_00412c5b */

undefined4 __thiscall FUN_00412c5b(void *this,undefined4 param_1,int param_2,undefined4 *param_3)

{
  int iVar1;
  uint uVar2;
  
  if (((*(byte *)(param_2 + 0x1c) & 8) != 0) &&
     (uVar2 = *(uint *)(param_2 + 0x14) & 0xf000, (*(uint *)(param_2 + 0x18) & 0xf000) != uVar2)) {
    iVar1 = FUN_00413489(this,*(int *)(param_2 + 0xc));
    if (uVar2 == 0x1000) {
      *(undefined4 *)(iVar1 + 0xc) = 0;
    }
    else if (uVar2 == 0x2000) {
      *(undefined4 *)(iVar1 + 0xc) = 1;
    }
    FUN_00411ebd((int *)this);
  }
  *param_3 = 1;
  return 0;
}



/* Function: FUN_00412cc2 */

/* WARNING: Function: __EH_prolog3_catch replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __thiscall FUN_00412cc2(void *this,undefined4 param_1,int *param_2)

{
  code *pcVar1;
  WPARAM wParam;
  LRESULT LVar2;
  undefined4 uVar3;
  int iVar4;
  int **ppiVar5;
  int *local_34 [7];
  void *local_18;
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x24;
  local_8 = 0x412cce;
  ppiVar5 = local_34;
  local_18 = this;
  for (iVar4 = 6; iVar4 != 0; iVar4 = iVar4 + -1) {
    *ppiVar5 = (int *)0x0;
    ppiVar5 = ppiVar5 + 1;
  }
  local_34[0] = (int *)0x1;
  local_34[2] = param_2;
  wParam = SendMessageW(*(HWND *)((int)this + 0x38),0x1053,0xffffffff,(LPARAM)local_34);
  if (wParam != 0xffffffff) {
    LVar2 = SendMessageW(*(HWND *)((int)this + 0x38),0x1008,wParam,0);
    if (LVar2 != 0) {
      pcVar1 = *(code **)(*param_2 + 8);
      (*(code *)PTR_guard_check_icall_00427678)(param_2);
      (*pcVar1)();
    }
  }
  FUN_00412768((int)this);
  if (param_2[3] != 0) {
    local_8 = 0;
    FUN_004134de((void *)((int)this + 0x3c),(short *)param_2[9]);
    uVar3 = FUN_00412d63();
    return uVar3;
  }
  pcVar1 = *(code **)(*param_2 + 8);
  (*(code *)PTR_guard_check_icall_00427678)(param_2);
  (*pcVar1)();
  FUN_00412fbb((int *)this);
  return 0;
}



/* Function: Catch@00412d46 */

undefined * Catch_00412d46(void)

{
  int unaff_EBP;
  
  if (**(int **)(unaff_EBP + -0x18) == -0x3fffff03) {
    _resetstkoflw();
  }
  return &DAT_00412d5d;
}



/* Function: FUN_00412d63 */

/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 FUN_00412d63(void)

{
  code *pcVar1;
  int *unaff_EBX;
  int unaff_EBP;
  int *unaff_EDI;
  
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  pcVar1 = *(code **)(*unaff_EDI + 8);
  (*(code *)PTR_guard_check_icall_00427678)();
  (*pcVar1)();
  FUN_00412fbb(unaff_EBX);
  return 0;
}



/* Function: FUN_00412d93 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __thiscall FUN_00412d93(void *this,undefined4 param_1,int *param_2)

{
  ushort uVar1;
  code *pcVar2;
  undefined4 *puVar3;
  ushort *puVar4;
  uint uVar5;
  errno_t eVar6;
  LRESULT LVar7;
  ushort *puVar8;
  rsize_t _DstSize;
  undefined4 uVar9;
  int iVar10;
  uint uVar11;
  int **ppiVar12;
  bool bVar13;
  int *local_34 [6];
  ushort *local_1c;
  int local_18;
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x24;
  local_8 = 0x412d9f;
  if (*(int *)((int)this + 0x40) != 0) {
    local_18 = 0;
    uVar11 = 1;
    do {
      local_1c = (ushort *)param_2[9];
      puVar3 = (undefined4 *)FUN_00413525((void *)((int)this + 0x3c),uVar11 - 1);
      local_8 = 0;
      if (local_1c == (ushort *)0x0) {
        uVar9 = 0x80004005;
LAB_00412eee:
        FUN_00409c00(uVar9);
        pcVar2 = (code *)swi(3);
        uVar9 = (*pcVar2)();
        return uVar9;
      }
      puVar4 = (ushort *)*puVar3;
      puVar8 = local_1c;
      do {
        uVar1 = *puVar4;
        bVar13 = uVar1 < *puVar8;
        if (uVar1 != *puVar8) {
LAB_00412e01:
          uVar5 = -(uint)bVar13 | 1;
          goto LAB_00412e08;
        }
        if (uVar1 == 0) break;
        uVar1 = puVar4[1];
        bVar13 = uVar1 < puVar8[1];
        if (uVar1 != puVar8[1]) goto LAB_00412e01;
        puVar4 = puVar4 + 2;
        puVar8 = puVar8 + 2;
      } while (uVar1 != 0);
      uVar5 = 0;
LAB_00412e08:
      local_8 = 0xffffffff;
      if (uVar5 == 0) {
        param_2[3] = 1;
        param_2[2] = 1;
        if (((uVar11 < uVar11 - 1) || (uVar11 == 0)) ||
           (uVar5 = *(uint *)((int)this + 0x40), uVar5 < uVar11)) {
          uVar9 = 0x80070057;
          goto LAB_00412eee;
        }
        FUN_0040d028((undefined4 *)(*(int *)(*(int *)((int)this + 0x3c) + local_18) + -0x10));
        iVar10 = uVar5 - uVar11;
        if (iVar10 != 0) {
          _DstSize = iVar10 * 4;
          eVar6 = memmove_s((void *)(local_18 + *(int *)((int)this + 0x3c)),_DstSize,
                            (void *)(local_18 + 4 + *(int *)((int)this + 0x3c)),_DstSize);
          FUN_0040cedd(eVar6);
        }
        *(int *)((int)this + 0x40) = *(int *)((int)this + 0x40) + -1;
      }
      local_18 = local_18 + 4;
      bVar13 = uVar11 < *(uint *)((int)this + 0x40);
      uVar11 = uVar11 + 1;
    } while (bVar13);
  }
  ppiVar12 = local_34;
  for (iVar10 = 6; iVar10 != 0; iVar10 = iVar10 + -1) {
    *ppiVar12 = (int *)0x0;
    ppiVar12 = ppiVar12 + 1;
  }
  local_34[0] = (int *)0x1;
  local_34[2] = param_2;
  LVar7 = SendMessageW(*(HWND *)((int)this + 0x38),0x1053,0xffffffff,(LPARAM)local_34);
  if (LVar7 == -1) {
    LVar7 = SendMessageW(*(HWND *)((int)this + 0x38),0x1004,0,0);
    FUN_0041260b(this,param_2,LVar7);
  }
  FUN_00412fbb((int *)this);
  return 0;
}



/* Function: FUN_00412eff */

void __fastcall FUN_00412eff(int param_1)

{
  HRESULT HVar1;
  BOOL BVar2;
  undefined4 extraout_EDX;
  SIZE local_50;
  RECT local_48;
  NOTIFYICONIDENTIFIER local_38;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_38.cbSize = 0x1c;
  local_38.hWnd = (HWND)0x0;
  local_38.uID = 0;
  local_38.guidItem.Data1 = DAT_0040269c;
  local_38.guidItem._4_4_ = DAT_004026a0;
  local_38.guidItem.Data4._0_4_ = DAT_004026a4;
  local_38.guidItem.Data4._4_4_ = DAT_004026a8;
  HVar1 = Shell_NotifyIconGetRect(&local_38,&local_48);
  if (-1 < HVar1) {
    GetWindowRect(*(HWND *)(param_1 + 4),&local_1c);
    local_50.cx = local_1c.right - local_1c.left;
    local_50.cy = local_1c.bottom - local_1c.top;
    BVar2 = CalculatePopupWindowPosition
                      ((POINT *)&DAT_00425524,&local_50,0x10054,&local_48,&local_1c);
    if (BVar2 != 0) {
      SetWindowPos(*(HWND *)(param_1 + 4),(HWND)0x0,local_1c.left,local_1c.top,0,0,1);
    }
  }
  InvalidateRect(*(HWND *)(param_1 + 4),(RECT *)0x0,1);
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00412fbb */

void __fastcall FUN_00412fbb(int *param_1)

{
  code *pcVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  undefined1 local_44 [12];
  undefined4 local_38;
  undefined4 local_34;
  int *local_8;
  
  CheckDlgButton((HWND)param_1[1],0x1a9,(uint)(param_1[9] != 0));
  CheckDlgButton((HWND)param_1[1],0x1aa,(uint)(param_1[0xc] != 0));
  uVar5 = 0;
  iVar3 = FUN_0040cde6();
  if (iVar3 != 0) {
    do {
      iVar3 = FUN_00414028(uVar5,(int *)&local_8);
      piVar2 = local_8;
      if (-1 < iVar3) {
        if (local_8[0xc] != -1) {
          local_34 = 0xf000;
          local_38 = 0x1000;
          if (local_8[3] != 0) {
            local_38 = 0x2000;
          }
          SendMessageW((HWND)param_1[0xe],0x102b,local_8[0xc],(LPARAM)local_44);
        }
        pcVar1 = *(code **)(*piVar2 + 8);
        (*(code *)PTR_guard_check_icall_00427678)(piVar2);
        (*pcVar1)();
      }
      uVar5 = uVar5 + 1;
      uVar4 = FUN_0040cde6();
    } while (uVar5 < uVar4);
  }
  FUN_00411ebd(param_1);
  return;
}



/* Function: FUN_00413074 */

void FUN_00413074(undefined4 param_1,HDC param_2)

{
  DWORD DVar1;
  
  DVar1 = GetSysColor(8);
  SetTextColor(param_2,DVar1);
  DVar1 = GetSysColor(5);
  SetBkColor(param_2,DVar1);
  GetSysColorBrush(5);
  return;
}



/* Function: FUN_004130af */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_004130af(void *param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  WPARAM wParam;
  int iVar1;
  undefined4 extraout_EDX;
  RECT local_2c;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  iVar1 = *(int *)(param_4 + 0xc);
  if ((((iVar1 != 1) && (*(int *)(param_4 + 0x3c) != 1)) && (iVar1 != 1)) &&
     ((iVar1 != 0x10001 && (iVar1 == 0x10002)))) {
    wParam = *(WPARAM *)(param_4 + 0x24);
    local_2c.left = 2;
    SendMessageW(*(HWND *)((int)param_1 + 0x38),0x100e,wParam,(LPARAM)&local_2c);
    CopyRect(&local_1c,&local_2c);
    local_1c.right = (LONG)((DAT_00425568 * _DAT_00403688) / DAT_00403670);
    local_1c.top = local_1c.top +
                   ((local_1c.bottom - (int)((DAT_00425568 * _DAT_00403664) / DAT_00403670)) -
                   local_1c.top) / 2;
    local_1c.bottom = local_1c.top - local_1c.right;
    local_1c.right = local_1c.left - local_1c.right;
    iVar1 = FUN_00413489(param_1,wParam);
    ImageList_Draw(DAT_00425adc,*(int *)(iVar1 + 0x2c),*(HDC *)(param_4 + 0x10),local_2c.left,
                   local_2c.top,1);
    param_2 = extraout_EDX;
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_004131c1 */

void __thiscall FUN_004131c1(void *this,HDC param_1,int param_2,int param_3)

{
  HWND pHVar1;
  HTHEME hTheme;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar2;
  tagRECT local_120;
  WCHAR local_110 [130];
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  pHVar1 = GetDlgItem(*(HWND *)((int)this + 4),param_2);
  GetWindowRect(pHVar1,&local_120);
  pHVar1 = GetDlgItem(*(HWND *)((int)this + 4),param_2);
  pHVar1 = GetParent(pHVar1);
  MapWindowPoints((HWND)0x0,pHVar1,(LPPOINT)&local_120,2);
  pHVar1 = GetDlgItem(*(HWND *)((int)this + 4),param_2);
  GetWindowTextW(pHVar1,local_110,0x80);
  hTheme = OpenThemeData((HWND)0x0,L"CONTROLPANEL");
  if (hTheme == (HTHEME)0x0) {
    pHVar1 = GetDlgItem(*(HWND *)((int)this + 4),param_2);
    ShowWindow(pHVar1,5);
    uVar2 = extraout_EDX_00;
  }
  else {
    DrawThemeText(hTheme,param_1,param_3,1,local_110,-1,0x8014,0,&local_120);
    CloseThemeData(hTheme);
    uVar2 = extraout_EDX;
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,uVar2);
  return;
}



/* Function: FUN_004132bc */

void __fastcall FUN_004132bc(int param_1)

{
  HDC hdc;
  HWND pHVar1;
  HTHEME hTheme;
  undefined4 extraout_EDX;
  tagRECT local_11c;
  WCHAR local_10c [130];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  hdc = CreateCompatibleDC((HDC)0x0);
  pHVar1 = GetDlgItem(*(HWND *)(param_1 + 4),0x1ae);
  GetClientRect(pHVar1,&local_11c);
  pHVar1 = GetDlgItem(*(HWND *)(param_1 + 4),0x1ae);
  GetWindowTextW(pHVar1,local_10c,0x80);
  hTheme = OpenThemeData((HWND)0x0,L"CONTROLPANEL");
  if (hTheme == (HTHEME)0x0) {
    DrawTextW(hdc,local_10c,-1,&local_11c,0x8414);
  }
  else {
    GetThemeTextExtent(hTheme,hdc,5,1,local_10c,-1,0x8014,&local_11c,&local_11c);
    CloseThemeData(hTheme);
  }
  DeleteDC(hdc);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00413398 */

undefined4 __fastcall FUN_00413398(int *param_1)

{
  code *pcVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  uint uVar5;
  int *local_8;
  
  if ((param_1[9] == param_1[8]) && (param_1[0xc] == param_1[0xb])) {
    uVar5 = 0;
    uVar4 = 0;
    local_8 = param_1;
    iVar2 = FUN_0040cde6();
    if (iVar2 != 0) {
      do {
        iVar2 = FUN_00414028(uVar5,(int *)&local_8);
        if (-1 < iVar2) {
          if (local_8[3] != local_8[2]) goto LAB_004133f3;
          pcVar1 = *(code **)(*local_8 + 8);
          (*(code *)PTR_guard_check_icall_00427678)(local_8);
          (*pcVar1)();
        }
        uVar5 = uVar5 + 1;
        uVar3 = FUN_0040cde6();
      } while (uVar5 < uVar3);
    }
  }
  else {
LAB_004133f3:
    uVar4 = 1;
  }
  return uVar4;
}



/* Function: FUN_00413403 */

undefined4 __thiscall FUN_00413403(void *this)

{
  code *pcVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  undefined4 *in_stack_00000010;
  int *local_8;
  
  local_8 = (int *)this;
  iVar2 = FUN_00413398((int *)this);
  if ((iVar2 != 0) && (uVar3 = FUN_0041296c(), -1 < (int)uVar3)) {
    *(undefined4 *)((int)this + 0x20) = *(undefined4 *)((int)this + 0x24);
    *(undefined4 *)((int)this + 0x2c) = *(undefined4 *)((int)this + 0x30);
    uVar3 = 0;
    iVar2 = FUN_0040cde6();
    if (iVar2 != 0) {
      do {
        iVar2 = FUN_00414028(uVar3,(int *)&local_8);
        if (-1 < iVar2) {
          local_8[2] = local_8[3];
        }
        pcVar1 = *(code **)(*local_8 + 8);
        (*(code *)PTR_guard_check_icall_00427678)(local_8);
        (*pcVar1)();
        uVar3 = uVar3 + 1;
        uVar4 = FUN_0040cde6();
      } while (uVar3 < uVar4);
    }
  }
  FUN_00411ebd((int *)this);
  *in_stack_00000010 = 1;
  return 0;
}



/* Function: FUN_00413489 */

undefined4 __thiscall FUN_00413489(void *this,int param_1)

{
  undefined4 uVar1;
  undefined4 local_40;
  int local_3c;
  undefined4 local_20;
  
  uVar1 = 0;
  if (param_1 != -1) {
    memset(&local_40,0,0x3c);
    local_3c = param_1;
    local_40 = 4;
    SendMessageW(*(HWND *)((int)this + 0x38),0x104b,0,(LPARAM)&local_40);
    uVar1 = local_20;
  }
  return uVar1;
}



/* Function: FUN_004134de */

uint __thiscall FUN_004134de(void *this,short *param_1)

{
  code *pcVar1;
  undefined4 uVar2;
  uint uVar3;
  
  uVar3 = *(uint *)((int)this + 4);
  if (*(uint *)((int)this + 8) <= uVar3) {
    uVar2 = FUN_00413593(this,uVar3 + 1);
    if ((char)uVar2 == '\0') {
      FUN_00409c00(0x8007000e);
      pcVar1 = (code *)swi(3);
      uVar3 = (*pcVar1)();
      return uVar3;
    }
  }
                    /* WARNING: Load size is inaccurate */
  FUN_0040d303((void *)(*this + uVar3 * 4),param_1);
  *(int *)((int)this + 4) = *(int *)((int)this + 4) + 1;
  return uVar3;
}



/* Function: FUN_00413525 */

int __thiscall FUN_00413525(void *this,uint param_1)

{
  code *pcVar1;
  int iVar2;
  
  if (param_1 < *(uint *)((int)this + 4)) {
                    /* WARNING: Load size is inaccurate */
    return *this + param_1 * 4;
  }
  FUN_00409c00(0x80070057);
  pcVar1 = (code *)swi(3);
  iVar2 = (*pcVar1)();
  return iVar2;
}



/* Function: FUN_0041354c */

void __fastcall FUN_0041354c(int *param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  
  iVar1 = *param_1;
  if (iVar1 != 0) {
    uVar2 = param_1[1];
    uVar3 = 0;
    if (uVar2 != 0) {
      do {
        FUN_0040d028((undefined4 *)(*(int *)(iVar1 + uVar3 * 4) + -0x10));
        uVar3 = uVar3 + 1;
      } while (uVar3 < uVar2);
    }
    free((void *)*param_1);
  }
  return;
}



/* Function: FUN_00413593 */

undefined4 __thiscall FUN_00413593(void *this,uint param_1)

{
  uint uVar1;
  void *in_EAX;
  rsize_t _DstSize;
  errno_t eVar2;
  void *extraout_EAX;
  uint uVar3;
  
  uVar1 = *(uint *)((int)this + 8);
  if (uVar1 < param_1) {
                    /* WARNING: Load size is inaccurate */
    uVar3 = *(uint *)((int)this + 0xc);
    if (*this == 0) {
      if (param_1 < uVar3) {
        param_1 = uVar3;
      }
      in_EAX = calloc(param_1,4);
      *(void **)this = in_EAX;
      if (in_EAX == (void *)0x0) {
LAB_004135f1:
        return (uint)in_EAX & 0xffffff00;
      }
    }
    else {
      if (uVar3 == 0) {
        uVar3 = uVar1 >> 1;
        if (uVar1 >> 1 < param_1 - uVar1) {
          uVar3 = param_1 - uVar1;
        }
      }
      if (param_1 < uVar1 + uVar3) {
        param_1 = uVar1 + uVar3;
      }
      in_EAX = calloc(param_1,4);
      if (in_EAX == (void *)0x0) goto LAB_004135f1;
      _DstSize = *(int *)((int)this + 4) << 2;
                    /* WARNING: Load size is inaccurate */
      eVar2 = memmove_s(in_EAX,_DstSize,*this,_DstSize);
      FUN_0040cedd(eVar2);
                    /* WARNING: Load size is inaccurate */
      free(*this);
      *(void **)this = in_EAX;
      in_EAX = extraout_EAX;
    }
    *(uint *)((int)this + 8) = param_1;
  }
  return CONCAT31((int3)((uint)in_EAX >> 8),1);
}



/* Function: FUN_0041362d */

void __fastcall FUN_0041362d(int *param_1)

{
  if (*param_1 != 0) {
    RegCloseKey((HKEY)*param_1);
    *param_1 = 0;
  }
  return;
}



/* Function: FUN_0041364a */

void __fastcall FUN_0041364a(int *param_1,int *param_2)

{
  code *pcVar1;
  int iVar2;
  undefined4 extraout_EDX;
  uint *puVar3;
  uint *puVar4;
  uint local_38 [11];
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  puVar3 = (uint *)&stack0x00000004;
  puVar4 = local_38 + 4;
  for (iVar2 = 5; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  local_38[0] = 0;
  local_38[1] = 0;
  local_38[2] = 0;
  local_38[3] = 0;
  pcVar1 = *(code **)(*param_1 + 0x14);
  (*(code *)PTR_guard_check_icall_00427678)(param_1,local_38 + 4,local_38);
  iVar2 = (*pcVar1)();
  if ((-1 < iVar2) && ((short)local_38[0] == 0x1f)) {
    if (*param_2 != 0) {
      CoTaskMemFree((LPVOID)*param_2);
    }
    *param_2 = local_38[2];
    local_38[0] = local_38[0] & 0xffff0000;
  }
  PropVariantClear((PROPVARIANT *)local_38);
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_004136de */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 * __thiscall FUN_004136de(void *this,int *param_1)

{
  code *pcVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 uStack_28;
  int *piStack_24;
  undefined1 auStack_20 [24];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0;
  puVar3 = (undefined4 *)auStack_20;
  *(undefined ***)this = &PTR_FUN_00401688;
  local_8 = 0;
  *(int **)((int)this + 4) = param_1;
  if (param_1 != (int *)0x0) {
    piStack_24 = param_1;
    pcVar1 = *(code **)(*param_1 + 4);
    puVar2 = &uStack_28;
    uStack_28 = 0x41370f;
    (*(code *)PTR_guard_check_icall_00427678)();
    puVar3 = puVar2 + -1;
    puVar2[-1] = 0x413711;
    (*pcVar1)();
  }
  *(undefined4 *)((int)this + 0x2c) = 0xffffffff;
  *(undefined4 *)((int)this + 0x30) = 0xffffffff;
  *(undefined4 *)((int)this + 0x10) = 0;
  *(undefined4 *)((int)this + 0xc) = 0;
  *(undefined4 *)((int)this + 8) = 0;
  *(undefined4 *)((int)this + 0x18) = 0;
  *(undefined4 *)((int)this + 0x1c) = 0;
  *(undefined4 *)((int)this + 0x20) = 0;
  *(undefined4 *)((int)this + 0x24) = 0;
  *(undefined4 *)((int)this + 0x28) = 0;
  *(undefined4 *)((int)this + 0x44) = 1;
  LOCK();
  _DAT_00425ae0 = _DAT_00425ae0 + 1;
  UNLOCK();
  *(undefined4 *)((int)this + 0x38) = 0;
  *(undefined4 *)((int)this + 0x3c) = 0;
  *(undefined4 *)((int)this + 0x40) = 0;
  *(undefined4 *)((int)puVar3 + -4) = 0x41374e;
  return (undefined4 *)this;
}



/* Function: FUN_0041375c */

void __fastcall FUN_0041375c(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00401688;
  if (param_1[10] != 0) {
    DestroyIcon((HICON)param_1[10]);
    param_1[10] = 0;
  }
  if (param_1[6] != 0) {
    CoTaskMemFree((LPVOID)param_1[6]);
    param_1[6] = 0;
  }
  if (param_1[7] != 0) {
    CoTaskMemFree((LPVOID)param_1[7]);
    param_1[7] = 0;
  }
  if (param_1[8] != 0) {
    CoTaskMemFree((LPVOID)param_1[8]);
    param_1[8] = 0;
  }
  if (param_1[9] != 0) {
    CoTaskMemFree((LPVOID)param_1[9]);
    param_1[9] = 0;
  }
  ~CComPtr<>(param_1 + 1);
  return;
}



/* Function: FUN_004137d0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_004137d0(int param_1)

{
  int *piVar1;
  int iVar2;
  
  LOCK();
  _DAT_00425ae0 = _DAT_00425ae0 + 1;
  UNLOCK();
  LOCK();
  piVar1 = (int *)(param_1 + 0x44);
  iVar2 = *piVar1;
  *piVar1 = *piVar1 + 1;
  UNLOCK();
  return iVar2 + 1;
}



/* Function: FUN_00413800 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_00413800(undefined4 *param_1)

{
  int *piVar1;
  int iVar2;
  
  LOCK();
  piVar1 = param_1 + 0x11;
  iVar2 = *piVar1;
  *piVar1 = *piVar1 + -1;
  UNLOCK();
  LOCK();
  _DAT_00425ae0 = _DAT_00425ae0 + -1;
  UNLOCK();
  if ((iVar2 + -1 == 0) && (param_1 != (undefined4 *)0x0)) {
    FUN_0041375c(param_1);
    operator_delete(param_1);
  }
  return iVar2 + -1;
}



/* Function: FUN_0041383f */

void FUN_0041383f(void)

{
  int *piVar1;
  code *pcVar2;
  void *this;
  int iVar3;
  DWORD DVar4;
  wchar_t *pwVar5;
  int extraout_ECX;
  int iVar6;
  int unaff_EBP;
  undefined4 *puVar7;
  int **ppiVar8;
  undefined4 unaff_retaddr;
  int *apiStack_24 [4];
  
  __EH_prolog3_align(0x10,8,unaff_retaddr);
  *(int *)(unaff_EBP + -0x1c) = extraout_ECX;
  *(undefined4 *)(unaff_EBP + -0x14) = 0;
  *(undefined4 *)(unaff_EBP + -4) = 0;
  piVar1 = *(int **)(extraout_ECX + 4);
  *(undefined4 *)(unaff_EBP + -0x18) = 0;
  pcVar2 = *(code **)(*piVar1 + 0x14);
  (*(code *)PTR_guard_check_icall_00427678)();
  iVar3 = (*pcVar2)();
  if (-1 < iVar3) {
    apiStack_24[2] = *(int **)(extraout_ECX + 4);
    pcVar2 = *(code **)(*apiStack_24[2] + 0x10);
    apiStack_24[3] = (int *)0x0;
    apiStack_24[1] = (int *)0x413895;
    (*(code *)PTR_guard_check_icall_00427678)();
    apiStack_24[1] = (int *)0x413897;
    iVar3 = (*pcVar2)();
    if (-1 < iVar3) {
      apiStack_24[3] = *(int **)(extraout_ECX + 4);
      pcVar2 = *(code **)(*apiStack_24[3] + 0x18);
      apiStack_24[2] = (int *)0x4138b6;
      (*(code *)PTR_guard_check_icall_00427678)();
      apiStack_24[2] = (int *)0x4138b8;
      iVar3 = (*pcVar2)();
      if (-1 < iVar3) {
        puVar7 = &DAT_004025cc;
        ppiVar8 = apiStack_24;
        for (iVar3 = 5; iVar3 != 0; iVar3 = iVar3 + -1) {
          *ppiVar8 = (int *)*puVar7;
          puVar7 = puVar7 + 1;
          ppiVar8 = ppiVar8 + 1;
        }
        iVar3 = FUN_0041364a(*(int **)(unaff_EBP + -0x14),(int *)(extraout_ECX + 0x18));
        if (-1 < iVar3) {
          iVar3 = *(int *)(unaff_EBP + -0x1c);
          puVar7 = &DAT_004025e0;
          ppiVar8 = apiStack_24;
          for (iVar6 = 5; iVar6 != 0; iVar6 = iVar6 + -1) {
            *ppiVar8 = (int *)*puVar7;
            puVar7 = puVar7 + 1;
            ppiVar8 = ppiVar8 + 1;
          }
          iVar3 = FUN_0041364a(*(int **)(unaff_EBP + -0x14),(int *)(iVar3 + 0x1c));
          if (-1 < iVar3) {
            iVar3 = *(int *)(unaff_EBP + -0x1c);
            puVar7 = &DAT_00402608;
            ppiVar8 = apiStack_24;
            for (iVar6 = 5; iVar6 != 0; iVar6 = iVar6 + -1) {
              *ppiVar8 = (int *)*puVar7;
              puVar7 = puVar7 + 1;
              ppiVar8 = ppiVar8 + 1;
            }
            iVar3 = FUN_0041364a(*(int **)(unaff_EBP + -0x14),(int *)(iVar3 + 0x20));
            if (-1 < iVar3) {
              puVar7 = &DAT_004025f4;
              ppiVar8 = apiStack_24;
              for (iVar3 = 5; iVar3 != 0; iVar3 = iVar3 + -1) {
                *ppiVar8 = (int *)*puVar7;
                puVar7 = puVar7 + 1;
                ppiVar8 = ppiVar8 + 1;
              }
              iVar3 = FUN_0041364a(*(int **)(unaff_EBP + -0x14),(int *)(unaff_EBP + -0x18));
              if (-1 < iVar3) {
                this = *(void **)(unaff_EBP + -0x1c);
                apiStack_24[3] = (int *)0x413959;
                DVar4 = FUN_00413992(this,*(int *)(unaff_EBP + -0x18));
                if ((int)DVar4 < 0) {
                  pwVar5 = FUN_0041f2b5(*(int **)(unaff_EBP + -0x14));
                  apiStack_24[3] = (int *)0x41396d;
                  FUN_00413992(this,(int)pwVar5);
                }
              }
              if (*(int *)(unaff_EBP + -0x18) != 0) {
                apiStack_24[3] = (int *)0x41397c;
                CoTaskMemFree(*(LPVOID *)(unaff_EBP + -0x18));
              }
            }
          }
        }
      }
    }
  }
  ~CComPtr<>((int *)(unaff_EBP + -0x14));
  __EH_epilog3_align();
  return;
}



/* Function: FUN_00413992 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

DWORD __thiscall FUN_00413992(void *this,int param_1)

{
  DWORD DVar1;
  int iVar2;
  DWORD DVar3;
  float fVar4;
  void *local_c;
  HICON local_8;
  
  local_8 = (HICON)0x0;
  fVar4 = (DAT_00425568 * _DAT_00403664) / DAT_00403670;
  local_c = this;
  DVar1 = FUN_0041452b((short *)&DAT_00425b38,0x21c,param_1);
  if (-1 < (int)DVar1) {
    local_c = (void *)PathParseIconLocationW((LPWSTR)&DAT_00425b38);
    DVar1 = FUN_0041f0ec((LPCWSTR)&DAT_00425b38,(uint *)&local_c,&local_8,(int)fVar4);
    if (-1 < (int)DVar1) {
      *(HICON *)((int)this + 0x28) = local_8;
      iVar2 = ImageList_ReplaceIcon(DAT_00425adc,*(int *)((int)this + 0x2c),local_8);
      *(int *)((int)this + 0x2c) = iVar2;
      if (iVar2 == -1) {
        DVar3 = GetLastError();
        DVar1 = DVar3 & 0xffff | 0x80070000;
        if ((int)DVar3 < 1) {
          DVar1 = DVar3;
        }
      }
    }
  }
  return DVar1;
}



/* Function: FUN_00413a3b */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */

void __fastcall FUN_00413a3b(void *param_1)

{
  code *pcVar1;
  void *wParam;
  DWORD DVar2;
  int iVar3;
  undefined4 extraout_ECX;
  int *piVar4;
  undefined4 extraout_EDX;
  undefined4 *puVar5;
  int *piVar6;
  undefined4 *puVar7;
  undefined4 uStackY_64;
  LPVOID local_34;
  void *local_30;
  int *local_2c;
  int local_28 [4];
  int local_18;
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x24;
  local_2c = (int *)0x0;
  piVar4 = (int *)&stack0x00000004;
  piVar6 = local_28;
  for (iVar3 = 5; iVar3 != 0; iVar3 = iVar3 + -1) {
    *piVar6 = *piVar4;
    piVar4 = piVar4 + 1;
    piVar6 = piVar6 + 1;
  }
  local_8 = 0;
  local_34 = (LPVOID)0x0;
  pcVar1 = *(code **)(**(int **)((int)param_1 + 4) + 0x10);
  local_30 = param_1;
  (*(code *)PTR_guard_check_icall_00427678)();
  iVar3 = (*pcVar1)();
  if (-1 < iVar3) {
    iVar3 = 0;
    do {
      if (local_28[iVar3] != (&DAT_004025cc)[iVar3]) goto LAB_00413b3a;
      iVar3 = iVar3 + 1;
    } while (iVar3 != 4);
    if (local_18 == DAT_004025dc) {
      piVar4 = (int *)((int)local_30 + 0x18);
      puVar5 = &DAT_004025cc;
      puVar7 = &uStackY_64;
      for (iVar3 = 5; iVar3 != 0; iVar3 = iVar3 + -1) {
        *puVar7 = *puVar5;
        puVar5 = puVar5 + 1;
        puVar7 = puVar7 + 1;
      }
      iVar3 = FUN_0041364a(local_2c,piVar4);
      if (-1 < iVar3) {
        piVar4 = (int *)((int)local_30 + 0x1c);
        puVar5 = &DAT_004025e0;
        puVar7 = &uStackY_64;
        for (iVar3 = 5; iVar3 != 0; iVar3 = iVar3 + -1) {
          *puVar7 = *puVar5;
          puVar5 = puVar5 + 1;
          puVar7 = puVar7 + 1;
        }
        iVar3 = FUN_0041364a(local_2c,piVar4);
        if (-1 < iVar3) {
          piVar4 = (int *)((int)local_30 + 0x20);
          puVar5 = &DAT_00402608;
          puVar7 = &uStackY_64;
          for (iVar3 = 5; iVar3 != 0; iVar3 = iVar3 + -1) {
            *puVar7 = *puVar5;
            puVar5 = puVar5 + 1;
            puVar7 = puVar7 + 1;
          }
          iVar3 = FUN_0041364a(local_2c,piVar4);
          if (-1 < iVar3) {
            uStackY_64 = 0x413b38;
            PostMessageW(DAT_00425a3c,0x40e,(WPARAM)local_30,0);
          }
        }
      }
    }
    else {
LAB_00413b3a:
      iVar3 = 0;
      do {
        if (local_28[iVar3] != (&DAT_004025f4)[iVar3]) goto LAB_00413bae;
        iVar3 = iVar3 + 1;
      } while (iVar3 != 4);
      if (local_18 == DAT_00402604) {
        puVar5 = &DAT_004025f4;
        puVar7 = &uStackY_64;
        for (iVar3 = 5; iVar3 != 0; iVar3 = iVar3 + -1) {
          *puVar7 = *puVar5;
          puVar5 = puVar5 + 1;
          puVar7 = puVar7 + 1;
        }
        iVar3 = FUN_0041364a(local_2c,(int *)&local_34);
        wParam = local_30;
        if (-1 < iVar3) {
          DVar2 = FUN_00413992(local_30,(int)local_34);
          if (-1 < (int)DVar2) {
            uStackY_64 = 0x413b9f;
            PostMessageW(DAT_00425a3c,0x40d,(WPARAM)wParam,0);
          }
        }
        if (local_34 != (LPVOID)0x0) {
          CoTaskMemFree(local_34);
        }
      }
    }
  }
LAB_00413bae:
  ~CComPtr<>((int *)&local_2c);
  FUN_004204c2(extraout_ECX,extraout_EDX);
  return;
}



/* Function: FUN_00413bc6 */

undefined4 * __fastcall FUN_00413bc6(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00401668;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  FUN_0040d3bf((LPCRITICAL_SECTION)(param_1 + 5));
  param_1[0xb] = 0;
  return param_1;
}



/* Function: FUN_00413bfe */

void FUN_00413bfe(void)

{
  LPVOID *ppv;
  int *piVar1;
  code *pcVar2;
  void *pvVar3;
  HRESULT HVar4;
  int iVar5;
  
  pvVar3 = DAT_00425aa0;
  ppv = (LPVOID *)((int)DAT_00425aa0 + 0x2c);
  HVar4 = CoCreateInstance((IID *)&DAT_00402fc4,(LPUNKNOWN)0x0,0x17,(IID *)&DAT_00402fa4,ppv);
  if (-1 < HVar4) {
    iVar5 = FUN_004144ac();
    if (-1 < iVar5) {
      piVar1 = (int *)*ppv;
      pcVar2 = *(code **)(*piVar1 + 0x18);
      (*(code *)PTR_guard_check_icall_00427678)(piVar1,pvVar3);
      iVar5 = (*pcVar2)();
      if (-1 < iVar5) {
        FUN_00413c5a(pvVar3);
      }
    }
  }
  return;
}



/* Function: FUN_00413c5a */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

int __fastcall FUN_00413c5a(void *param_1)

{
  code *pcVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  uint local_24;
  int *local_20;
  int *local_1c;
  int *local_18;
  TList<struct_APOHandle> *local_14 [3];
  undefined1 local_8;
  undefined3 uStack_7;
  undefined4 uStack_4;
  
  uStack_4 = 0x1c;
  local_1c = (int *)0x0;
  local_20 = (int *)0x0;
  local_8 = 1;
  uStack_7 = 0;
  local_14[0] = (TList<struct_APOHandle> *)0x0;
  EnterCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x14));
  pcVar1 = *(code **)(**(int **)((int)param_1 + 0x2c) + 0xc);
  (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)param_1 + 0x2c),0,1,&local_1c);
  iVar2 = (*pcVar1)();
  if (-1 < iVar2) {
    pcVar1 = *(code **)(*local_1c + 0xc);
    (*(code *)PTR_guard_check_icall_00427678)(local_1c,&local_24);
    iVar2 = (*pcVar1)();
    if (-1 < iVar2) {
      uVar4 = 0;
      if (local_24 != 0) {
        do {
          local_18 = (int *)0x0;
          local_8 = 2;
          pcVar1 = *(code **)(*local_1c + 0x10);
          (*(code *)PTR_guard_check_icall_00427678)(local_1c,uVar4,&local_18);
          iVar2 = (*pcVar1)();
          if (iVar2 < 0) {
            ~CComPtr<>((int *)&local_18);
            goto LAB_00413dab;
          }
          FUN_00413def(param_1,local_18,(undefined4 *)0x0);
          local_8 = 1;
          ~CComPtr<>((int *)&local_18);
          uVar4 = uVar4 + 1;
        } while (uVar4 < local_24);
      }
      iVar3 = 0;
      iVar5 = 0x38;
      do {
        pcVar1 = *(code **)(**(int **)((int)param_1 + 0x2c) + 0x10);
        (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)param_1 + 0x2c),0,iVar3,&local_20);
        iVar2 = (*pcVar1)();
        if (iVar2 < 0) break;
        pcVar1 = *(code **)(*local_20 + 0x14);
        (*(code *)PTR_guard_check_icall_00427678)(local_20,local_14);
        iVar2 = (*pcVar1)();
        if (iVar2 < 0) break;
        iVar2 = FUN_00413f76(param_1,local_14[0],(int *)&local_18,(int *)0x0);
        if (local_14[0] != (TList<struct_APOHandle> *)0x0) {
          CoTaskMemFree(local_14[0]);
        }
        local_14[0] = (TList<struct_APOHandle> *)0x0;
        if (iVar2 < 0) break;
        if (local_18 != (int *)0x0) {
          *(undefined4 *)(iVar5 + (int)local_18) = 1;
        }
        iVar5 = iVar5 + 4;
        iVar3 = iVar3 + 1;
      } while (iVar5 < 0x44);
    }
  }
LAB_00413dab:
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x14));
  if (local_14[0] != (TList<struct_APOHandle> *)0x0) {
    CoTaskMemFree(local_14[0]);
    local_14[0] = (TList<struct_APOHandle> *)0x0;
  }
  ~CComPtr<>((int *)&local_20);
  ~CComPtr<>((int *)&local_1c);
  return iVar2;
}



/* Function: FUN_00413def */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

int __thiscall FUN_00413def(void *this,int *param_1,undefined4 *param_2)

{
  code *pcVar1;
  int *wParam;
  int iVar2;
  undefined4 *puVar3;
  LPCRITICAL_SECTION local_1c;
  char local_18;
  void *local_14;
  int local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xc;
  local_8 = 0x413dfb;
  if (param_2 != (undefined4 *)0x0) {
    *param_2 = 0;
  }
  local_1c = (LPCRITICAL_SECTION)((int)this + 0x14);
  local_18 = '\0';
  FUN_0040cd6b(&local_1c);
  local_8 = 0;
  local_14 = (void *)FUN_0041f39d(0x48);
  if (local_14 != (void *)0x0) {
    wParam = FUN_004136de(local_14,param_1);
    if (wParam != (int *)0x0) {
      iVar2 = FUN_0041383f();
      if (-1 < iVar2) {
        local_8._0_1_ = 1;
        puVar3 = (undefined4 *)FUN_0041f39d(0xc);
        if (puVar3 == (undefined4 *)0x0) {
          puVar3 = (undefined4 *)0x0;
        }
        else {
          *puVar3 = 0;
          puVar3[1] = 0;
          puVar3[2] = wParam;
          puVar3[1] = *(undefined4 *)((int)this + 8);
          if (*(undefined4 **)((int)this + 8) == (undefined4 *)0x0) {
            *(undefined4 **)((int)this + 4) = puVar3;
          }
          else {
            **(undefined4 **)((int)this + 8) = puVar3;
          }
          *(int *)((int)this + 0xc) = *(int *)((int)this + 0xc) + 1;
          *(undefined4 **)((int)this + 8) = puVar3;
        }
        local_8 = (uint)local_8._1_3_ << 8;
        if (puVar3 == (undefined4 *)0x0) {
          iVar2 = -0x7ff8fff2;
        }
        else {
          *(int *)((int)this + 0x10) = *(int *)((int)this + 0x10) + 1;
          pcVar1 = *(code **)(*wParam + 4);
          (*(code *)PTR_guard_check_icall_00427678)(wParam);
          (*pcVar1)();
          if (param_2 != (undefined4 *)0x0) {
            pcVar1 = *(code **)(*wParam + 4);
            (*(code *)PTR_guard_check_icall_00427678)(wParam);
            (*pcVar1)();
            *param_2 = wParam;
          }
          PostMessageW(DAT_00425a3c,0x40b,(WPARAM)wParam,0);
        }
      }
      pcVar1 = *(code **)(*wParam + 8);
      (*(code *)PTR_guard_check_icall_00427678)(wParam);
      (*pcVar1)();
      goto LAB_00413ef6;
    }
  }
  iVar2 = -0x7ff8fff2;
LAB_00413ef6:
  if (local_18 != '\0') {
    LeaveCriticalSection(local_1c);
  }
  return iVar2;
}



/* Function: FUN_00413f15 */

undefined4 __thiscall FUN_00413f15(void *this,int *param_1,WPARAM param_2)

{
  *(int *)((int)this + 0x10) = *(int *)((int)this + 0x10) + -1;
  PostMessageW(DAT_00425a3c,0x40c,param_2,0);
  if (param_1 == *(int **)((int)this + 4)) {
    *(int *)((int)this + 4) = *param_1;
  }
  else {
    *(int *)param_1[1] = *param_1;
  }
  if (param_1 == *(int **)((int)this + 8)) {
    *(int *)((int)this + 8) = param_1[1];
  }
  else {
    *(int *)(*param_1 + 4) = param_1[1];
  }
  operator_delete(param_1);
  *(int *)((int)this + 0xc) = *(int *)((int)this + 0xc) + -1;
  return 0;
}



/* Function: FUN_00413f76 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __thiscall
FUN_00413f76(void *this,TList<struct_APOHandle> *param_1,int *param_2,int *param_3)

{
  code *pcVar1;
  void *pvVar2;
  int iVar3;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *this_00;
  undefined4 uVar4;
  LPCRITICAL_SECTION local_20;
  char local_1c;
  void *local_18;
  APOHandle *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x10;
  local_8 = 0x413f82;
  *param_2 = 0;
  if (param_3 != (int *)0x0) {
    *param_3 = 0;
  }
  local_20 = (LPCRITICAL_SECTION)((int)this + 0x14);
  local_1c = '\0';
  FUN_0040cd6b(&local_20);
  local_8 = 0;
  local_18 = *(void **)((int)this + 4);
  this_00 = extraout_ECX;
  do {
    pvVar2 = local_18;
    if (local_18 == (void *)0x0) goto LAB_00413ff5;
    local_14[0] = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this_00,&local_18,local_14);
    this_00 = param_1;
    iVar3 = _wcsicmp(*(wchar_t **)(local_14[0] + 0x24),(wchar_t *)param_1);
  } while (iVar3 != 0);
  *param_2 = (int)local_14[0];
  pcVar1 = *(code **)(*(int *)local_14[0] + 4);
  (*(code *)PTR_guard_check_icall_00427678)(local_14[0]);
  (*pcVar1)();
LAB_00413ff5:
  if (param_3 != (int *)0x0) {
    *param_3 = (int)pvVar2;
  }
  uVar4 = 0x80070490;
  if (*param_2 != 0) {
    uVar4 = 0;
  }
  if (local_1c != '\0') {
    LeaveCriticalSection(local_20);
  }
  return uVar4;
}



/* Function: FUN_00414028 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 FUN_00414028(int param_1,int *param_2)

{
  code *pcVar1;
  TList<struct_APOHandle> *this;
  int iVar2;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  undefined4 uVar3;
  int iVar4;
  LPCRITICAL_SECTION local_20;
  char local_1c;
  APOHandle *local_18;
  void *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  iVar2 = DAT_00425aa0;
  uStack_4 = 0x10;
  local_8 = 0x414034;
  iVar4 = 0;
  local_1c = '\0';
  local_20 = (LPCRITICAL_SECTION)(DAT_00425aa0 + 0x14);
  *param_2 = 0;
  FUN_0040cd6b(&local_20);
  local_8 = 0;
  local_14[0] = *(void **)(iVar2 + 4);
  this = extraout_ECX;
  do {
    if (local_14[0] == (void *)0x0) {
LAB_00414094:
      uVar3 = 0x80070490;
      if (*param_2 != 0) {
        uVar3 = 0;
      }
      if (local_1c != '\0') {
        LeaveCriticalSection(local_20);
      }
      return uVar3;
    }
    local_18 = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this,local_14,&local_18);
    if (param_1 == iVar4) {
      *param_2 = (int)local_18;
      pcVar1 = *(code **)(*(int *)local_18 + 4);
      (*(code *)PTR_guard_check_icall_00427678)(local_18);
      (*pcVar1)();
      goto LAB_00414094;
    }
    iVar4 = iVar4 + 1;
    this = extraout_ECX_00;
  } while( true );
}



/* Function: FUN_004140be */

APOHandle * FUN_004140be(int param_1)

{
  LPCRITICAL_SECTION lpCriticalSection;
  TList<struct_APOHandle> *this;
  int iVar1;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  APOHandle *pAVar2;
  void *local_c;
  APOHandle *local_8;
  
  iVar1 = DAT_00425aa0;
  local_8 = (APOHandle *)0x0;
  lpCriticalSection = (LPCRITICAL_SECTION)(DAT_00425aa0 + 0x14);
  EnterCriticalSection(lpCriticalSection);
  local_c = *(void **)(iVar1 + 4);
  this = extraout_ECX;
  do {
    pAVar2 = (APOHandle *)0x0;
    if ((local_c == (void *)0x0) ||
       (iVar1 = TList<struct_APOHandle>::GetNext(this,&local_c,&local_8), iVar1 == 0)) break;
    pAVar2 = local_8;
    this = extraout_ECX_00;
  } while (*(int *)(local_8 + param_1 * 4 + 0x38) == 0);
  LeaveCriticalSection(lpCriticalSection);
  return pAVar2;
}



/* Function: FUN_00414123 */

TList<struct_APOHandle> * FUN_00414123(void)

{
  TList<struct_APOHandle> *pTVar1;
  TList<struct_APOHandle> *this;
  TList<struct_APOHandle> *pTVar2;
  int iVar3;
  TList<struct_APOHandle> *extraout_ECX;
  LPCRITICAL_SECTION local_14;
  char local_10;
  APOHandle *local_c;
  void *local_8;
  
  iVar3 = DAT_00425aa0;
  local_10 = '\0';
  local_14 = (LPCRITICAL_SECTION)(DAT_00425aa0 + 0x14);
  FUN_0040cd6b(&local_14);
  local_8 = *(void **)(iVar3 + 4);
  pTVar2 = (TList<struct_APOHandle> *)0x0;
  this = extraout_ECX;
  while ((pTVar1 = pTVar2, local_8 != (void *)0x0 &&
         (iVar3 = TList<struct_APOHandle>::GetNext(this,&local_8,&local_c), iVar3 != 0))) {
    pTVar2 = pTVar1 + 1;
    this = pTVar1 + 1;
    if (*(int *)(local_c + 0x14) != 1) {
      pTVar2 = pTVar1;
      this = pTVar1;
    }
  }
  if (local_10 != '\0') {
    LeaveCriticalSection(local_14);
  }
  return pTVar1;
}



/* Function: FUN_004141a0 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 FUN_004141a0(void *param_1,TList<struct_APOHandle> *param_2,uint param_3)

{
  code *pcVar1;
  int iVar2;
  int *piVar3;
  int *local_24;
  int local_20;
  int *local_1c;
  int *local_18;
  int *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x14;
  local_8 = 0x4141ac;
  piVar3 = (int *)0x0;
  local_14[0] = (int *)0x0;
  if (param_2 != (TList<struct_APOHandle> *)0x0) {
    EnterCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x14));
    FUN_00413f76(param_1,param_2,(int *)local_14,(int *)&local_24);
    piVar3 = local_14[0];
    if (local_14[0] == (int *)0x0) {
      local_1c = (int *)0x0;
      local_18 = (int *)0x0;
      local_8 = 1;
      pcVar1 = *(code **)(**(int **)((int)param_1 + 0x2c) + 0x14);
      (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)param_1 + 0x2c),param_2,&local_1c);
      iVar2 = (*pcVar1)();
      if (-1 < iVar2) {
        if (local_18 != local_1c) {
          FUN_0040eeb3((int *)&local_18,local_1c,&DAT_00402fb4);
        }
        pcVar1 = *(code **)(*local_18 + 0xc);
        (*(code *)PTR_guard_check_icall_00427678)(local_18,&local_20);
        iVar2 = (*pcVar1)();
        if ((-1 < iVar2) && (local_20 == 0)) {
          iVar2 = FUN_00413def(param_1,local_1c,local_14);
          piVar3 = local_14[0];
          if (-1 < iVar2) {
            local_14[0][5] = param_3;
          }
        }
      }
      ~CComPtr<>((int *)&local_18);
      local_8 = 0xffffffff;
      ~CComPtr<>((int *)&local_1c);
    }
    else {
      local_14[0][5] = param_3;
      if ((param_3 & 0xe) != 0) {
        FUN_00413f15(param_1,local_24,(WPARAM)local_14[0]);
      }
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x14));
  if (piVar3 != (int *)0x0) {
    pcVar1 = *(code **)(*piVar3 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar3);
    (*pcVar1)();
  }
  return 0;
}



/* Function: FUN_004142c0 */

undefined4 FUN_004142c0(void *param_1,TList<struct_APOHandle> *param_2)

{
  code *pcVar1;
  int *piVar2;
  int *local_c;
  int *local_8;
  
  piVar2 = (int *)0x0;
  local_8 = (int *)0x0;
  if (param_2 != (TList<struct_APOHandle> *)0x0) {
    EnterCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x14));
    FUN_00413f76(param_1,param_2,(int *)&local_8,(int *)&local_c);
    piVar2 = local_8;
    if (local_8 != (int *)0x0) {
      FUN_00413f15(param_1,local_c,(WPARAM)local_8);
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x14));
  if (piVar2 != (int *)0x0) {
    pcVar1 = *(code **)(*piVar2 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar2);
    (*pcVar1)();
  }
  return 0;
}



/* Function: FUN_00414330 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 FUN_00414330(void *param_1,int param_2,int param_3,TList<struct_APOHandle> *param_4)

{
  code *pcVar1;
  APOHandle *pAVar2;
  int iVar3;
  APOHandle *pAVar4;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *this;
  int *local_18;
  APOHandle *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 8;
  local_8 = 0x41433c;
  local_14[0] = (APOHandle *)0x0;
  if (param_4 == (TList<struct_APOHandle> *)0x0) {
    return 0;
  }
  if (param_2 != 0) {
    return 0;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x14));
  local_18 = *(int **)((int)param_1 + 4);
  this = extraout_ECX;
  pAVar4 = local_14[0];
  if (local_18 != (int *)0x0) {
    do {
      local_14[0] = (APOHandle *)0x0;
      TList<struct_APOHandle>::GetNext(this,&local_18,local_14);
      pAVar2 = local_14[0];
      this = param_4;
      iVar3 = _wcsicmp(*(wchar_t **)(local_14[0] + 0x24),(wchar_t *)param_4);
      if (iVar3 == 0) {
        pAVar4 = (APOHandle *)0x1;
        *(undefined4 *)(pAVar2 + param_3 * 4 + 0x38) = 1;
      }
      else {
        *(undefined4 *)(pAVar2 + param_3 * 4 + 0x38) = 0;
      }
    } while (local_18 != (int *)0x0);
    if (pAVar4 != (APOHandle *)0x0) goto LAB_004143fd;
  }
  local_18 = (int *)0x0;
  local_8 = 0;
  pcVar1 = *(code **)(**(int **)((int)param_1 + 0x2c) + 0x14);
  (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)param_1 + 0x2c),param_4,&local_18);
  iVar3 = (*pcVar1)();
  if ((-1 < iVar3) && (FUN_00413def(param_1,local_18,local_14), local_14[0] != (APOHandle *)0x0)) {
    *(undefined4 *)(local_14[0] + param_3 * 4 + 0x38) = 1;
  }
  ~CComPtr<>((int *)&local_18);
LAB_004143fd:
  PostMessageW(DAT_00425a3c,0x40f,0,0);
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x14));
  return 0;
}



/* Function: FUN_00414430 */

undefined4 FUN_00414430(void *param_1,TList<struct_APOHandle> *param_2)

{
  code *pcVar1;
  int iVar2;
  undefined4 *puVar3;
  int *piVar4;
  undefined4 *puVar5;
  undefined4 auStackY_28 [2];
  int *local_8;
  
  local_8 = (int *)0x0;
  piVar4 = (int *)0x0;
  if (param_2 != (TList<struct_APOHandle> *)0x0) {
    EnterCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x14));
    auStackY_28[1] = 0x41445f;
    iVar2 = FUN_00413f76(param_1,param_2,(int *)&local_8,(int *)0x0);
    piVar4 = local_8;
    if (-1 < iVar2) {
      puVar3 = (undefined4 *)&stack0x0000000c;
      puVar5 = auStackY_28;
      for (iVar2 = 5; piVar4 = local_8, iVar2 != 0; iVar2 = iVar2 + -1) {
        *puVar5 = *puVar3;
        puVar3 = puVar3 + 1;
        puVar5 = puVar5 + 1;
      }
      FUN_00413a3b(local_8);
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x14));
  if (piVar4 != (int *)0x0) {
    pcVar1 = *(code **)(*piVar4 + 8);
    (*(code *)PTR_guard_check_icall_00427678)();
    (*pcVar1)();
  }
  return 0;
}



/* Function: FUN_004144ac */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_004144ac(void)

{
  int cx;
  DWORD clrBk;
  undefined4 uVar1;
  
  uVar1 = 0;
  cx = (int)((DAT_00425568 * _DAT_00403664) / DAT_00403670);
  DAT_00425adc = ImageList_Create(cx,cx,0x2a021,8,0x14);
  if (DAT_00425adc == (HIMAGELIST)0x0) {
    uVar1 = 0x80004005;
  }
  else {
    clrBk = GetSysColor(5);
    ImageList_SetBkColor(DAT_00425adc,clrBk);
  }
  return uVar1;
}



/* Function: FUN_00414510 */

undefined4 FUN_00414510(void)

{
  return 0;
}



/* Function: FUN_00414520 */

undefined4 FUN_00414520(void)

{
  return 0;
}



/* Function: FUN_0041452b */

undefined4 __fastcall FUN_0041452b(short *param_1,uint param_2,int param_3)

{
  short sVar1;
  undefined4 uVar2;
  short *psVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  
  uVar4 = param_2 >> 1;
  if (uVar4 == 0) {
    uVar2 = 0x80070057;
  }
  else {
    iVar5 = 0x7ffffffe - uVar4;
    iVar6 = param_3 - (int)param_1;
    do {
      if ((iVar5 + uVar4 == 0) || (sVar1 = *(short *)(iVar6 + (int)param_1), sVar1 == 0)) break;
      *param_1 = sVar1;
      param_1 = param_1 + 1;
      uVar4 = uVar4 - 1;
    } while (uVar4 != 0);
    psVar3 = param_1 + -1;
    if (uVar4 != 0) {
      psVar3 = param_1;
    }
    *psVar3 = 0;
    uVar2 = 0x8007007a;
    if (uVar4 != 0) {
      uVar2 = 0;
    }
  }
  return uVar2;
}



/* Function: FUN_00414590 */

undefined4 FUN_00414590(void)

{
  return 0;
}



/* Function: FUN_004145a0 */

undefined1 __fastcall
FUN_004145a0(void *param_1,undefined4 param_2,undefined4 param_3,int param_4,uint param_5,
            undefined4 param_6,undefined4 *param_7,int param_8)

{
  code *pcVar1;
  undefined4 uVar2;
  
  if (param_8 != 0) {
    return 0;
  }
  if (param_4 != 1) {
    if (param_4 == 0x114) {
      uVar2 = FUN_00414968(param_1,param_1,param_5);
    }
    else {
      if (param_4 != 0x113) {
        if (param_4 == 5) {
          FUN_00414793((int)param_1,param_2,0);
        }
        else {
          if (param_4 != 2) {
            return 0;
          }
          if (*(int *)((int)param_1 + 0x54) != 0) {
            DestroyWindow(*(HWND *)(*(int *)((int)param_1 + 0x54) + 4));
            if (*(int **)((int)param_1 + 0x54) != (int *)0x0) {
              pcVar1 = *(code **)(**(int **)((int)param_1 + 0x54) + 4);
              (*(code *)PTR_guard_check_icall_00427678)(1);
              (*pcVar1)();
            }
            *(undefined4 *)((int)param_1 + 0x54) = 0;
          }
        }
        *param_7 = 0;
        return 1;
      }
      uVar2 = FUN_00414a0e((int)param_1);
    }
    *param_7 = uVar2;
    return 1;
  }
  uVar2 = FUN_004146ec(param_1);
  *param_7 = uVar2;
  return 1;
}



/* Function: FUN_00414670 */

undefined4 * __thiscall FUN_00414670(void *this,byte param_1)

{
  FUN_00414698((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_00414698 */

void __fastcall FUN_00414698(undefined4 *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00421545;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_004016a4;
  local_8 = 0;
  if (param_1[5] != 0) {
    FUN_0041abac((int *)param_1[5]);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_004146ec */

undefined4 __thiscall FUN_004146ec(void *this)

{
  HWND pHVar1;
  code *pcVar2;
  ushort uVar3;
  undefined4 *this_00;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *in_stack_00000010;
  
  this_00 = (undefined4 *)FUN_0041f39d(0x24);
  if (this_00 == (undefined4 *)0x0) {
    this_00 = (undefined4 *)0x0;
  }
  else {
    puVar5 = this_00;
    for (iVar4 = 9; pcVar2 = DefWindowProcW_exref, iVar4 != 0; iVar4 = iVar4 + -1) {
      *puVar5 = 0;
      puVar5 = puVar5 + 1;
    }
    this_00[1] = 0;
    this_00[5] = 0;
    this_00[6] = 0;
    this_00[7] = 0;
    this_00[8] = pcVar2;
    *this_00 = &PTR_FUN_00401694;
  }
  *(undefined4 **)((int)this + 0x54) = this_00;
  if (this_00 != (undefined4 *)0x0) {
    pHVar1 = *(HWND *)((int)this + 4);
    if (DAT_004251f0 == 0) {
      DAT_004251f0 = 0;
    }
    uVar3 = FUN_00409992((WNDCLASSEXW *)&DAT_004251c0,this_00 + 8);
    FUN_0040c98c(this_00,pHVar1,(int *)0x0,(LPCWSTR)0x0,0x56000000,0x10000,(HMENU)0x0,uVar3);
  }
  *in_stack_00000010 = 0;
  return 1;
}



/* Function: FUN_00414793 */

void __fastcall FUN_00414793(int param_1,undefined4 param_2,int param_3)

{
  undefined4 *this;
  int iVar1;
  TList<struct_APOHandle> *this_00;
  int iVar2;
  uint uVar3;
  HDWP hWinPosInfo;
  TList<struct_APOHandle> *extraout_ECX;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  APOHandle *local_38;
  TList<struct_APOHandle> *local_34;
  HDWP local_30;
  tagRECT local_2c;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_38 = (APOHandle *)0x0;
  local_30 = *(HDWP *)(*(int *)(param_1 + 0x24) + 0x254);
  if (local_30 != (HDWP)0x0) {
    if (((*(int *)(param_1 + 0x28) == 0) &&
        (iVar1 = *(int *)(*(int *)(param_1 + 0x24) + 0x24c), iVar1 != 0)) &&
       (local_38 = *(APOHandle **)(iVar1 + 8), local_38 != (APOHandle *)0x0)) {
      GetClientRect(*(HWND *)(local_38 + 4),&local_1c);
      *(LONG *)(param_1 + 0x28) = local_1c.right;
      *(LONG *)(param_1 + 0x2c) = local_1c.bottom;
    }
    this = (undefined4 *)(param_1 + 4);
    GetClientRect((HWND)*this,&local_2c);
    local_34 = (TList<struct_APOHandle> *)(local_2c.right / *(int *)(param_1 + 0x28));
    iVar1 = *(int *)(param_1 + 0x2c);
    iVar2 = GetScrollPos((HWND)*this,0);
    if (((int)local_34 < (int)local_30) || (0 < iVar2)) {
      uVar3 = GetWindowLongW((HWND)*this,-0x10);
      if ((uVar3 & 0x100000) == 0) {
        FUN_0040de64(this,0,0x100000,0x20);
      }
      for (; (0 < iVar2 && ((int)local_30 - (int)local_34 < iVar2)); iVar2 = iVar2 + -1) {
      }
      *(undefined4 *)(param_1 + 0x38) = 0;
      *(int *)(param_1 + 0x3c) = (int)local_30 - (int)local_34;
      *(int *)(param_1 + 0x44) = iVar2;
      ((LPCSCROLLINFO)(param_1 + 0x30))->cbSize = 0x1c;
      *(undefined4 *)(param_1 + 0x34) = 0x17;
      *(undefined4 *)(param_1 + 0x40) = 1;
      SetScrollInfo((HWND)*this,0,(LPCSCROLLINFO)(param_1 + 0x30),1);
      *(undefined4 *)(param_1 + 0x50) = 0;
      SetTimer((HWND)*this,0x204,0x28,(TIMERPROC)0x0);
    }
    else {
      uVar3 = GetWindowLongW((HWND)*this,-0x10);
      if ((uVar3 & 0x100000) != 0) {
        FUN_0040de64(this,0x100000,0,0x20);
      }
    }
    iVar2 = 0;
    SetWindowPos(*(HWND *)(*(int *)(param_1 + 0x54) + 4),(HWND)0x0,0,0,
                 *(int *)(param_1 + 0x28) * (int)local_30 + 2,iVar1 + 2,6);
    param_2 = extraout_EDX;
    if (param_3 != 0) {
      hWinPosInfo = BeginDeferWindowPos(*(int *)(*(int *)(param_1 + 0x24) + 0x254));
      this_00 = *(TList<struct_APOHandle> **)(*(int *)(param_1 + 0x24) + 0x24c);
      local_34 = this_00;
      local_30 = hWinPosInfo;
      while (local_34 != (TList<struct_APOHandle> *)0x0) {
        TList<struct_APOHandle>::GetNext(this_00,&local_34,&local_38);
        DeferWindowPos(hWinPosInfo,*(HWND *)(local_38 + 4),(HWND)0x0,iVar2,0,0,0,5);
        iVar2 = iVar2 + *(int *)(param_1 + 0x28);
        this_00 = extraout_ECX;
      }
      EndDeferWindowPos(local_30);
      InvalidateRect((HWND)*this,(RECT *)0x0,1);
      param_2 = extraout_EDX_00;
    }
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_00414968 */

undefined4 __thiscall FUN_00414968(void *this,undefined4 param_1,uint param_2)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = *(uint *)((int)this + 0x44);
  switch(param_2 & 0xffff) {
  case 0:
  case 2:
    uVar2 = *(uint *)((int)this + 0x38);
    if ((int)*(uint *)((int)this + 0x38) <= (int)(uVar1 - 1)) {
      uVar2 = uVar1 - 1;
    }
    break;
  case 1:
  case 3:
    uVar2 = *(uint *)((int)this + 0x3c);
    if ((int)(uVar1 + 1) <= (int)*(uint *)((int)this + 0x3c)) {
      uVar2 = uVar1 + 1;
    }
    break;
  case 4:
  case 5:
    uVar2 = param_2 >> 0x10;
    break;
  case 6:
    uVar2 = *(uint *)((int)this + 0x38);
    break;
  case 7:
    uVar2 = *(uint *)((int)this + 0x3c);
    break;
  default:
    goto switchD_0041497e_caseD_8;
  }
  if (uVar1 != uVar2) {
    *(uint *)((int)this + 0x44) = uVar2;
    SetScrollInfo(*(HWND *)((int)this + 4),0,(LPCSCROLLINFO)((int)this + 0x30),1);
    *(undefined4 *)((int)this + 0x50) = 0;
    SetTimer(*(HWND *)((int)this + 4),0x204,0x28,(TIMERPROC)0x0);
  }
switchD_0041497e_caseD_8:
  return 1;
}



/* Function: FUN_00414a0e */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_00414a0e(int param_1)

{
  undefined4 extraout_EDX;
  int X;
  float local_1c [4];
  undefined4 local_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_c = 0x3f800000;
  local_1c[0] = _DAT_004036d0;
  local_1c[1] = (float)_UNK_004036d4;
  local_1c[2] = (float)_UNK_004036d8;
  local_1c[3] = (float)_UNK_004036dc;
  X = *(int *)(param_1 + 0x4c) -
      (int)((float)(*(int *)(param_1 + 0x44) * *(int *)(param_1 + 0x28) + *(int *)(param_1 + 0x4c))
           * local_1c[*(int *)(param_1 + 0x50)]);
  SetWindowPos(*(HWND *)(*(int *)(param_1 + 0x54) + 4),(HWND)0x0,X,0,0,0,5);
  *(int *)(param_1 + 0x50) = *(int *)(param_1 + 0x50) + 1;
  if (*(int *)(param_1 + 0x50) == 5) {
    *(undefined4 *)(param_1 + 0x50) = 0;
    *(int *)(param_1 + 0x4c) = X;
    KillTimer(*(HWND *)(param_1 + 4),0x204);
    FUN_0040b009(*(int *)(param_1 + 0x24));
  }
  InvalidateRect(*(HWND *)(param_1 + 4),(RECT *)0x0,1);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00414ac0 */

undefined4 FUN_00414ac0(void)

{
  return 0;
}



/* Function: FUN_00414ad0 */

undefined4 FUN_00414ad0(undefined4 param_1,undefined4 param_2,undefined4 *param_3)

{
  if (param_3 != (undefined4 *)0x0) {
    *param_3 = 0;
  }
  return 0x80004002;
}



/* Function: FUN_00414af0 */

undefined4 FUN_00414af0(int *param_1)

{
  code *pcVar1;
  
  FUN_00414cab((int)param_1);
  pcVar1 = *(code **)(*param_1 + 8);
  (*(code *)PTR_guard_check_icall_00427678)(param_1);
  (*pcVar1)();
  return 0;
}



/* Function: FUN_00414b1d */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 * __thiscall FUN_00414b1d(void *this,undefined4 *param_1,undefined4 param_2)

{
  code *pcVar1;
  
  *(undefined ***)this = &PTR_FUN_004016dc;
  *(undefined4 *)((int)this + 4) = 0;
  if (param_1 != (undefined4 *)0x0) {
    pcVar1 = *(code **)*param_1;
    (*(code *)PTR_guard_check_icall_00427678)(param_1,&LAB_0040301c,(undefined4 *)((int)this + 4));
    (*pcVar1)();
  }
  *(undefined4 *)((int)this + 8) = 0;
  *(undefined4 *)((int)this + 0xc) = 0;
  *(undefined4 *)((int)this + 0x10) = param_2;
  *(undefined4 *)((int)this + 0x14) = 0;
  FUN_0040d3bf((LPCRITICAL_SECTION)((int)this + 0x18));
  *(undefined4 *)((int)this + 0x4c) = 1;
  *(undefined4 *)((int)this + 0x30) = 0;
  *(undefined4 *)((int)this + 0x34) = 0;
  *(undefined4 *)((int)this + 0x40) = 0;
  *(undefined4 *)((int)this + 0x44) = 0;
  *(undefined4 *)((int)this + 0x48) = 0;
  *(undefined4 *)((int)this + 0x50) = 0;
  *(undefined4 *)((int)this + 0x54) = 0;
  *(undefined4 *)((int)this + 0x58) = 0;
  *(undefined4 *)((int)this + 0x5c) = 0;
  *(undefined4 *)((int)this + 0x60) = 0;
  *(undefined4 *)((int)this + 0x68) = DAT_0040304c;
  *(undefined4 *)((int)this + 0x38) = 4;
  *(undefined4 *)((int)this + 0x6c) = DAT_00403050;
  *(undefined4 *)((int)this + 0x3c) = 4;
  *(undefined4 *)((int)this + 0x78) = 1;
  *(undefined4 *)((int)this + 0x70) = DAT_00403054;
  *(undefined4 *)((int)this + 0x74) = DAT_00403058;
  LOCK();
  _DAT_00425ae8 = _DAT_00425ae8 + 1;
  UNLOCK();
  if (DAT_00425af0 == 0) {
    CoCreateGuid((GUID *)&DAT_00425af0);
  }
  return (undefined4 *)this;
}



/* Function: FUN_00414bf0 */

undefined4 * __thiscall FUN_00414bf0(void *this,byte param_1)

{
  FUN_00414c18((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_00414c18 */

void __fastcall FUN_00414c18(undefined4 *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_004016dc;
  FUN_00414cab((int)param_1);
  if (param_1[0xd] != 0) {
    CoTaskMemFree((LPVOID)param_1[0xd]);
    param_1[0xd] = 0;
  }
  if (param_1[0xc] != 0) {
    DestroyIcon((HICON)param_1[0xc]);
    param_1[0xc] = 0;
  }
  DeleteCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  ~CComPtr<>(param_1 + 3);
  ~CComPtr<>(param_1 + 2);
  ~CComPtr<>(param_1 + 1);
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00414cab */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* WARNING: Unable to track spacebase fully for stack */

void __fastcall FUN_00414cab(int param_1)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  undefined *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined1 *puVar7;
  undefined1 *puVar8;
  undefined4 uStackY_28;
  
  FUN_00414f4e(param_1);
  puVar5 = &uStackY_28;
  uStackY_28 = 0x414cc8;
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x18));
  piVar1 = *(int **)(param_1 + 4);
  if (piVar1 != (int *)0x0) {
    *(undefined4 *)(param_1 + 4) = 0;
    iVar2 = *piVar1;
    puVar5[-1] = piVar1;
    puVar4 = PTR_guard_check_icall_00427678;
    pcVar3 = *(code **)(iVar2 + 8);
    puVar6 = puVar5 + -2;
    puVar5[-2] = 0x414ce5;
    (*(code *)puVar4)();
    puVar5 = (undefined4 *)((int)puVar6 + -4);
    *(undefined4 *)((int)puVar6 + -4) = 0x414ce7;
    (*pcVar3)();
  }
  piVar1 = *(int **)(param_1 + 8);
  if (piVar1 != (int *)0x0) {
    *(undefined4 *)(param_1 + 8) = 0;
    iVar2 = *piVar1;
    *(int **)((int)puVar5 + -4) = piVar1;
    pcVar3 = *(code **)(iVar2 + 8);
    puVar7 = (undefined1 *)((int)puVar5 + -8);
    *(undefined4 *)((int)puVar5 + -8) = 0x414d07;
    (*(code *)PTR_guard_check_icall_00427678)();
    puVar5 = (undefined4 *)(puVar7 + -4);
    *(undefined4 *)(puVar7 + -4) = 0x414d09;
    (*pcVar3)();
  }
  *(LPCRITICAL_SECTION *)((int)puVar5 + -4) = (LPCRITICAL_SECTION)(param_1 + 0x18);
  puVar8 = (undefined1 *)((int)puVar5 + -8);
  *(undefined4 *)((int)puVar5 + -8) = 0x414d10;
  LeaveCriticalSection(*(LPCRITICAL_SECTION *)((int)puVar5 + -4));
  *(undefined4 *)(puVar8 + -4) = 0x414d15;
  return;
}



/* Function: FUN_00414d30 */

void FUN_00414d30(int param_1)

{
  if (param_1 != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x18));
    *(undefined4 *)(param_1 + 0x4c) = 2;
    LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x18));
  }
  return;
}



/* Function: FUN_00414d62 */

undefined4 __fastcall FUN_00414d62(int param_1)

{
  wchar_t *_Str;
  undefined4 *puVar1;
  int iVar2;
  wchar_t *pwVar3;
  uint uVar4;
  wchar_t *local_10;
  LPVOID local_c;
  int local_8;
  
  uVar4 = 0;
  if (*(int *)(param_1 + 0x54) != 0) {
    local_8 = 0;
    GetPackageFamilyName(*(undefined4 *)(param_1 + 0x44),&local_8,0);
    local_10 = (wchar_t *)0x0;
    puVar1 = FUN_00416242(&local_c,local_8 * 2);
    FUN_00416100(&local_10,puVar1);
    if (local_c != (LPVOID)0x0) {
      CoTaskMemFree(local_c);
    }
    _Str = local_10;
    if (local_10 != (wchar_t *)0x0) {
      iVar2 = GetPackageFamilyName(*(undefined4 *)(param_1 + 0x44),&local_8,local_10);
      if (iVar2 == 0) {
        do {
          pwVar3 = wcsstr(_Str,*(wchar_t **)((int)&PTR_u_ShellExperienceHost_004017f8 + uVar4));
          if (pwVar3 != (wchar_t *)0x0) {
            CoTaskMemFree(_Str);
            return 1;
          }
          uVar4 = uVar4 + 4;
        } while (uVar4 < 4);
      }
      CoTaskMemFree(_Str);
    }
  }
  return 0;
}



/* Function: FUN_00414e05 */

DWORD __fastcall FUN_00414e05(int param_1)

{
  DWORD *pDVar1;
  code *pcVar2;
  HANDLE pvVar3;
  DWORD DVar4;
  undefined4 uVar5;
  DWORD DVar6;
  
  DVar6 = 0;
  if (*(int *)(param_1 + 0x50) == 0) {
    pDVar1 = (DWORD *)(param_1 + 0x40);
    if (*pDVar1 == 0) {
      pcVar2 = *(code **)(**(int **)(param_1 + 4) + 0x38);
      (*(code *)PTR_guard_check_icall_00427678)(*(int **)(param_1 + 4),pDVar1);
      DVar6 = (*pcVar2)();
      if ((int)DVar6 < 0) {
        return DVar6;
      }
    }
    if (*pDVar1 != 0) {
      pvVar3 = OpenProcess(0x101000,0,*pDVar1);
      *(HANDLE *)(param_1 + 0x44) = pvVar3;
      if ((pvVar3 == (HANDLE)0x0) && (DVar4 = GetLastError(), DVar4 != 5)) {
        DVar6 = DVar4 & 0xffff | 0x80070000;
        if ((int)DVar4 < 1) {
          DVar6 = DVar4;
        }
      }
      else {
        uVar5 = IsImmersiveProcess(*(undefined4 *)(param_1 + 0x44));
        *(undefined4 *)(param_1 + 0x54) = uVar5;
        uVar5 = FUN_00414d62(param_1);
        *(undefined4 *)(param_1 + 0x58) = uVar5;
      }
    }
  }
  return DVar6;
}



/* Function: FUN_00414e8c */

DWORD __fastcall FUN_00414e8c(PVOID param_1)

{
  code *pcVar1;
  BOOL BVar2;
  DWORD DVar3;
  DWORD DVar4;
  PVOID local_8;
  
  DVar4 = 0;
  local_8 = param_1;
  if (*(int *)((int)param_1 + 0x60) == 0) {
    pcVar1 = *(code **)(**(int **)((int)param_1 + 4) + 0x28);
    (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)param_1 + 4),param_1);
    DVar4 = (*pcVar1)();
    if ((int)DVar4 < 0) goto LAB_00414f3b;
    *(undefined4 *)((int)param_1 + 0x60) = 1;
  }
  if (*(int *)((int)param_1 + 0x50) != 0) {
    return DVar4;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x18));
  if ((*(int *)((int)param_1 + 0x44) != 0) && (*(PHANDLE)((int)param_1 + 0x48) == (HANDLE)0x0)) {
    BVar2 = GetExitCodeProcess(*(HANDLE *)((int)param_1 + 0x44),(LPDWORD)&local_8);
    if (BVar2 == 0) {
      DVar3 = GetLastError();
      DVar4 = DVar3 & 0xffff | 0x80070000;
      if ((int)DVar3 < 1) {
        DVar4 = DVar3;
      }
    }
    else if (local_8 == (PVOID)0x103) {
      RegisterWaitForSingleObject
                ((PHANDLE)((int)param_1 + 0x48),*(HANDLE *)((int)param_1 + 0x44),FUN_00414d30,
                 param_1,0xffffffff,8);
    }
    else {
      DVar4 = 0x80004005;
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)param_1 + 0x18));
  if (-1 < (int)DVar4) {
    return DVar4;
  }
LAB_00414f3b:
  FUN_00414f4e((int)param_1);
  return DVar4;
}



/* Function: FUN_00414f4e */

void __fastcall FUN_00414f4e(int param_1)

{
  code *pcVar1;
  HANDLE CompletionEvent;
  
  if (*(int *)(param_1 + 0x60) != 0) {
    pcVar1 = *(code **)(**(int **)(param_1 + 4) + 0x2c);
    (*(code *)PTR_guard_check_icall_00427678)(*(int **)(param_1 + 4),param_1);
    (*pcVar1)();
  }
  *(undefined4 *)(param_1 + 0x60) = 0;
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x18));
  if (*(int *)(param_1 + 0x48) != 0) {
    CompletionEvent = CreateEventW((LPSECURITY_ATTRIBUTES)0x0,0,0,(LPCWSTR)0x0);
    UnregisterWaitEx(*(HANDLE *)(param_1 + 0x48),CompletionEvent);
    *(undefined4 *)(param_1 + 0x48) = 0;
    if (CompletionEvent != (HANDLE)0x0) {
      WaitForSingleObject(CompletionEvent,0xffffffff);
      CloseHandle(CompletionEvent);
    }
  }
  if (*(int *)(param_1 + 0x44) != 0) {
    CloseHandle(*(HANDLE *)(param_1 + 0x44));
    *(undefined4 *)(param_1 + 0x44) = 0;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x18));
  return;
}



/* Function: FUN_00414fe0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_00414fe0(int param_1)

{
  int *piVar1;
  int iVar2;
  
  LOCK();
  _DAT_00425ae8 = _DAT_00425ae8 + 1;
  UNLOCK();
  LOCK();
  piVar1 = (int *)(param_1 + 0x78);
  iVar2 = *piVar1;
  *piVar1 = *piVar1 + 1;
  UNLOCK();
  return iVar2 + 1;
}



/* Function: FUN_00415010 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_00415010(int *param_1)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  
  LOCK();
  piVar1 = param_1 + 0x1e;
  iVar2 = *piVar1;
  *piVar1 = *piVar1 + -1;
  UNLOCK();
  LOCK();
  _DAT_00425ae8 = _DAT_00425ae8 + -1;
  UNLOCK();
  if ((iVar2 + -1 == 0) && (param_1 != (int *)0x0)) {
    pcVar3 = *(code **)(*param_1 + 0x28);
    (*(code *)PTR_guard_check_icall_00427678)(1);
    (*pcVar3)();
  }
  return iVar2 + -1;
}



/* Function: FUN_00415055 */

DWORD __fastcall FUN_00415055(PVOID param_1)

{
  int *piVar1;
  code *pcVar2;
  int iVar3;
  DWORD DVar4;
  
  piVar1 = (int *)((int)param_1 + 8);
  if ((undefined4 *)*piVar1 != *(undefined4 **)((int)param_1 + 4)) {
    FUN_0040eeb3(piVar1,*(undefined4 **)((int)param_1 + 4),&DAT_0040302c);
  }
  if (*piVar1 != 0) {
    piVar1 = (int *)((int)param_1 + 0xc);
    if ((undefined4 *)*piVar1 != *(undefined4 **)((int)param_1 + 4)) {
      FUN_0040eeb3(piVar1,*(undefined4 **)((int)param_1 + 4),&DAT_00402f00);
    }
    if (*piVar1 != 0) {
      pcVar2 = *(code **)(**(int **)((int)param_1 + 4) + 0x3c);
      (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)param_1 + 4));
      iVar3 = (*pcVar2)();
      *(uint *)((int)param_1 + 0x50) = (uint)(iVar3 == 0);
      DVar4 = FUN_00414e05((int)param_1);
      if ((int)DVar4 < 0) {
        return DVar4;
      }
      if (*(int *)((int)param_1 + 0x58) != 0) {
        return DVar4;
      }
      pcVar2 = *(code **)(**(int **)((int)param_1 + 4) + 0x4c);
      (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)param_1 + 4),(int)param_1 + 0x5c);
      DVar4 = (*pcVar2)();
      if ((int)DVar4 < 0) {
        return DVar4;
      }
      DVar4 = FUN_00414e8c(param_1);
      if ((int)DVar4 < 0) {
        return DVar4;
      }
      pcVar2 = *(code **)(**(int **)((int)param_1 + 4) + 0xc);
      (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)param_1 + 4),(int)param_1 + 0x4c);
      DVar4 = (*pcVar2)();
      if ((int)DVar4 < 0) {
        return DVar4;
      }
      DVar4 = FUN_00415154((int)param_1);
      if ((int)DVar4 < 0) {
        return DVar4;
      }
      pcVar2 = *(code **)(**(int **)((int)param_1 + 4) + 0x20);
      (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)param_1 + 4),(int)param_1 + 0x68);
      DVar4 = (*pcVar2)();
      if ((int)DVar4 < 0) {
        return DVar4;
      }
      pcVar2 = *(code **)(**(int **)((int)param_1 + 4) + 0x50);
      (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)param_1 + 4),(int)param_1 + 100);
      DVar4 = (*pcVar2)();
      return DVar4;
    }
  }
  return 0x80004002;
}



/* Function: FUN_00415154 */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_00415154(int param_1)

{
  int *piVar1;
  code *pcVar2;
  uint uVar3;
  bool bVar4;
  int iVar5;
  DWORD DVar6;
  undefined3 extraout_var;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  bool bVar7;
  float fVar8;
  undefined8 uVar9;
  int local_23c [6];
  uint local_224;
  LPWSTR local_220;
  short local_21c [132];
  WCHAR local_114 [134];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x22c;
  local_8 = 0x415163;
  local_23c[4] = 0;
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x18));
  local_224 = (uint)(*(int *)(param_1 + 0x34) != 0);
  local_23c[5] = *(int *)(param_1 + 0x30);
  bVar7 = local_23c[5] != 0;
  if (*(int *)(param_1 + 0x34) == 0) {
    local_220 = (LPWSTR)0x0;
    pcVar2 = *(code **)(**(int **)(param_1 + 4) + 0x10);
    (*(code *)PTR_guard_check_icall_00427678)(*(int **)(param_1 + 4),&local_220);
    iVar5 = (*pcVar2)();
    if ((((iVar5 == 0) && (*local_220 != L'\0')) &&
        (iVar5 = Ordinal_487(local_220,local_21c,0x104,0), -1 < iVar5)) &&
       (iVar5 = FUN_0041f085(local_21c,(undefined4 *)(param_1 + 0x34)), -1 < iVar5)) {
      *(undefined4 *)(param_1 + 0x3c) = 0;
      local_224 = 1;
    }
    if (local_220 != (LPWSTR)0x0) {
      CoTaskMemFree(local_220);
    }
  }
  if (local_23c[5] == 0) {
    local_220 = (LPWSTR)0x0;
    pcVar2 = *(code **)(**(int **)(param_1 + 4) + 0x18);
    (*(code *)PTR_guard_check_icall_00427678)(*(int **)(param_1 + 4),&local_220);
    iVar5 = (*pcVar2)();
    if (-1 < iVar5) {
      fVar8 = (DAT_00425568 * _DAT_00403664) / DAT_00403670;
      local_23c[5] = PathParseIconLocationW(local_220);
      DVar6 = FUN_0041f0ec(local_220,(uint *)(local_23c + 5),(undefined4 *)(param_1 + 0x30),
                           (int)fVar8);
      if (-1 < (int)DVar6) {
        *(undefined4 *)(param_1 + 0x38) = 0;
        bVar7 = true;
      }
    }
    if (local_220 != (LPWSTR)0x0) {
      CoTaskMemFree(local_220);
    }
  }
  uVar3 = local_224;
  if (*(int *)(param_1 + 0x40) == 0) goto LAB_004153ff;
  if (*(int *)(param_1 + 0x44) == 0) {
LAB_0041536b:
    if (local_224 == 0) {
      piVar1 = (int *)(param_1 + 0x34);
      bVar4 = FUN_004185b0(*(undefined4 *)(param_1 + 0x40),piVar1);
      if (CONCAT31(extraout_var,bVar4) == 0) {
        iVar5 = FUN_004185ef(*(DWORD *)(param_1 + 0x40),piVar1);
        if (iVar5 == 0) {
          LoadStringW(DAT_00425aa8,0x1f8,local_114,0x80);
          FUN_0041f085(local_114,piVar1);
        }
        else {
          *(undefined4 *)(param_1 + 0x3c) = 2;
        }
      }
      else {
        *(undefined4 *)(param_1 + 0x3c) = 1;
      }
    }
  }
  else if ((local_224 == 0) || (!bVar7)) {
    iVar5 = IsImmersiveProcess(*(undefined4 *)(param_1 + 0x44));
    if (iVar5 != 0) {
      local_23c[0] = 0;
      local_23c[1] = 0;
      local_23c[2] = 0;
      local_23c[3] = 0;
      local_8 = 0;
      uVar9 = FUN_00419052(local_23c,*(undefined4 *)(param_1 + 0x44));
      local_23c[4] = (int)uVar9;
      if (-1 < local_23c[4]) {
        if (uVar3 == 0) {
          FUN_00419263((int)local_23c,(int)((ulonglong)uVar9 >> 0x20),(int *)(param_1 + 0x34));
          uVar9 = CONCAT44(extraout_EDX,local_23c[4]);
          if (*(int *)(param_1 + 0x34) != 0) {
            *(undefined4 *)(param_1 + 0x3c) = 0;
            local_224 = 1;
            uVar9 = CONCAT44(extraout_EDX,local_23c[4]);
          }
        }
        local_23c[4] = (int)uVar9;
        if (!bVar7) {
          local_23c[4] = FUN_0041944e(local_23c,(int)((ulonglong)uVar9 >> 0x20),
                                      (int *)(param_1 + 0x30));
          if ((-1 < local_23c[4]) && (*(int *)(param_1 + 0x30) != 0)) {
            bVar7 = true;
          }
        }
      }
      FUN_0041541b(local_23c);
    }
    goto LAB_0041536b;
  }
  if (!bVar7) {
    iVar5 = FUN_0041870c(*(DWORD *)(param_1 + 0x40),(DWORD *)(param_1 + 0x30));
    if (iVar5 == 0) {
      iVar5 = FUN_004187bb(*(DWORD *)(param_1 + 0x40),(undefined4 *)(param_1 + 0x30));
      if (iVar5 != 0) {
        *(undefined4 *)(param_1 + 0x38) = 2;
      }
    }
    else {
      *(undefined4 *)(param_1 + 0x38) = 1;
    }
  }
LAB_004153ff:
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x18));
  FUN_004204c2(extraout_ECX,extraout_EDX_00);
  return;
}



/* Function: FUN_0041541b */

void __fastcall FUN_0041541b(int *param_1)

{
  FUN_0040dcb4(param_1 + 3);
  FUN_0040dcb4(param_1 + 1);
  FUN_0040dcb4(param_1);
  return;
}



/* Function: FUN_0041543e */

void __fastcall FUN_0041543e(int *param_1)

{
  ushort uVar1;
  code *pcVar2;
  DWORD DVar3;
  ushort *pv;
  ushort *puVar4;
  uint uVar5;
  ushort *puVar6;
  LPVOID pv_00;
  uint wParam;
  bool bVar7;
  DWORD local_c;
  undefined4 local_8;
  
  local_c = 0;
  wParam = 0;
  local_8 = (ushort *)0x0;
  if (param_1[0xf] == 1) {
    FUN_004185b0(param_1[0x10],&local_8);
  }
  else if (param_1[0xf] == 2) {
    FUN_004185ef(param_1[0x10],&local_8);
  }
  pv = local_8;
  if (param_1[0xe] == 1) {
    FUN_0041870c(param_1[0x10],&local_c);
  }
  else if (param_1[0xe] == 2) {
    FUN_004187bb(param_1[0x10],&local_c);
  }
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  if (pv != (ushort *)0x0) {
    puVar6 = (ushort *)param_1[0xd];
    puVar4 = pv;
    if (puVar6 != (ushort *)0x0) {
      do {
        bVar7 = *puVar4 < *puVar6;
        pv_00 = (LPVOID)param_1[0xd];
        if (*puVar4 != *puVar6) {
LAB_004154e9:
          uVar5 = -(uint)bVar7 | 1;
          goto LAB_004154ee;
        }
        if (*puVar4 == 0) break;
        uVar1 = puVar4[1];
        bVar7 = uVar1 < puVar6[1];
        local_8 = (ushort *)CONCAT22(uVar1,(undefined2)local_8);
        pv_00 = (LPVOID)param_1[0xd];
        if (uVar1 != puVar6[1]) goto LAB_004154e9;
        puVar6 = puVar6 + 2;
        puVar4 = puVar4 + 2;
      } while (uVar1 != 0);
      uVar5 = 0;
LAB_004154ee:
      if (uVar5 == 0) {
        CoTaskMemFree(pv);
        goto LAB_00415508;
      }
      CoTaskMemFree(pv_00);
    }
    param_1[0xd] = (int)pv;
    wParam = 2;
  }
LAB_00415508:
  DVar3 = local_c;
  if (local_c != 0) {
    if (param_1[0xc] != 0) {
      DestroyIcon((HICON)param_1[0xc]);
    }
    param_1[0xc] = DVar3;
    wParam = wParam | 1;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  if ((wParam != 0) && (param_1[5] != 0)) {
    pcVar2 = *(code **)(*param_1 + 4);
    (*(code *)PTR_guard_check_icall_00427678)(param_1);
    (*pcVar2)();
    PostMessageW(*(HWND *)(param_1[5] + 4),0x41a,wParam,(LPARAM)param_1);
  }
  return;
}



/* Function: FUN_00415566 */

undefined4 __thiscall FUN_00415566(void *this,undefined4 *param_1)

{
  undefined4 uVar1;
  
  EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 0x18));
  uVar1 = 0;
  if (*(short **)((int)this + 0x34) != (short *)0x0) {
    uVar1 = FUN_0041f085(*(short **)((int)this + 0x34),param_1);
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 0x18));
  return uVar1;
}



/* Function: FUN_004155a1 */

undefined4 __thiscall FUN_004155a1(void *this,int *param_1)

{
  int iVar1;
  undefined4 uVar2;
  void *local_8;
  
  uVar2 = 0x80004005;
  local_8 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 0x18));
  if ((*(int *)((int)this + 0x50) == 0) && (*(DWORD *)((int)this + 0x40) != 0)) {
    local_8 = (void *)0x0;
    iVar1 = FUN_0041885b(*(DWORD *)((int)this + 0x40),&local_8);
    if ((iVar1 != 0) && (local_8 != (void *)0x0)) {
      uVar2 = 0;
      *param_1 = (int)local_8;
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 0x18));
  return uVar2;
}



/* Function: FUN_004155fc */

void __thiscall FUN_004155fc(void *this,int param_1)

{
  bool bVar1;
  
  bVar1 = false;
  EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 0x18));
  if ((*(int *)((int)this + 0x40) == 0) && (*(int *)(param_1 + 0x40) != 0)) {
    *(int *)((int)this + 0x40) = *(int *)(param_1 + 0x40);
    bVar1 = true;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 0x18));
  if (bVar1) {
    FUN_00414e8c(this);
  }
  return;
}



/* Function: FUN_00415644 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

int __thiscall FUN_00415644(void *this,undefined4 param_1,int param_2)

{
  int *piVar1;
  code *pcVar2;
  int iVar3;
  int *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 4;
  local_14[0] = (int *)0x0;
  local_8 = 0;
  if (param_2 == 0) {
    iVar3 = -0x7ff8ffa9;
  }
  else {
    EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 0x18));
    piVar1 = *(int **)((int)this + 4);
    if (piVar1 == (int *)0x0) {
      iVar3 = -0x7fff0001;
    }
    else {
      pcVar2 = *(code **)(*piVar1 + 0x54);
      (*(code *)PTR_guard_check_icall_00427678)(piVar1,local_14);
      iVar3 = (*pcVar2)();
      if (-1 < iVar3) {
        pcVar2 = *(code **)(*local_14[0] + 0x14);
        (*(code *)PTR_guard_check_icall_00427678)(local_14[0],param_1,param_2);
        iVar3 = (*pcVar2)();
      }
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 0x18));
  ~CComPtr<>((int *)local_14);
  return iVar3;
}



/* Function: FUN_004156e0 */

undefined4 FUN_004156e0(int *param_1,short *param_2)

{
  code *pcVar1;
  int iVar2;
  int local_8;
  
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  if (param_1[0xd] != 0) {
    CoTaskMemFree((LPVOID)param_1[0xd]);
    param_1[0xd] = 0;
  }
  iVar2 = FUN_0041f085(param_2,&local_8);
  if (-1 < iVar2) {
    param_1[0xd] = local_8;
    param_1[0xf] = 0;
    if (param_1[5] != 0) {
      pcVar1 = *(code **)(*param_1 + 4);
      (*(code *)PTR_guard_check_icall_00427678)(param_1);
      (*pcVar1)();
      PostMessageW(*(HWND *)(param_1[5] + 4),0x41a,2,(LPARAM)param_1);
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  return 0;
}



/* Function: FUN_00415760 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_00415760(int *param_1,LPCWSTR param_2)

{
  code *pcVar1;
  DWORD DVar2;
  float fVar3;
  uint local_c;
  int local_8;
  
  local_8 = 0;
  fVar3 = (DAT_00425568 * _DAT_00403664) / DAT_00403670;
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  local_c = PathParseIconLocationW(param_2);
  DVar2 = FUN_0041f0ec(param_2,&local_c,&local_8,(int)fVar3);
  if (-1 < (int)DVar2) {
    if (param_1[0xc] != 0) {
      DestroyIcon((HICON)param_1[0xc]);
    }
    param_1[0xe] = 0;
    param_1[0xc] = local_8;
    if (param_1[5] != 0) {
      pcVar1 = *(code **)(*param_1 + 4);
      (*(code *)PTR_guard_check_icall_00427678)(param_1);
      (*pcVar1)();
      PostMessageW(*(HWND *)(param_1[5] + 4),0x41a,1,(LPARAM)param_1);
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  return 0;
}



/* Function: FUN_00415810 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_00415810(int param_1,float param_2,ushort param_3,int param_4)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    if (*(int *)(param_4 + iVar1 * 4) != (&DAT_00425af0)[iVar1]) {
      if (*(int *)(param_1 + 0x14) == 0) {
        return 0;
      }
      PostMessageW(*(HWND *)(*(int *)(param_1 + 0x14) + 4),0x418,(int)(param_2 * _DAT_00403680),
                   (uint)param_3 << 0x10 | 1);
      return 0;
    }
    iVar1 = iVar1 + 1;
  } while (iVar1 != 4);
  return 0;
}



/* Function: FUN_00415880 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_00415880(int param_1)

{
  code *pcVar1;
  int iVar2;
  int in_stack_00000014;
  float local_8;
  
  iVar2 = 0;
  while (*(int *)(in_stack_00000014 + iVar2 * 4) == (&DAT_00425af0)[iVar2]) {
    iVar2 = iVar2 + 1;
    if (iVar2 == 4) {
      return 0;
    }
  }
  if (*(int *)(param_1 + 0x14) == 0) {
    return 0;
  }
  pcVar1 = *(code **)(**(int **)(param_1 + 8) + 0x10);
  (*(code *)PTR_guard_check_icall_00427678)(*(int **)(param_1 + 8),&local_8);
  iVar2 = (*pcVar1)();
  if (iVar2 < 0) {
    return 0;
  }
  PostMessageW(*(HWND *)(*(int *)(param_1 + 0x14) + 4),0x418,(int)(local_8 * _DAT_00403680),0);
  return 0;
}



/* Function: FUN_00415900 */

undefined4 FUN_00415900(int *param_1,int *param_2)

{
  code *pcVar1;
  bool bVar2;
  int iVar3;
  
  bVar2 = false;
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  iVar3 = 0;
  do {
    if ((param_1 + 0x1a)[iVar3] != param_2[iVar3]) {
      param_1[0x1a] = *param_2;
      param_1[0x1b] = param_2[1];
      param_1[0x1c] = param_2[2];
      param_1[0x1d] = param_2[3];
      bVar2 = true;
      break;
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 != 4);
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  if ((bVar2) && (param_1[5] != 0)) {
    pcVar1 = *(code **)(*param_1 + 4);
    (*(code *)PTR_guard_check_icall_00427678)(param_1);
    (*pcVar1)();
    PostMessageW(DAT_00425a3c,0x41b,(WPARAM)param_1,0);
  }
  return 0;
}



/* Function: FUN_00415980 */

undefined4 FUN_00415980(int *param_1,int param_2)

{
  code *pcVar1;
  
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  if ((((param_1[0x14] == 0) && (param_1[0x13] != param_2)) &&
      (param_1[0x13] = param_2, param_2 == 1)) && (param_1[5] == 0)) {
    pcVar1 = *(code **)(*param_1 + 4);
    (*(code *)PTR_guard_check_icall_00427678)(param_1);
    (*pcVar1)();
    PostMessageW(DAT_00425a3c,0x415,(WPARAM)param_1,0);
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 6));
  return 0;
}



/* Function: FUN_004159f0 */

undefined4 FUN_004159f0(int param_1)

{
  if (*(int *)(param_1 + 0x50) == 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x18));
    *(undefined4 *)(param_1 + 0x4c) = 0;
    LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x18));
  }
  return 0;
}



/* Function: FUN_00415a30 */

undefined4 FUN_00415a30(int param_1)

{
  code *pcVar1;
  int iVar2;
  longlong lVar3;
  LPARAM lParam;
  float local_8;
  
  pcVar1 = *(code **)(**(int **)(param_1 + 4) + 0x50);
  (*(code *)PTR_guard_check_icall_00427678)(*(int **)(param_1 + 4),&local_8);
  iVar2 = (*pcVar1)();
  if ((-1 < iVar2) && (local_8 != *(float *)(param_1 + 100))) {
    lParam = 0;
    *(float *)(param_1 + 100) = local_8;
    lVar3 = FUN_00420dd0();
    PostMessageW(*(HWND *)(*(int *)(param_1 + 0x14) + 4),0x41d,(WPARAM)lVar3,lParam);
  }
  return 0;
}



/* Function: FUN_00415a91 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 * __fastcall FUN_00415a91(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_004016c8;
  param_1[1] = &PTR_FUN_004016b4;
  param_1[2] = 0;
  FUN_0040d3bf((LPCRITICAL_SECTION)(param_1 + 3));
  param_1[9] = 0;
  param_1[10] = 0;
  param_1[0xb] = 0;
  param_1[0xc] = 0;
  param_1[0xd] = 0;
  param_1[0xe] = 1;
  LOCK();
  _DAT_00425ae4 = _DAT_00425ae4 + 1;
  UNLOCK();
  return param_1;
}



/* Function: FUN_00415af0 */

int * __thiscall FUN_00415af0(void *this,byte param_1)

{
  FUN_00415b18((int *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (int *)this;
}



/* Function: FUN_00415b18 */

void __fastcall FUN_00415b18(int *param_1)

{
  code *pcVar1;
  int *piVar2;
  int iVar3;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_004217fc;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = (int)&PTR_FUN_004016c8;
  param_1[1] = (int)&PTR_FUN_004016b4;
  local_14 = param_1;
  FUN_00415dbe((int)param_1);
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 3));
  iVar3 = FUN_0040caa8(param_1 + 9,(int *)&local_14);
  piVar2 = local_14;
  while (local_14 = piVar2, iVar3 != 0) {
    FUN_00414cab((int)piVar2);
    pcVar1 = *(code **)(*piVar2 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar2);
    (*pcVar1)();
    iVar3 = FUN_0040caa8(param_1 + 9,(int *)&local_14);
    piVar2 = local_14;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 3));
  DeleteCriticalSection((LPCRITICAL_SECTION)(param_1 + 3));
  ~CComPtr<>(param_1 + 2);
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00415bd0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_00415bd0(int param_1)

{
  int *piVar1;
  int iVar2;
  
  LOCK();
  _DAT_00425ae4 = _DAT_00425ae4 + 1;
  UNLOCK();
  LOCK();
  piVar1 = (int *)(param_1 + 0x38);
  iVar2 = *piVar1;
  *piVar1 = *piVar1 + 1;
  UNLOCK();
  return iVar2 + 1;
}



/* Function: FUN_00415c00 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_00415c00(int *param_1)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  
  LOCK();
  piVar1 = param_1 + 0xe;
  iVar2 = *piVar1;
  *piVar1 = *piVar1 + -1;
  UNLOCK();
  LOCK();
  _DAT_00425ae4 = _DAT_00425ae4 + -1;
  UNLOCK();
  if ((iVar2 + -1 == 0) && (param_1 != (int *)0x0)) {
    pcVar3 = *(code **)(*param_1 + 0x10);
    (*(code *)PTR_guard_check_icall_00427678)(1);
    (*pcVar3)();
  }
  return iVar2 + -1;
}



/* Function: FUN_00415c45 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

int FUN_00415c45(int *param_1)

{
  int *piVar1;
  code *pcVar2;
  void *this;
  int iVar3;
  int iVar4;
  int local_20;
  undefined4 *local_1c;
  int *local_18;
  undefined4 *local_14 [3];
  undefined1 local_8;
  undefined3 uStack_7;
  undefined4 uStack_4;
  
  this = DAT_00425aec;
  uStack_4 = 0x10;
  local_1c = (undefined4 *)0x0;
  local_18 = (int *)0x0;
  local_8 = 1;
  uStack_7 = 0;
  pcVar2 = *(code **)(*param_1 + 0xc);
  (*(code *)PTR_guard_check_icall_00427678)(param_1,&DAT_00402d34,0x17,0,&local_1c);
  iVar3 = (*pcVar2)();
  if (-1 < iVar3) {
    piVar1 = (int *)((int)this + 8);
    if ((undefined4 *)*piVar1 != local_1c) {
      FUN_0040eeb3(piVar1,local_1c,&DAT_0040303c);
    }
    pcVar2 = *(code **)(*(int *)*piVar1 + 0x18);
    (*(code *)PTR_guard_check_icall_00427678)((int *)*piVar1,this);
    iVar3 = (*pcVar2)();
    if (-1 < iVar3) {
      *(undefined4 *)((int)this + 0x30) = 1;
      pcVar2 = *(code **)(*(int *)*piVar1 + 0x20);
      (*(code *)PTR_guard_check_icall_00427678)
                ((int *)*piVar1,0,-(uint)(this != (void *)0x0) & (int)this + 4U);
      iVar3 = (*pcVar2)();
      if (-1 < iVar3) {
        *(undefined4 *)((int)this + 0x34) = 1;
        pcVar2 = *(code **)(*(int *)*piVar1 + 0x14);
        (*(code *)PTR_guard_check_icall_00427678)((int *)*piVar1,&local_18);
        iVar3 = (*pcVar2)();
        if (-1 < iVar3) {
          pcVar2 = *(code **)(*local_18 + 0xc);
          (*(code *)PTR_guard_check_icall_00427678)(local_18,&local_20);
          iVar3 = (*pcVar2)();
          if (-1 < iVar3) {
            EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 0xc));
            iVar4 = 0;
            if (0 < local_20) {
              do {
                local_14[0] = (undefined4 *)0x0;
                local_8 = 2;
                pcVar2 = *(code **)(*local_18 + 0x10);
                (*(code *)PTR_guard_check_icall_00427678)(local_18,iVar4,local_14);
                iVar3 = (*pcVar2)();
                if (iVar3 < 0) {
                  ~CComPtr<>((int *)local_14);
                  break;
                }
                FUN_00415e92(this,local_14[0]);
                local_8 = 1;
                ~CComPtr<>((int *)local_14);
                iVar4 = iVar4 + 1;
              } while (iVar4 < local_20);
            }
            LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 0xc));
          }
        }
      }
    }
  }
  ~CComPtr<>((int *)&local_18);
  ~CComPtr<>((int *)&local_1c);
  return iVar3;
}



/* Function: FUN_00415dbe */

void __fastcall FUN_00415dbe(int param_1)

{
  int *piVar1;
  code *pcVar2;
  int iVar3;
  
  piVar1 = *(int **)(param_1 + 8);
  if (piVar1 != (int *)0x0) {
    if (*(int *)(param_1 + 0x30) != 0) {
      pcVar2 = *(code **)(*piVar1 + 0x1c);
      (*(code *)PTR_guard_check_icall_00427678)(piVar1,param_1);
      iVar3 = (*pcVar2)();
      if (iVar3 == 0) {
        *(undefined4 *)(param_1 + 0x30) = 0;
      }
    }
    if (*(int *)(param_1 + 0x34) != 0) {
      pcVar2 = *(code **)(**(int **)(param_1 + 8) + 0x24);
      (*(code *)PTR_guard_check_icall_00427678)
                (*(int **)(param_1 + 8),-(uint)(param_1 != 0) & param_1 + 4U);
      iVar3 = (*pcVar2)();
      if (iVar3 == 0) {
        *(int *)(param_1 + 0x34) = 0;
      }
    }
  }
  return;
}



/* Function: FUN_00415e1f */

APOHandle * FUN_00415e1f(void)

{
  LPCRITICAL_SECTION lpCriticalSection;
  code *pcVar1;
  TList<struct_APOHandle> *this;
  int iVar2;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  APOHandle *pAVar3;
  void *local_c;
  APOHandle *local_8;
  
  iVar2 = DAT_00425aec;
  local_8 = (APOHandle *)0x0;
  lpCriticalSection = (LPCRITICAL_SECTION)(DAT_00425aec + 0xc);
  EnterCriticalSection(lpCriticalSection);
  local_c = *(void **)(iVar2 + 0x24);
  this = extraout_ECX;
  do {
    pAVar3 = (APOHandle *)0x0;
    if (local_c == (void *)0x0) {
LAB_00415e7e:
      LeaveCriticalSection(lpCriticalSection);
      return pAVar3;
    }
    TList<struct_APOHandle>::GetNext(this,&local_c,&local_8);
    pAVar3 = local_8;
    if ((local_8 != (APOHandle *)0x0) && (*(int *)(local_8 + 0x50) != 0)) {
      pcVar1 = *(code **)(*(int *)local_8 + 4);
      (*(code *)PTR_guard_check_icall_00427678)(local_8);
      (*pcVar1)();
      goto LAB_00415e7e;
    }
    local_8 = (APOHandle *)0x0;
    this = extraout_ECX_00;
  } while( true );
}



/* Function: FUN_00415e92 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

DWORD __thiscall FUN_00415e92(void *this,undefined4 *param_1)

{
  code *pcVar1;
  int *piVar2;
  DWORD DVar3;
  void *this_00;
  int *wParam;
  uint local_1c;
  int *local_18;
  int *local_14 [3];
  int local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x10;
  local_14[0] = (int *)0x0;
  local_8 = 0;
  local_18 = (int *)this;
  if (param_1 != (undefined4 *)0x0) {
    FUN_0040eeb3((int *)local_14,param_1,&LAB_0040301c);
    if (local_14[0] != (int *)0x0) {
      pcVar1 = *(code **)(*local_14[0] + 0x4c);
      (*(code *)PTR_guard_check_icall_00427678)(local_14[0],&local_1c);
      DVar3 = (*pcVar1)();
      if ((-1 < (int)DVar3) && ((local_1c & 0x20000000) == 0)) {
        this_00 = (void *)FUN_0041f39d(0x7c);
        piVar2 = local_18;
        local_8._0_1_ = 1;
        if (this_00 == (void *)0x0) {
          wParam = (int *)0x0;
        }
        else {
          wParam = FUN_00414b1d(this_00,param_1,local_18);
        }
        local_8 = (uint)local_8._1_3_ << 8;
        if (wParam == (int *)0x0) {
          DVar3 = 0x8007000e;
        }
        else {
          DVar3 = FUN_00415055(wParam);
          if ((-1 < (int)DVar3) && (wParam[0x16] == 0)) {
            EnterCriticalSection((LPCRITICAL_SECTION)(piVar2 + 3));
            if (wParam[0x14] == 0) {
              local_18 = FUN_00416150(piVar2 + 9,wParam);
            }
            else {
              local_18 = FUN_0040ca2b(piVar2 + 9,(int)wParam);
            }
            LeaveCriticalSection((LPCRITICAL_SECTION)(piVar2 + 3));
            if (local_18 == (int *)0x0) {
              DVar3 = 0x8007000e;
            }
            else {
              pcVar1 = *(code **)(*wParam + 4);
              (*(code *)PTR_guard_check_icall_00427678)(wParam);
              (*pcVar1)();
              if ((wParam[0x13] != 2) && ((wParam[0x17] & 0x200000U) == 0)) {
                pcVar1 = *(code **)(*wParam + 4);
                (*(code *)PTR_guard_check_icall_00427678)(wParam);
                (*pcVar1)();
                PostMessageW(DAT_00425a3c,0x415,(WPARAM)wParam,0);
              }
            }
          }
          pcVar1 = *(code **)(*wParam + 8);
          (*(code *)PTR_guard_check_icall_00427678)(wParam);
          (*pcVar1)();
        }
      }
      goto LAB_00415fdb;
    }
  }
  DVar3 = 0x80004002;
LAB_00415fdb:
  ~CComPtr<>((int *)local_14);
  return DVar3;
}



/* Function: FUN_00415ff3 */

undefined4 __thiscall FUN_00415ff3(void *this,int *param_1)

{
  code *pcVar1;
  int *piVar2;
  
  pcVar1 = *(code **)(*param_1 + 4);
  (*(code *)PTR_guard_check_icall_00427678)(param_1);
  (*pcVar1)();
  PostMessageW(DAT_00425a3c,0x416,(WPARAM)param_1,0);
  EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 0xc));
  piVar2 = *(int **)((int)this + 0x24);
  do {
    if (piVar2 == (int *)0x0) {
LAB_0041605a:
      LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 0xc));
      return 0;
    }
    if ((int *)piVar2[2] == param_1) {
      if (piVar2 != (int *)0x0) {
        FUN_0040caf1((undefined4 *)((int)this + 0x24),piVar2);
        QueueUserWorkItem(FUN_00414af0,param_1,0);
      }
      goto LAB_0041605a;
    }
    piVar2 = (int *)*piVar2;
  } while( true );
}



/* Function: FUN_00416070 */

undefined4 FUN_00416070(undefined4 param_1,int *param_2)

{
  code *pcVar1;
  
  pcVar1 = *(code **)(*param_2 + 4);
  (*(code *)PTR_guard_check_icall_00427678)(param_2);
  (*pcVar1)();
  PostMessageW(DAT_00425a3c,0x414,(WPARAM)param_2,0);
  return 0;
}



/* Function: FUN_004160b0 */

undefined4 FUN_004160b0(undefined4 param_1,undefined4 param_2,LPARAM param_3)

{
  PostMessageW(DAT_00425a3c,0x41e,1,param_3);
  return 0;
}



/* Function: FUN_004160e0 */

undefined4 FUN_004160e0(void)

{
  PostMessageW(DAT_00425a3c,0x41e,0,0);
  return 0;
}



/* Function: FUN_00416100 */

undefined4 * __thiscall FUN_00416100(void *this,undefined4 *param_1)

{
  undefined4 uVar1;
  LPVOID pv;
  DWORD dwErrCode;
  
  if ((undefined4 *)this != param_1) {
    uVar1 = *param_1;
                    /* WARNING: Load size is inaccurate */
    pv = *this;
    if (pv != (LPVOID)0x0) {
      dwErrCode = GetLastError();
      CoTaskMemFree(pv);
      SetLastError(dwErrCode);
    }
    *(undefined4 *)this = uVar1;
    *param_1 = 0;
  }
  return (undefined4 *)this;
}



/* Function: FUN_00416150 */

undefined4 * __thiscall FUN_00416150(void *this,undefined4 param_1)

{
  undefined4 *puVar1;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  puVar1 = (undefined4 *)FUN_0041f39d(0xc);
  if (puVar1 == (undefined4 *)0x0) {
    puVar1 = (undefined4 *)0x0;
  }
  else {
    *puVar1 = 0;
    puVar1[1] = 0;
    puVar1[2] = param_1;
    puVar1[1] = *(undefined4 *)((int)this + 4);
    if (*(undefined4 **)((int)this + 4) == (undefined4 *)0x0) {
      *(undefined4 **)this = puVar1;
    }
    else {
      **(undefined4 **)((int)this + 4) = puVar1;
    }
    *(int *)((int)this + 8) = *(int *)((int)this + 8) + 1;
    *(undefined4 **)((int)this + 4) = puVar1;
  }
  ExceptionList = local_10;
  return puVar1;
}



/* Function: FUN_004161d0 */

void FUN_004161d0(int param_1)

{
  FUN_00415bd0(param_1 + -4);
  return;
}



/* Function: FUN_004161e0 */

void FUN_004161e0(int param_1,undefined4 param_2,undefined4 *param_3)

{
  FUN_00414ad0(param_1 + -4,param_2,param_3);
  return;
}



/* Function: FUN_004161f0 */

void FUN_004161f0(int param_1)

{
  FUN_00415c00((int *)(param_1 + -4));
  return;
}



/* Function: FUN_00416200 */

void __fastcall FUN_00416200(undefined4 param_1)

{
  code *pcVar1;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_00406f58(param_1,0xdaf);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_00416242 */

undefined4 * __thiscall FUN_00416242(void *this,int param_1)

{
  code *pcVar1;
  undefined2 *puVar2;
  undefined4 *puVar3;
  undefined4 unaff_retaddr;
  
  if (param_1 != -1) {
    puVar2 = (undefined2 *)CoTaskMemAlloc(param_1 * 2 + 2);
    if (puVar2 != (undefined2 *)0x0) {
      *puVar2 = 0;
      puVar2[param_1] = 0;
    }
    *(undefined2 **)this = puVar2;
    return (undefined4 *)this;
  }
  FUN_00416200(unaff_retaddr);
  pcVar1 = (code *)swi(3);
  puVar3 = (undefined4 *)(*pcVar1)();
  return puVar3;
}



/* Function: FUN_0041628a */

void __fastcall FUN_0041628a(int *param_1)

{
  if (*param_1 != 0) {
    CoTaskMemFree((LPVOID)*param_1);
  }
  return;
}



/* Function: FUN_0041629e */

void __fastcall FUN_0041629e(int *param_1)

{
  if (*param_1 != 0) {
    CoTaskMemFree((LPVOID)*param_1);
    *param_1 = 0;
  }
  return;
}



/* Function: FUN_004162c0 */

bool __fastcall
FUN_004162c0(undefined4 *param_1,undefined4 param_2,undefined4 param_3,int param_4,HDC param_5,
            int *param_6,undefined4 *param_7,int param_8)

{
  undefined4 uVar1;
  int *piVar2;
  undefined4 *extraout_ECX;
  undefined4 *extraout_ECX_00;
  undefined4 *puVar3;
  undefined4 extraout_EDX;
  undefined8 uVar4;
  int local_14;
  int *local_10;
  int *local_c;
  
  if (param_8 == 0) {
    if (param_4 == 0x14) {
      local_14 = 1;
      uVar1 = FUN_0041cb5d(param_1,param_1,param_5,param_1,&local_14);
      *param_7 = uVar1;
      if (local_14 != 0) {
        return true;
      }
    }
    else if (param_4 == 0x4e) {
      local_10 = param_6 + 2;
      puVar3 = param_1;
      local_c = local_10;
      if (*local_10 == -0xc) {
        local_14 = 1;
        uVar4 = FUN_004163e6(param_1,(int)param_5,param_6,&local_14);
        param_2 = (undefined4)((ulonglong)uVar4 >> 0x20);
        *param_7 = (int)uVar4;
        puVar3 = param_7;
        if (local_14 != 0) {
          return true;
        }
      }
      local_10 = param_6 + 2;
      piVar2 = local_10;
      if (*local_10 == -0x2cf) {
        local_14 = 1;
        uVar1 = FUN_0041ca15(param_1,puVar3,param_6,&local_14);
        *param_7 = uVar1;
        piVar2 = local_c;
        puVar3 = extraout_ECX;
        param_2 = extraout_EDX;
        if (local_14 != 0) {
          return true;
        }
      }
      if (*piVar2 == -0x209) {
        local_14 = 1;
        uVar4 = FUN_0041ca5e(param_1,param_2,(int)param_5,puVar3,&local_14);
        param_2 = (undefined4)((ulonglong)uVar4 >> 0x20);
        *param_7 = (int)uVar4;
        puVar3 = extraout_ECX_00;
        if (local_14 != 0) {
          return true;
        }
      }
      if (*local_10 == -0x20a) {
        local_14 = 1;
        uVar1 = FUN_0041cad0((int)param_1,param_2,(int)param_5,puVar3,&local_14);
        *param_7 = uVar1;
        return local_14 != 0;
      }
    }
  }
  return false;
}



/* Function: FUN_004163e6 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall FUN_004163e6(void *this,int param_1,undefined4 *param_2,undefined4 *param_3)

{
  HDC hdc;
  HWND hWnd;
  int iVar1;
  HBRUSH pHVar2;
  uint uVar3;
  BOOL BVar4;
  HRESULT HVar5;
  HWND hWnd_00;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined4 extraout_EDX_04;
  undefined4 uVar6;
  RECT local_2c;
  int local_1c;
  int local_18;
  undefined8 local_14;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  iVar1 = GetDlgCtrlID(*(HWND *)((int)this + 4));
  uVar6 = extraout_EDX;
  if (param_1 == iVar1) {
    iVar1 = param_2[3];
    if ((HWND)*param_2 == *(HWND *)((int)this + 0x48)) {
      if ((iVar1 == 1) && (*(int *)((int)this + 0x44) != 0)) {
        uVar3 = GetWindowLongW(*(HWND *)((int)this + 0x48),-0x10);
        SetWindowLongW(*(HWND *)((int)this + 0x48),-0x10,uVar3 | 0x40000);
        uVar6 = extraout_EDX_04;
      }
    }
    else if (iVar1 == 1) {
      hdc = (HDC)param_2[4];
      if (*(char *)((int)this + 100) == '\0') {
        BVar4 = IsThemeActive();
        if ((BVar4 == 0) ||
           (HVar5 = DrawThemeParentBackgroundEx
                              (*(HWND *)((int)this + 4),hdc,4,(RECT *)(param_2 + 5)),
           uVar6 = extraout_EDX_02, HVar5 != 0)) {
          hWnd = *(HWND *)((int)this + 4);
          hWnd_00 = GetParent(hWnd);
          pHVar2 = (HBRUSH)SendMessageW(hWnd_00,0x138,(WPARAM)hdc,(LPARAM)hWnd);
          FillRect(hdc,(RECT *)(param_2 + 5),pHVar2);
          uVar6 = extraout_EDX_03;
        }
      }
      else {
        pHVar2 = GetSysColorBrush(5);
        FillRect(hdc,(RECT *)(param_2 + 5),pHVar2);
        local_14 = 0;
        GetUserColorPreference(&local_14,0);
        uVar3 = GetColorFromPreference(&local_14,4,0,1);
        pHVar2 = CreateSolidBrush(((uVar3 >> 0x10 & 0xff) << 8 | (uVar3 & 0xffff) >> 8) << 8 |
                                  uVar3 & 0xff);
        local_2c.right = 0;
        local_2c.bottom = 0;
        local_2c.left = (LONG)((DAT_00425568 * _DAT_0040366c) / DAT_00403670);
        local_2c.top = local_2c.left;
        FillRect(hdc,&local_2c,pHVar2);
        DeleteObject(pHVar2);
        uVar6 = extraout_EDX_01;
      }
    }
    else if ((iVar1 != 0x10001) && (iVar1 == 0x10002)) {
      SendMessageW(*(HWND *)((int)this + 4),0x41d,0,(LPARAM)&local_1c);
      ImageList_Draw(*(HIMAGELIST *)((int)this + 0x3c),*(int *)((int)this + 0x38),(HDC)param_2[4],
                     ((local_14._4_4_ - *(int *)((int)this + 0x30)) - local_18) / 2 + local_18,
                     (((int)local_14 - *(int *)((int)this + 0x30)) - local_1c) / 2 + local_1c,
                     *(int *)((int)this + 0x34) << 8 | 1);
      uVar6 = extraout_EDX_00;
    }
  }
  else {
    *param_3 = 0;
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,uVar6);
  return;
}



/* Function: FUN_004165e7 */

void __fastcall FUN_004165e7(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00401720;
  FUN_0041c758(param_1);
  return;
}



/* Function: FUN_00416600 */

undefined4 * __thiscall FUN_00416600(void *this,byte param_1)

{
  *(undefined ***)this = &PTR_FUN_00401720;
  FUN_0041c758((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_00416630 */

bool __fastcall
FUN_00416630(void *param_1,undefined4 param_2,undefined4 param_3,int param_4,HDC param_5,
            int *param_6,undefined4 *param_7,int param_8)

{
  code *pcVar1;
  undefined4 uVar2;
  int iVar3;
  HBRUSH pHVar4;
  undefined4 extraout_ECX;
  void *local_8;
  
  if (param_8 != 0) {
    return false;
  }
  if (param_4 == 0x110) {
    local_8 = (void *)0x1;
    uVar2 = FUN_00416d8b(param_1);
LAB_00416776:
    *param_7 = uVar2;
    if (local_8 != (void *)0x0) {
      return true;
    }
  }
  else {
    uVar2 = 2;
    local_8 = param_1;
    if (param_4 == 2) {
      if (*(UINT_PTR *)((int)param_1 + 0x2b4) != 0) {
        KillTimer(*(HWND *)((int)param_1 + 4),*(UINT_PTR *)((int)param_1 + 0x2b4));
      }
LAB_00416683:
      *param_7 = 0;
      return true;
    }
    if (param_4 == 0x115) {
      pHVar4 = (HBRUSH)FUN_00417653(param_1,1,(short)param_5);
      goto LAB_004166a5;
    }
    if (param_4 != 0x111) {
      if ((param_4 == 0x136) || (param_4 == 0x138)) {
        pHVar4 = GetSysColorBrush(5);
        goto LAB_004166a5;
      }
      if (param_4 == 0x40a) {
        *(undefined4 *)((int)param_1 + 0x50) = 1;
        FUN_00416c3a(param_1,1,0);
        FUN_004173bc((int)param_1);
        *param_7 = 0;
        return true;
      }
      if (param_4 == 0xf) {
        local_8 = (void *)0x1;
        uVar2 = FUN_00417319(param_1,1,param_5,1,&local_8);
      }
      else if (param_4 == 0x14) {
        local_8 = (void *)0x1;
        uVar2 = FUN_00417297(param_1,1,param_5,1,&local_8);
      }
      else {
        if (param_4 == 0x436) {
          *(undefined4 *)((int)param_1 + 0x50) = 0;
          FUN_00416c3a(param_1,0,0);
          FUN_004173bc((int)param_1);
          SendMessageW(DAT_00425a3c,0x436,(WPARAM)param_1,0);
          *param_7 = 0;
          return true;
        }
        if (param_4 == 0x417) {
          pHVar4 = (HBRUSH)FUN_00417a83(param_1,1,(int)param_5,param_6);
          goto LAB_004166a5;
        }
        if (param_4 == 0x418) {
          pHVar4 = (HBRUSH)FUN_0041777d(param_1,1,(int)param_5,(uint)param_6);
          goto LAB_004166a5;
        }
        if (param_4 == 0x41a) {
          pHVar4 = (HBRUSH)FUN_0041782c((int)param_1,param_2,1,(byte)param_5,param_6);
          goto LAB_004166a5;
        }
        if (param_4 == 0x41c) {
          if ((param_5 != (HDC)0x0) &&
             (iVar3 = FUN_004155a1(*(void **)((int)param_1 + 0x20),(int *)((int)param_1 + 0x2b8)),
             -1 < iVar3)) {
            uVar2 = 0;
            if (*(int *)((int)param_1 + 0x2b8) != param_5->unused) {
              param_5->unused = *(int *)((int)param_1 + 0x2b8);
              uVar2 = 1;
            }
          }
          *param_7 = uVar2;
          return true;
        }
        if (param_4 == 0x420) {
          PostMessageW(DAT_00425a3c,0x420,(WPARAM)param_5,(LPARAM)param_6);
          goto LAB_00416683;
        }
        if (param_4 != 0x31e) goto LAB_00416890;
        local_8 = (void *)0x1;
        uVar2 = FUN_004182d2(param_1);
      }
      goto LAB_00416776;
    }
    if (param_5 == (HDC)0x191) {
      pHVar4 = (HBRUSH)FUN_00417510((int)param_1);
      goto LAB_004166a5;
    }
    if (param_5 == (HDC)0x131) {
      pHVar4 = (HBRUSH)FUN_004175f1(param_1);
      goto LAB_004166a5;
    }
  }
LAB_00416890:
  pcVar1 = (code *)**(undefined4 **)((int)param_1 + 0x194);
  (*(code *)PTR_guard_check_icall_00427678)(param_3,param_4,param_5,param_6,param_7,0);
  iVar3 = (*pcVar1)();
  if (iVar3 != 0) {
    return true;
  }
  pcVar1 = (code *)**(undefined4 **)((int)param_1 + 0x130);
  (*(code *)PTR_guard_check_icall_00427678)(param_3,param_4,param_5,param_6,param_7,0);
  iVar3 = (*pcVar1)();
  if (iVar3 != 0) {
    return true;
  }
  if (param_4 != 0x113) {
    if ((param_4 == 0x4e) && (param_6[2] == -0x212)) {
      local_8 = (void *)0x1;
      uVar2 = FUN_00417ea2(param_1,(int)param_5,(int)param_6,&local_8);
      *param_7 = uVar2;
      return local_8 != (void *)0x0;
    }
    return false;
  }
  pHVar4 = (HBRUSH)FUN_00417b97(param_1,extraout_ECX,(int)param_5);
LAB_004166a5:
  *param_7 = pHVar4;
  return true;
}



/* Function: FUN_0041694d */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 * __thiscall FUN_0041694d(void *this,int param_1)

{
  code *pcVar1;
  int iVar2;
  undefined4 uVar3;
  undefined1 local_11;
  
  *(undefined4 *)((int)this + 4) = 0;
  *(undefined4 *)((int)this + 0x14) = 0;
  *(undefined4 *)((int)this + 0x18) = 0;
  *(undefined4 *)((int)this + 0x1c) = 0;
  *(undefined ***)this = &PTR_FUN_00401710;
  *(int *)((int)this + 0x20) = param_1;
  *(int *)((int)this + 0x24) = param_1;
  *(int *)((int)this + 0x28) = param_1;
  FUN_0040d3bf((LPCRITICAL_SECTION)((int)this + 0x2c));
  *(undefined4 *)((int)this + 0x44) = 0;
  *(undefined4 *)((int)this + 0x48) = 0;
  *(undefined4 *)((int)this + 0x4c) = 0;
  *(undefined4 *)((int)this + 0x5c) = 0;
  *(undefined4 *)((int)this + 0x50) = 0;
  *(undefined4 *)((int)this + 0x54) = 0;
  *(undefined4 *)((int)this + 0x58) = 0;
  *(undefined4 *)((int)this + 100) = 0;
  *(undefined4 *)((int)this + 0x60) = 0xbf800000;
  FUN_0041d4d5((undefined4 *)((int)this + 0x68));
  FUN_0041c6b6((void *)((int)this + 0x130),DAT_00425a98);
  if ((*(int *)(param_1 + 0x54) == 0) || (local_11 = 1, *(int *)(param_1 + 0x50) != 0)) {
    local_11 = 0;
  }
  FUN_0041c6b6((undefined4 *)((int)this + 0x194),DAT_00425a98);
  *(undefined4 *)((int)this + 0x194) = &PTR_FUN_00401720;
  *(undefined1 *)((int)this + 0x1f8) = local_11;
  FUN_0041b420((undefined4 *)((int)this + 0x1fc));
  FUN_0041ba34((undefined4 *)((int)this + 600));
  uVar3 = DAT_00425a94;
  *(undefined4 *)((int)this + 0x29c) = 0;
  *(undefined4 *)((int)this + 0x2a0) = 0;
  *(undefined4 *)((int)this + 0x2a4) = DAT_0040304c;
  *(undefined4 *)((int)this + 0x2a8) = DAT_00403050;
  *(undefined4 *)((int)this + 0x2ac) = DAT_00403054;
  *(undefined4 *)((int)this + 0x2b0) = DAT_00403058;
  *(undefined4 *)((int)this + 0x2c0) = uVar3;
  *(undefined4 *)((int)this + 0x2b4) = 0;
  *(undefined4 *)((int)this + 0x2b8) = 0;
  *(undefined4 *)((int)this + 700) = 0;
  *(undefined4 *)((int)this + 0x2c4) = 0;
  *(undefined4 *)((int)this + 0x2c8) = 1;
  pcVar1 = *(code **)(**(int **)((int)this + 0x20) + 4);
  (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)this + 0x20));
  (*pcVar1)();
  LOCK();
  _DAT_00425b00 = _DAT_00425b00 + 1;
  UNLOCK();
  iVar2 = *(int *)((int)this + 0x20);
  *(undefined4 *)((int)this + 0x2a4) = *(undefined4 *)(iVar2 + 0x68);
  *(undefined4 *)((int)this + 0x2a8) = *(undefined4 *)(iVar2 + 0x6c);
  *(undefined4 *)((int)this + 0x2ac) = *(undefined4 *)(iVar2 + 0x70);
  *(undefined4 *)((int)this + 0x2b0) = *(undefined4 *)(iVar2 + 0x74);
  FUN_00416150((undefined4 *)((int)this + 0x44),param_1);
  return (undefined4 *)this;
}



/* Function: FUN_00416ab0 */

int * __thiscall FUN_00416ab0(void *this,byte param_1)

{
  FUN_00416ad8((int *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (int *)this;
}



/* Function: FUN_00416ad8 */

void __fastcall FUN_00416ad8(int *param_1)

{
  code *pcVar1;
  int *piVar2;
  int iVar3;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421c6d;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = (int)&PTR_FUN_00401710;
  local_14 = param_1;
  IsWindow((HWND)param_1[1]);
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0xb));
  iVar3 = FUN_0040caa8(param_1 + 0x11,(int *)&local_14);
  piVar2 = local_14;
  while (local_14 = piVar2, iVar3 != 0) {
    piVar2[5] = 0;
    FUN_00414f4e((int)piVar2);
    pcVar1 = *(code **)(*piVar2 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar2);
    (*pcVar1)();
    iVar3 = FUN_0040caa8(param_1 + 0x11,(int *)&local_14);
    piVar2 = local_14;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0xb));
  param_1[8] = 0;
  if ((LPVOID)param_1[0xa8] != (LPVOID)0x0) {
    CoTaskMemFree((LPVOID)param_1[0xa8]);
    param_1[0xa8] = 0;
  }
  param_1[0x96] = (int)&PTR_FUN_004017bc;
  FUN_0041b498(param_1 + 0x7f);
  param_1[0x65] = (int)&PTR_FUN_00401720;
  FUN_0041c758(param_1 + 0x65);
  FUN_0041c758(param_1 + 0x4c);
  local_8 = 0;
  if (param_1[0x1f] != 0) {
    FUN_0041abac((int *)param_1[0x1f]);
  }
  DeleteCriticalSection((LPCRITICAL_SECTION)(param_1 + 0xb));
  local_8 = 1;
  if (param_1[5] != 0) {
    FUN_0041abac((int *)param_1[5]);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00416bf9 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int __fastcall FUN_00416bf9(int *param_1)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  
  LOCK();
  piVar1 = param_1 + 0xb2;
  iVar2 = *piVar1;
  *piVar1 = *piVar1 + -1;
  UNLOCK();
  LOCK();
  _DAT_00425b00 = _DAT_00425b00 + -1;
  UNLOCK();
  if ((iVar2 + -1 == 0) && (param_1 != (int *)0x0)) {
    pcVar3 = *(code **)(*param_1 + 4);
    (*(code *)PTR_guard_check_icall_00427678)(1);
    (*pcVar3)();
  }
  return iVar2 + -1;
}



/* Function: FUN_00416c3a */

/* WARNING: Function: __EH_prolog3_catch replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void __thiscall FUN_00416c3a(void *this,int param_1,int param_2)

{
  undefined4 *puVar1;
  int iVar2;
  uint uVar3;
  undefined4 extraout_EDX;
  HICON pHVar4;
  int local_1c;
  LPVOID local_18 [4];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x1c;
  pHVar4 = DAT_00425ad4;
  if (param_1 != 0) {
    pHVar4 = DAT_00425ad8;
  }
  if ((param_1 != *(int *)((int)this + 0x54)) || (param_2 != 0)) {
    local_8 = 0;
    local_18[0] = this;
    FUN_0040ce33(&local_1c,(int *)&PTR_PTR_00425384);
    local_8._0_1_ = 1;
    local_8._1_3_ = 0;
    FUN_0041c8af((int)this + 0x130,extraout_EDX,pHVar4);
    puVar1 = (undefined4 *)((int)local_18[0] + 0x24);
    if ((void *)*puVar1 != (void *)0x0) {
      local_18[0] = (LPVOID)0x0;
      local_8._0_1_ = 2;
      iVar2 = FUN_00415566((void *)*puVar1,local_18);
      if (-1 < iVar2) {
        local_8 = CONCAT31(local_8._1_3_,3);
        uVar3 = 0x1f5;
        if (param_1 != 0) {
          uVar3 = 0x1fc;
        }
        FUN_0041039c(&local_1c,uVar3);
        local_8 = 2;
        FUN_00416d16();
        return;
      }
      if (local_18[0] != (LPVOID)0x0) {
        CoTaskMemFree(local_18[0]);
      }
    }
    *(int *)((int)this + 0x54) = param_1;
    FUN_0040d028((undefined4 *)(local_1c + -0x10));
  }
  return;
}



/* Function: Catch@00416ce7 */

undefined * Catch_00416ce7(void)

{
  int *piVar1;
  int unaff_EBP;
  
  piVar1 = *(int **)(unaff_EBP + -0x28);
  if (*piVar1 == -0x3fffff03) {
    _resetstkoflw();
  }
  *(int *)(unaff_EBP + -0x1c) = *piVar1;
  return &DAT_00416d03;
}



/* Function: FUN_00416d16 */

/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void FUN_00416d16(void)

{
  int iVar1;
  int unaff_EBP;
  undefined4 unaff_ESI;
  void *unaff_EDI;
  
  FUN_0041c9d5(unaff_EDI,*(short **)(unaff_EBP + -0x18));
  if (*(int *)(unaff_EBP + -0x14) != 0) {
    CoTaskMemFree(*(LPVOID *)(unaff_EBP + -0x14));
  }
  iVar1 = *(int *)(unaff_EBP + -0x18);
  **(undefined4 **)(unaff_EBP + -0x24) = unaff_ESI;
  FUN_0040d028((undefined4 *)(iVar1 + -0x10));
  return;
}



/* Function: FUN_00416d4d */

void __thiscall FUN_00416d4d(void *this,int param_1)

{
  int lParam;
  
  lParam = 0;
  if ((*(int *)((int)this + 0x58) != 0) || (*(int *)((int)this + 0x50) != 0)) {
    lParam = 1;
  }
  FUN_00416c3a(this,lParam,param_1);
  SendMessageW(*(HWND *)((int)this + 0x6c),0x432,1,lParam);
  return;
}



/* Function: FUN_00416d8b */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall FUN_00416d8b(void *this)

{
  void *pvVar1;
  HICON pHVar2;
  int *piVar3;
  code *pcVar4;
  void *this_00;
  LSTATUS LVar5;
  HWND pHVar6;
  uint uVar7;
  int iVar8;
  HRESULT HVar9;
  UINT_PTR UVar10;
  undefined4 extraout_EDX;
  float fVar11;
  float fVar12;
  undefined4 *in_stack_00000010;
  int local_20 [2];
  void *local_18;
  int *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x10;
  local_14[0] = (int *)0x0;
  local_8 = 0;
  local_18 = this;
  FUN_00418240((int)this);
  local_20[1] = 4;
  LVar5 = RegGetValueW((HKEY)0x80000001,L"Software\\Microsoft\\Multimedia\\Audio\\SndVol",
                       L"SndVolAppThumbnails",0x18,(LPDWORD)0x0,local_20,(LPDWORD)(local_20 + 1));
  if ((LVar5 == 0) && (local_20[0] != 0)) {
    *(undefined4 *)((int)this + 0x2c0) = 1;
  }
  if (((*(int *)((int)this + 0x29c) == 0) && (*(int *)(*(int *)((int)this + 0x20) + 0x50) == 0)) &&
     (*(int *)((int)this + 0x2c0) == 0)) {
    *(undefined4 *)((int)this + 0x2c4) = 1;
  }
  pHVar6 = GetDlgItem(*(HWND *)((int)this + 4),0x12d);
  FUN_0040d355((void *)((int)this + 0x1fc),pHVar6);
  FUN_0041b50c((int)this + 0x1fc);
  pHVar6 = GetDlgItem(*(HWND *)((int)this + 4),0x130);
  FUN_0040d355((void *)((int)this + 0x68),pHVar6);
  FUN_0041d551((int)this + 0x68);
  pvVar1 = local_18;
  fVar11 = (DAT_00425568 * _DAT_00403658) / DAT_00403670;
  fVar12 = (DAT_00425568 * _DAT_00403664) / DAT_00403670;
  pHVar6 = GetDlgItem(*(HWND *)((int)local_18 + 4),0x131);
  FUN_0040d355((void *)((int)pvVar1 + 0x130),pHVar6);
  FUN_0041c7dd((void *)((int)pvVar1 + 0x130),(int)fVar11);
  this_00 = local_18;
  uVar7 = (int)fVar12 & 0xffff;
  SendMessageW(*(HWND *)((int)local_18 + 0x134),0x41f,0,uVar7 << 0x10 | uVar7);
  pHVar6 = GetDlgItem(*(HWND *)((int)this_00 + 4),0x191);
  pvVar1 = (void *)((int)this_00 + 0x194);
  FUN_0040d355(pvVar1,pHVar6);
  FUN_0041c7dd(pvVar1,(int)((DAT_00425568 * _DAT_00403664) / DAT_00403670));
  SendMessageW(*(HWND *)((int)this_00 + 0x6c),0x433,0,1);
  SendMessageW(*(HWND *)((int)this_00 + 0x6c),0x434,0,0);
  pHVar6 = GetDlgItem(*(HWND *)((int)this_00 + 4),0x130);
  SendMessageW(pHVar6,0x406,1,0x640000);
  pHVar2 = *(HICON *)(*(int *)((int)this_00 + 0x28) + 0x30);
  FUN_0041c8af((int)pvVar1,extraout_EDX,pHVar2);
  pHVar6 = GetDlgItem(*(HWND *)((int)this_00 + 4),400);
  ShowWindow(pHVar6,0);
  *(HICON *)((int)this_00 + 100) = pHVar2;
  piVar3 = *(int **)(*(int *)((int)this_00 + 0x20) + 8);
  if (piVar3 == (int *)0x0) goto LAB_00416fd9;
  FUN_004105b9((int *)local_14,piVar3);
  piVar3 = local_14[0];
  if (local_14[0] == (int *)0x0) goto LAB_00416fd9;
  pcVar4 = *(code **)(*local_14[0] + 0x10);
  (*(code *)PTR_guard_check_icall_00427678)(local_14[0],(int)this_00 + 0x5c);
  (*pcVar4)();
  if (*(float *)((int)this_00 + 0x5c) <= 0.0 && *(float *)((int)this_00 + 0x5c) != 0.0) {
LAB_00416fbb:
    *(undefined4 *)((int)this_00 + 0x5c) = 0;
  }
  else {
    iVar8 = _isnan((double)*(float *)((int)this_00 + 0x5c));
    if (iVar8 != 0) goto LAB_00416fbb;
  }
  pcVar4 = *(code **)(*piVar3 + 0x18);
  (*(code *)PTR_guard_check_icall_00427678)(piVar3);
  (*pcVar4)();
LAB_00416fd9:
  FUN_00416d4d(this_00,1);
  if (*(int *)((int)this_00 + 0x2c0) != 0) {
    piVar3 = (int *)((int)this_00 + 0x2b8);
    iVar8 = FUN_004155a1(*(void **)((int)this_00 + 0x20),piVar3);
    if (-1 < iVar8) {
      local_18 = (void *)0x0;
      HVar9 = DwmIsCompositionEnabled((BOOL *)&local_18);
      if (((-1 < HVar9) && (local_18 != (void *)0x0)) && (*piVar3 != 0)) {
        iVar8 = FUN_0041cd06((void *)((int)this_00 + 0x194),(HWND)*piVar3);
        if (-1 < iVar8) {
          *(undefined4 *)((int)this_00 + 700) = 1;
        }
      }
    }
  }
  FUN_00417093((int)this_00);
  FUN_004170e9((int)this_00);
  UVar10 = SetTimer(*(HWND *)((int)this_00 + 4),0x83,1000,(TIMERPROC)0x0);
  *(UINT_PTR *)((int)this_00 + 0x2b4) = UVar10;
  SetTimer(*(HWND *)((int)this_00 + 4),0x42a,0x32,(TIMERPROC)0x0);
  FUN_00414e8c(*(PVOID *)((int)this_00 + 0x20));
  *in_stack_00000010 = 0;
  ~CComPtr<>((int *)local_14);
  return 1;
}



/* Function: FUN_00417093 */

undefined4 __fastcall FUN_00417093(int param_1)

{
  FUN_0041baa6((void *)(param_1 + 600),param_1,param_1,*(HWND *)(param_1 + 4));
  FUN_0041bbcf(*(HWND *)(param_1 + 4),0x12d);
  if (*(int *)(param_1 + 0x2c4) != 0) {
    FUN_0041bbcf(*(HWND *)(param_1 + 4),400);
  }
  return 0;
}



/* Function: FUN_004170e9 */

/* WARNING: Function: __EH_prolog3_catch_GS replaced with injection: EH_prolog3 */

void __fastcall FUN_004170e9(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  HWND hWnd;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 uVar3;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar4;
  HFONT local_80;
  LPCWSTR local_7c;
  int local_78;
  LOGFONTW local_74;
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x80;
  local_7c = (LPCWSTR)0x0;
  local_8 = 0;
  iVar2 = FUN_00415566(*(void **)(param_1 + 0x24),&local_7c);
  if (iVar2 < 0) {
    uVar3 = extraout_ECX;
    uVar4 = extraout_EDX;
    if (local_7c != (LPCWSTR)0x0) {
      CoTaskMemFree(local_7c);
      uVar3 = extraout_ECX_00;
      uVar4 = extraout_EDX_00;
    }
    FUN_004204d7(uVar3,uVar4);
    return;
  }
  puVar1 = (undefined4 *)(param_1 + 4);
  SetDlgItemTextW((HWND)*puVar1,0x12d,local_7c);
  local_80 = (HFONT)SendMessageW((HWND)*puVar1,0x31,0,0);
  if (local_80 == (HFONT)0x0) goto LAB_0041719f;
  if (*(int *)(*(int *)(param_1 + 0x24) + 0x3c) == 4) {
    if (DAT_00425aa4 == (HFONT)0x0) {
      GetObjectW(local_80,0x5c,&local_74);
      local_74.lfItalic = '\x01';
      DAT_00425aa4 = CreateFontIndirectW(&local_74);
      if (DAT_00425aa4 == (HFONT)0x0) goto LAB_00417184;
    }
    local_80 = DAT_00425aa4;
  }
LAB_00417184:
  hWnd = GetDlgItem((HWND)*puVar1,0x12d);
  SendMessageW(hWnd,0x30,(WPARAM)local_80,1);
LAB_0041719f:
  local_8._0_1_ = 1;
  FUN_0040ce33(&local_78,(int *)&PTR_PTR_00425384);
  local_8 = CONCAT31(local_8._1_3_,3);
  FUN_0041039c(&local_78,0x1f6);
  local_8 = 2;
  FUN_0041720f();
  return;
}



/* Function: Catch@004171d1 */

undefined * Catch_004171d1(void)

{
  int *piVar1;
  int unaff_EBP;
  
  piVar1 = *(int **)(unaff_EBP + -0x88);
  if (*piVar1 == -0x3fffff03) {
    _resetstkoflw();
  }
  *(int *)(unaff_EBP + -0x7c) = *piVar1;
  return &DAT_004171f0;
}



/* Function: FUN_0041720f */

void FUN_0041720f(void)

{
  int unaff_EBP;
  undefined4 *unaff_ESI;
  
  SetDlgItemTextW((HWND)*unaff_ESI,0x12e,*(LPCWSTR *)(unaff_EBP + -0x74));
  *(undefined1 *)(unaff_EBP + -4) = 5;
  FUN_0041039c((int *)(unaff_EBP + -0x74),0x1f7);
  FUN_00417262();
  return;
}



/* Function: Catch@00417239 */

undefined * Catch_00417239(void)

{
  int *piVar1;
  int unaff_EBP;
  
  piVar1 = *(int **)(unaff_EBP + -0x8c);
  if (*piVar1 == -0x3fffff03) {
    _resetstkoflw();
  }
  *(int *)(unaff_EBP + -0x7c) = *piVar1;
  return &DAT_00417258;
}



/* Function: FUN_00417262 */

void FUN_00417262(void)

{
  LPCWSTR lpString;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 uVar1;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar2;
  int unaff_EBX;
  int unaff_EBP;
  
  lpString = *(LPCWSTR *)(unaff_EBP + -0x74);
  SetWindowTextW(*(HWND *)(unaff_EBX + 0x134),lpString);
  FUN_0040d028((undefined4 *)(lpString + -8));
  uVar1 = extraout_ECX;
  uVar2 = extraout_EDX;
  if (*(int *)(unaff_EBP + -0x78) != 0) {
    CoTaskMemFree(*(LPVOID *)(unaff_EBP + -0x78));
    uVar1 = extraout_ECX_00;
    uVar2 = extraout_EDX_00;
  }
  FUN_004204d7(uVar1,uVar2);
  return;
}



/* Function: FUN_00417297 */

void __thiscall
FUN_00417297(void *this,undefined4 param_1,HDC param_2,undefined4 param_3,undefined4 *param_4)

{
  undefined4 extraout_EDX;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
      ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
     (3 < (byte)PTR_LOOP_004252dc[0x19])) {
    FUN_0040a58d(10,&DAT_004031ec,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                 *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
  }
  GetClientRect(*(HWND *)((int)this + 4),&local_18);
  DrawThemeParentBackgroundEx(*(HWND *)((int)this + 4),param_2,4,(RECT *)0x0);
  *param_4 = 1;
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00417319 */

void __thiscall
FUN_00417319(void *this,undefined4 param_1,HDC param_2,undefined4 param_3,undefined4 *param_4)

{
  HBRUSH hbr;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar1;
  HDC local_5c;
  tagPAINTSTRUCT local_58;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  if (param_2 == (HDC)0x0) {
    local_5c = BeginPaint(*(HWND *)((int)this + 4),&local_58);
  }
  else {
    local_5c = param_2;
  }
  GetClientRect(*(HWND *)((int)this + 4),&local_18);
  local_18.left = local_18.right + -1;
  hbr = CreateSolidBrush(DAT_00425a6c);
  FillRect(local_5c,&local_18,hbr);
  DeleteObject(hbr);
  uVar1 = extraout_EDX;
  if (param_2 == (HDC)0x0) {
    EndPaint(*(HWND *)((int)this + 4),&local_58);
    uVar1 = extraout_EDX_00;
  }
  *param_4 = 1;
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar1);
  return;
}



/* Function: FUN_004173bc */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void __fastcall FUN_004173bc(int param_1)

{
  APOHandle *pAVar1;
  code *pcVar2;
  TList<struct_APOHandle> *this;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  TList<struct_APOHandle> *extraout_ECX_01;
  void *local_18;
  APOHandle *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xc;
  local_8 = 0x4173c8;
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x2c));
  local_18 = *(void **)(param_1 + 0x44);
  this = extraout_ECX;
  while (local_18 != (void *)0x0) {
    local_14[0] = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this,&local_18,local_14);
    this = extraout_ECX_00;
    if (local_14[0] != (APOHandle *)0x0) {
      pAVar1 = *(APOHandle **)(local_14[0] + 8);
      local_8 = 0;
      local_14[0] = pAVar1;
      if (pAVar1 != (APOHandle *)0x0) {
        pcVar2 = *(code **)(*(int *)pAVar1 + 4);
        (*(code *)PTR_guard_check_icall_00427678)(pAVar1);
        (*pcVar2)();
      }
      local_8 = 1;
      if (pAVar1 != (APOHandle *)0x0) {
        pcVar2 = *(code **)(*(int *)pAVar1 + 0x14);
        (*(code *)PTR_guard_check_icall_00427678)
                  (pAVar1,*(undefined4 *)(param_1 + 0x50),&DAT_00425af0);
        (*pcVar2)();
      }
      local_8 = 0xffffffff;
      ~CComPtr<>((int *)local_14);
      this = extraout_ECX_01;
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x2c));
  return;
}



/* Function: FUN_00417463 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

void __fastcall FUN_00417463(int param_1)

{
  APOHandle *pAVar1;
  code *pcVar2;
  TList<struct_APOHandle> *this;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  TList<struct_APOHandle> *extraout_ECX_01;
  undefined4 in_XMM1_Da;
  void *local_18;
  APOHandle *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xc;
  local_8 = 0x41746f;
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x2c));
  local_18 = *(void **)(param_1 + 0x44);
  this = extraout_ECX;
  while (local_18 != (void *)0x0) {
    local_14[0] = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this,&local_18,local_14);
    this = extraout_ECX_00;
    if (local_14[0] != (APOHandle *)0x0) {
      pAVar1 = *(APOHandle **)(local_14[0] + 8);
      local_8 = 0;
      local_14[0] = pAVar1;
      if (pAVar1 != (APOHandle *)0x0) {
        pcVar2 = *(code **)(*(int *)pAVar1 + 4);
        (*(code *)PTR_guard_check_icall_00427678)(pAVar1);
        (*pcVar2)();
      }
      local_8 = 1;
      if (pAVar1 != (APOHandle *)0x0) {
        pcVar2 = *(code **)(*(int *)pAVar1 + 0xc);
        (*(code *)PTR_guard_check_icall_00427678)(pAVar1,in_XMM1_Da,&DAT_00425af0);
        (*pcVar2)();
      }
      local_8 = 0xffffffff;
      ~CComPtr<>((int *)local_14);
      this = extraout_ECX_01;
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x2c));
  return;
}



/* Function: FUN_00417510 */

/* WARNING: Function: __EH_prolog3_catch replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __fastcall FUN_00417510(int param_1)

{
  undefined4 uVar1;
  undefined1 local_18 [16];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x10;
  local_8 = 0x41751c;
  if (*(int *)(*(int *)(param_1 + 0x20) + 0x50) == 0) {
    if (*(int *)(param_1 + 0x29c) != 0) {
      local_8 = 0;
      FUN_0040ce33(local_18,(int *)&PTR_PTR_00425384);
      local_8 = 2;
      FUN_0040dd0f(local_18,L"mmsys.cpl,,%s,listento");
      uVar1 = FUN_00417595();
      return uVar1;
    }
    if ((*(int *)(param_1 + 0x2c0) != 0) && (*(HWND *)(param_1 + 0x2b8) != (HWND)0x0)) {
      ShowWindow(*(HWND *)(param_1 + 0x2b8),4);
      SetWindowPos(*(HWND *)(param_1 + 0x2b8),DAT_00425a3c,0,0,0,0,0x13);
    }
  }
  else {
    FUN_0040ef04();
  }
  return 0;
}



/* Function: Catch@00417573 */

undefined * Catch_00417573(void)

{
  int *piVar1;
  int unaff_EBP;
  
  piVar1 = *(int **)(unaff_EBP + -0x1c);
  if (*piVar1 == -0x3fffff03) {
    _resetstkoflw();
  }
  *(int *)(unaff_EBP + -0x18) = *piVar1;
  return &DAT_0041758f;
}



/* Function: FUN_00417595 */

/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 FUN_00417595(void)

{
  int iVar1;
  int unaff_EBP;
  
  iVar1 = *(int *)(unaff_EBP + -0x14);
  FUN_0040ef04();
  FUN_0040d028((undefined4 *)(iVar1 + -0x10));
  return 0;
}



/* Function: FUN_004175f1 */

undefined4 __fastcall FUN_004175f1(void *param_1)

{
  bool bVar1;
  
  if (*(int *)((int)param_1 + 0x58) == 0) {
    *(uint *)((int)param_1 + 0x50) = (uint)(*(int *)((int)param_1 + 0x50) == 0);
    bVar1 = true;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x58) = 0;
    bVar1 = *(int *)((int)param_1 + 0x50) == 1;
    *(undefined4 *)((int)param_1 + 0x50) = 0;
    SendMessageW(DAT_00425a3c,0x436,(WPARAM)param_1,0);
  }
  FUN_00416d4d(param_1,0);
  if (bVar1) {
    FUN_004173bc((int)param_1);
  }
  return 0;
}



/* Function: FUN_00417653 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall FUN_00417653(void *this,undefined4 param_1,short param_2)

{
  float *pfVar1;
  LRESULT LVar2;
  WPARAM wParam;
  float fVar3;
  float fVar4;
  
  LVar2 = SendMessageW(*(HWND *)((int)this + 0x6c),0x400,0,0);
  fVar4 = DAT_00403644;
  pfVar1 = (float *)((int)this + 0x5c);
  wParam = 100 - LVar2;
  if (wParam == 0) {
    *pfVar1 = 0.0;
  }
  else {
    fVar3 = *(float *)((int)this + 0x60);
    if (fVar3 != _DAT_00403638) {
      fVar3 = (float)(int)wParam / (fVar3 * DAT_00403674);
      *pfVar1 = fVar3;
      if (fVar3 <= fVar4) goto LAB_00417714;
    }
    SendMessageW(DAT_00425a3c,0x419,wParam,(LPARAM)this);
    *pfVar1 = 1.0;
    fVar4 = (float)(int)wParam / DAT_00403674;
    *(float *)((int)this + 0x60) = fVar4;
    *(float *)((int)this + 0x114) = fVar4;
    InvalidateRect(*(HWND *)((int)this + 0x6c),(RECT *)0x0,1);
    InvalidateRect(*(HWND *)((int)this + 0x6c),(RECT *)0x0,1);
  }
LAB_00417714:
  SendMessageW(DAT_00425a3c,0x41f,wParam,(LPARAM)this);
  SendMessageW(*(HWND *)((int)this + 0x6c),0x438,0,0);
  FUN_00417463((int)this);
  if ((param_2 == 8) && (*(int *)(*(int *)((int)this + 0x20) + 0x50) != 0)) {
    PlaySoundW((LPCWSTR)0x0,(HMODULE)0x0,1);
    PlaySoundW(L".Default",(HMODULE)0x0,0x290003);
  }
  return 0;
}



/* Function: FUN_0041777d */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall FUN_0041777d(void *this,undefined4 param_1,int param_2,uint param_3)

{
  float fVar1;
  float fVar2;
  
  fVar2 = (float)((double)param_2 + *(double *)(&DAT_00403700 + (param_2 >> 0x1f) * -8)) /
          _DAT_00403680;
  if (fVar2 != *(float *)((int)this + 0x5c)) {
    fVar1 = *(float *)((int)this + 0x60) * DAT_00403674;
    *(float *)((int)this + 0x5c) = fVar2;
    PostMessageW(*(HWND *)((int)this + 0x6c),0x405,1,100 - (int)(fVar1 * fVar2 + DAT_0040363c));
    SendMessageW(*(HWND *)((int)this + 0x6c),0x438,0,0);
  }
  if (((short)param_3 != 0) && (param_3 >> 0x10 != *(uint *)((int)this + 0x50))) {
    *(uint *)((int)this + 0x50) = param_3 >> 0x10;
    FUN_00416d4d(this,0);
  }
  return 0;
}



/* Function: FUN_0041782c */

void __fastcall
FUN_0041782c(int param_1,undefined4 param_2,undefined4 param_3,byte param_4,int *param_5)

{
  HICON hicon;
  code *pcVar1;
  BOOL BVar2;
  int iVar3;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined4 extraout_EDX_04;
  undefined4 extraout_EDX_05;
  undefined4 extraout_EDX_06;
  undefined4 extraout_EDX_07;
  undefined4 extraout_EDX_08;
  undefined4 extraout_EDX_09;
  undefined4 extraout_EDX_10;
  bool bVar4;
  _ICONINFOEXW local_860;
  _ICONINFOEXW local_434;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  if (((param_4 & 2) != 0) && (param_5 == *(int **)(param_1 + 0x24))) {
    FUN_004170e9(param_1);
    param_2 = extraout_EDX;
  }
  if ((param_4 & 4) != 0) {
    FUN_004179fc(param_1);
    param_2 = extraout_EDX_00;
  }
  if ((((param_4 & 1) != 0) && (param_5 == *(int **)(param_1 + 0x28))) &&
     (hicon = (HICON)(*(int **)(param_1 + 0x28))[0xc], hicon != *(HICON *)(param_1 + 100))) {
    memset(&local_860.fIcon,0,0x428);
    memset(&local_434.fIcon,0,0x428);
    bVar4 = false;
    local_860.cbSize = 0x42c;
    local_434.cbSize = 0x42c;
    BVar2 = GetIconInfoExW(*(HICON *)(param_1 + 100),&local_434);
    param_2 = extraout_EDX_01;
    if (((BVar2 != 0) &&
        (BVar2 = GetIconInfoExW(hicon,&local_860), param_2 = extraout_EDX_02, BVar2 != 0)) &&
       ((local_860.wResID == local_434.wResID &&
        (iVar3 = _wcsicmp(local_860.szModName,local_434.szModName), param_2 = extraout_EDX_03,
        iVar3 == 0)))) {
      iVar3 = _wcsicmp(local_860.szResName,local_434.szResName);
      param_2 = 1;
      bVar4 = iVar3 == 0;
    }
    if (local_434.hbmMask != (HBITMAP)0x0) {
      DeleteObject(local_434.hbmMask);
      param_2 = extraout_EDX_04;
    }
    if (local_434.hbmColor != (HBITMAP)0x0) {
      DeleteObject(local_434.hbmColor);
      param_2 = extraout_EDX_05;
    }
    if (local_860.hbmMask != (HBITMAP)0x0) {
      DeleteObject(local_860.hbmMask);
      param_2 = extraout_EDX_06;
    }
    if (local_860.hbmColor != (HBITMAP)0x0) {
      DeleteObject(local_860.hbmColor);
      param_2 = extraout_EDX_07;
    }
    if (!bVar4) {
      if (*(int *)(param_1 + 0x2c4) == 0) {
        FUN_0041c8af(param_1 + 0x194,param_2,hicon);
        param_2 = extraout_EDX_09;
      }
      else {
        SendDlgItemMessageW(*(HWND *)(param_1 + 4),400,0x170,(WPARAM)hicon,0);
        param_2 = extraout_EDX_08;
      }
      *(HICON *)(param_1 + 100) = hicon;
    }
  }
  if (param_5 != (int *)0x0) {
    pcVar1 = *(code **)(*param_5 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(param_5);
    (*pcVar1)();
    param_2 = extraout_EDX_10;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_004179fc */

void __fastcall FUN_004179fc(int param_1)

{
  HICON pHVar1;
  int iVar2;
  HWND hWnd;
  undefined4 extraout_EDX;
  
  FUN_00418240(param_1);
  if ((*(int *)(param_1 + 0x29c) == 0) && (*(int *)(*(int *)(param_1 + 0x20) + 0x50) == 0)) {
    iVar2 = 1;
  }
  else {
    iVar2 = 0;
  }
  if (iVar2 != *(int *)(param_1 + 0x2c4)) {
    *(int *)(param_1 + 0x2c4) = iVar2;
    pHVar1 = *(HICON *)(*(int *)(param_1 + 0x28) + 0x30);
    FUN_0041c8af(param_1 + 0x194,extraout_EDX,pHVar1);
    hWnd = GetDlgItem(*(HWND *)(param_1 + 4),400);
    ShowWindow(hWnd,0);
    ShowWindow(*(HWND *)(param_1 + 0x198),5);
    SendMessageW(*(HWND *)(param_1 + 0x198),10,1,0);
    *(HICON *)(param_1 + 100) = pHVar1;
  }
  return;
}



/* Function: FUN_00417a83 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall FUN_00417a83(void *this,undefined4 param_1,int param_2,undefined4 param_3)

{
  float *pfVar1;
  float fVar2;
  double dVar3;
  int lParam;
  float fVar4;
  
  dVar3 = *(double *)(&DAT_00403700 + (param_2 >> 0x1f) * -8);
  *(undefined4 *)((int)this + 0x58) = param_3;
  fVar4 = (float)((double)param_2 + dVar3) / _DAT_00403680;
  if (fVar4 != *(float *)((int)this + 0x60)) {
    fVar2 = *(float *)((int)this + 0x5c);
    *(float *)((int)this + 0x60) = fVar4;
    *(float *)((int)this + 0x114) = fVar4;
    InvalidateRect(*(HWND *)((int)this + 0x6c),(RECT *)0x0,1);
    lParam = 100 - (int)(fVar4 * DAT_00403674 * fVar2 + DAT_0040363c);
    pfVar1 = (float *)(*(int *)((int)this + 0x20) + 100);
    if (DAT_00403644 < *pfVar1 || DAT_00403644 == *pfVar1) {
      SendMessageW(*(HWND *)((int)this + 0x6c),0x405,1,lParam);
    }
    else {
      fVar4 = *(float *)((int)this + 0x60) * DAT_00403674 *
              *(float *)(*(int *)((int)this + 0x20) + 100) * *(float *)((int)this + 0x5c) +
              DAT_0040363c;
      SendMessageW(*(HWND *)((int)this + 0x6c),0x437,0,lParam);
      SendMessageW(*(HWND *)((int)this + 0x6c),0x405,1,100 - (int)fVar4);
    }
  }
  FUN_00416d4d(this,0);
  return 0;
}



/* Function: FUN_00417b97 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall FUN_00417b97(void *this,undefined4 param_1,int param_2)

{
  code *pcVar1;
  LPCRITICAL_SECTION p_Var2;
  _RTL_CRITICAL_SECTION *p_Var3;
  _LIST_ENTRY *p_Var4;
  TList<struct_APOHandle> *pTVar5;
  APOHandle *pAVar6;
  bool bVar7;
  int iVar8;
  int iVar9;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  TList<struct_APOHandle> *extraout_ECX_01;
  TList<struct_APOHandle> *extraout_ECX_02;
  TList<struct_APOHandle> *extraout_ECX_03;
  TList<struct_APOHandle> *extraout_ECX_04;
  TList<struct_APOHandle> *extraout_ECX_05;
  int extraout_EDX;
  int extraout_EDX_00;
  int extraout_EDX_01;
  int extraout_EDX_02;
  int extraout_EDX_03;
  int extraout_EDX_04;
  int extraout_EDX_05;
  uint uVar10;
  LPCRITICAL_SECTION this_00;
  LPCRITICAL_SECTION local_88;
  int local_84;
  LPCRITICAL_SECTION local_80;
  void *local_7c;
  APOHandle *local_78;
  float local_74 [4];
  undefined4 local_64;
  undefined4 uStack_60;
  undefined4 uStack_5c;
  undefined4 uStack_58;
  undefined4 local_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  undefined4 uStack_48;
  undefined4 local_44;
  undefined4 uStack_40;
  undefined4 uStack_3c;
  undefined4 uStack_38;
  undefined4 local_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 local_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  if (param_2 == 0x42a) {
                    /* WARNING: Load size is inaccurate */
    iVar9 = *ThreadLocalStoragePointer;
    if ((*(int *)(iVar9 + 4) < DAT_00425d54) &&
       (FUN_00420385(&DAT_00425d54), iVar9 = extraout_EDX_04, DAT_00425d54 == -1)) {
      bVar7 = FUN_0041bcb2();
      DAT_00425d58 = (uint)(CONCAT31(extraout_var_00,bVar7) == 0);
      FUN_0042032c(&DAT_00425d54);
      iVar9 = extraout_EDX_05;
    }
    if (DAT_00425d58 != 0) {
      uVar10 = 0;
      local_80 = (LPCRITICAL_SECTION)0x0;
      local_84 = 0;
      EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 0x2c));
      local_7c = *(void **)((int)this + 0x44);
      iVar9 = 0;
      pTVar5 = extraout_ECX;
      while (local_7c != (void *)0x0) {
        local_78 = (APOHandle *)0x0;
        TList<struct_APOHandle>::GetNext(pTVar5,&local_7c,&local_78);
        pTVar5 = (TList<struct_APOHandle> *)local_78;
        if (local_78 != (APOHandle *)0x0) {
          pcVar1 = *(code **)(**(int **)(local_78 + 0xc) + 0xc);
          (*(code *)PTR_guard_check_icall_00427678)(*(int **)(local_78 + 0xc),&local_88);
          iVar8 = (*pcVar1)();
          iVar9 = local_84;
          pTVar5 = extraout_ECX_00;
          if ((-1 < iVar8) && ((float)local_80 < (float)local_88)) {
            local_84 = 1;
            iVar9 = 1;
            local_80 = local_88;
          }
        }
      }
      LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 0x2c));
      if (iVar9 == 0) {
        iVar9 = 0;
      }
      else {
        uVar10 = (uint)((float)local_80 * DAT_00403674 * *(float *)((int)this + 0x60) + DAT_0040363c
                       );
        iVar9 = (int)(*(float *)((int)this + 0x60) * *(float *)((int)this + 0x5c) * (float)local_80
                      * DAT_00403674 + DAT_0040363c);
      }
      PostMessageW(*(HWND *)((int)this + 0x6c),0x434,1,iVar9 << 0x10 | uVar10 & 0xffff);
      iVar9 = extraout_EDX;
    }
  }
  else if (param_2 == 0x42b) {
    local_74[0] = _DAT_00403690;
    local_74[1] = (float)_UNK_00403694;
    local_74[2] = (float)_UNK_00403698;
    local_74[3] = (float)_UNK_0040369c;
    local_14 = 0x3f7f978b;
    local_64 = _DAT_004036a0;
    uStack_60 = _UNK_004036a4;
    uStack_5c = _UNK_004036a8;
    uStack_58 = _UNK_004036ac;
    local_10 = 0x3f7fc44b;
    local_54 = _DAT_004036b0;
    uStack_50 = _UNK_004036b4;
    uStack_4c = _UNK_004036b8;
    uStack_48 = _UNK_004036bc;
    local_c = 0x3f800000;
    local_44 = _DAT_004036c0;
    uStack_40 = _UNK_004036c4;
    uStack_3c = _UNK_004036c8;
    uStack_38 = _UNK_004036cc;
    local_34 = _DAT_004036e0;
    uStack_30 = _UNK_004036e4;
    uStack_2c = _UNK_004036e8;
    uStack_28 = _UNK_004036ec;
    local_24 = _DAT_004036f0;
    uStack_20 = _UNK_004036f4;
    uStack_1c = _UNK_004036f8;
    uStack_18 = _UNK_004036fc;
    bVar7 = FUN_0041bcb2();
    iVar9 = extraout_EDX_00;
    if (CONCAT31(extraout_var,bVar7) == 0) {
      PostMessageW(*(HWND *)((int)this + 0x6c),0x405,1,
                   (100 - (int)((float)(*(int *)((int)this + 0x2d4) - *(int *)((int)this + 0x2d0)) *
                               local_74[*(int *)((int)this + 0x2cc)])) - *(int *)((int)this + 0x2d0)
                  );
      *(int *)((int)this + 0x2cc) = *(int *)((int)this + 0x2cc) + 1;
      iVar9 = extraout_EDX_01;
      if (0x1a < *(uint *)((int)this + 0x2cc)) {
        KillTimer(*(HWND *)((int)this + 4),0x42b);
        iVar9 = extraout_EDX_02;
      }
    }
  }
  else {
    local_80 = (LPCRITICAL_SECTION)((int)this + 0x2c);
    EnterCriticalSection(local_80);
    local_7c = *(void **)((int)this + 0x44);
    pTVar5 = extraout_ECX_01;
    while (local_7c != (void *)0x0) {
      local_78 = (APOHandle *)0x0;
      TList<struct_APOHandle>::GetNext(pTVar5,&local_7c,&local_78);
      pAVar6 = local_78;
      pTVar5 = extraout_ECX_02;
      if (local_78 != (APOHandle *)0x0) {
        if (*(int *)(local_78 + 0x4c) == 2) {
          EnterCriticalSection((LPCRITICAL_SECTION)(local_78 + 0x18));
          p_Var2 = *(LPCRITICAL_SECTION *)(pAVar6 + 0x10);
          this_00 = (LPCRITICAL_SECTION)0x0;
          if (p_Var2 != (LPCRITICAL_SECTION)0x0) {
            p_Var3 = p_Var2->DebugInfo->CriticalSection;
            local_88 = p_Var2;
            (*(code *)PTR_guard_check_icall_00427678)(p_Var2);
            (*(code *)p_Var3)();
            *(undefined4 *)(pAVar6 + 0x10) = 0;
            this_00 = local_88;
          }
          LeaveCriticalSection((LPCRITICAL_SECTION)(pAVar6 + 0x18));
          pTVar5 = extraout_ECX_03;
          if (this_00 != (LPCRITICAL_SECTION)0x0) {
            FUN_00415ff3(this_00,(int *)pAVar6);
            p_Var4 = (this_00->DebugInfo->ProcessLocksList).Flink;
            (*(code *)PTR_guard_check_icall_00427678)(this_00);
            (*(code *)p_Var4)();
            pTVar5 = extraout_ECX_04;
          }
        }
        else if (*(int *)(local_78 + 0x50) == 0) {
          FUN_0041543e((int *)local_78);
          pTVar5 = extraout_ECX_05;
        }
      }
    }
    LeaveCriticalSection(local_80);
    iVar9 = extraout_EDX_03;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,iVar9);
  return;
}



/* Function: FUN_00417ea2 */

/* WARNING: Function: __EH_prolog3_catch replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __thiscall FUN_00417ea2(void *this,int param_1,int param_2,undefined4 *param_3)

{
  LPVOID pv;
  int iVar1;
  undefined4 uVar2;
  int local_1c;
  LPVOID local_18 [4];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x14;
  if (((param_1 == 400) || (param_1 == 0x191)) || (param_1 == 0x12d)) {
    local_18[0] = (LPVOID)0x0;
    local_8 = 0;
    if (*(void **)((int)this + 0x24) != (void *)0x0) {
      iVar1 = FUN_00415566(*(void **)((int)this + 0x24),local_18);
      pv = local_18[0];
      if (-1 < iVar1) {
        if (local_18[0] == (LPVOID)0x0) {
          return 0;
        }
        if (*(int *)((int)this + 0x29c) != 0) {
          local_8._0_1_ = 1;
          FUN_0040ce33(&local_1c,(int *)&PTR_PTR_00425384);
          local_8 = CONCAT31(local_8._1_3_,3);
          FUN_0041039c(&local_1c,0x1fd);
          uVar2 = FUN_00417f68((short *)(param_2 + 0x10));
          return uVar2;
        }
        FUN_0041452b((short *)(param_2 + 0x10),0xa0,(int)local_18[0]);
      }
      if (pv != (LPVOID)0x0) {
        CoTaskMemFree(pv);
      }
    }
  }
  else {
    *param_3 = 0;
  }
  return 0;
}



/* Function: Catch@00417f3d */

undefined * Catch_00417f3d(void)

{
  int *piVar1;
  int unaff_EBP;
  
  piVar1 = *(int **)(unaff_EBP + -0x20);
  if (*piVar1 == -0x3fffff03) {
    _resetstkoflw();
  }
  *(int *)(unaff_EBP + -0x1c) = *piVar1;
  return &DAT_00417f59;
}



/* Function: FUN_00417f68 */

/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __fastcall FUN_00417f68(short *param_1)

{
  int iVar1;
  int unaff_EBP;
  LPVOID unaff_ESI;
  
  iVar1 = *(int *)(unaff_EBP + -0x18);
  FUN_0041452b(param_1,0xa0,iVar1);
  FUN_0040d028((undefined4 *)(iVar1 + -0x10));
  if (unaff_ESI != (LPVOID)0x0) {
    CoTaskMemFree(unaff_ESI);
  }
  return 0;
}



/* Function: FUN_00417fb9 */

void * __thiscall FUN_00417fb9(void *this,APOHandle *param_1)

{
  code *pcVar1;
  int iVar2;
  TList<struct_APOHandle> *this_00;
  undefined4 *puVar3;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  void *pvVar4;
  void *local_c;
  APOHandle *local_8;
  
  pvVar4 = (void *)0x0;
  EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 0x2c));
  local_c = *(void **)((int)this + 0x44);
  this_00 = extraout_ECX;
  do {
    if (local_c == (void *)0x0) {
      puVar3 = FUN_00416150((void *)((int)this + 0x44),param_1);
      if (puVar3 != (undefined4 *)0x0) {
        pcVar1 = *(code **)(*(int *)param_1 + 4);
        (*(code *)PTR_guard_check_icall_00427678)(param_1);
        (*pcVar1)();
        iVar2 = *(int *)((int)this + 0x24);
        local_c = (void *)0x1;
        if ((iVar2 == 0) || (*(int *)(param_1 + 0x3c) < *(int *)(iVar2 + 0x3c))) {
          *(int *)((int)this + 0x24) = (int)param_1;
          pcVar1 = *(code **)(*(int *)param_1 + 4);
          (*(code *)PTR_guard_check_icall_00427678)(param_1);
          (*pcVar1)();
          PostMessageW(*(HWND *)((int)this + 4),0x41a,2,(LPARAM)param_1);
        }
        local_8 = (APOHandle *)((int)this + 0x24);
        if ((*(int *)((int)this + 0x28) == 0) ||
           (pvVar4 = local_c, *(int *)(param_1 + 0x38) < *(int *)(*(int *)((int)this + 0x28) + 0x38)
           )) {
          *(APOHandle **)((int)this + 0x28) = param_1;
          pcVar1 = *(code **)(*(int *)param_1 + 4);
          (*(code *)PTR_guard_check_icall_00427678)(param_1);
          (*pcVar1)();
          pvVar4 = local_c;
          PostMessageW(*(HWND *)((int)this + 4),0x41a,(WPARAM)local_c,(LPARAM)param_1);
        }
        FUN_004155fc(param_1,*(int *)local_8);
        FUN_004155fc(param_1,*(int *)((int)this + 0x28));
        *(void **)(param_1 + 0x14) = this;
      }
      goto LAB_004180c4;
    }
    local_8 = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this_00,&local_c,&local_8);
    this_00 = extraout_ECX_00;
  } while (param_1 != local_8);
  FUN_004179fc((int)this);
LAB_004180c4:
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 0x2c));
  return pvVar4;
}



/* Function: FUN_004180dc */

undefined4 __thiscall FUN_004180dc(void *this,TList<struct_APOHandle> *param_1)

{
  int *piVar1;
  code *pcVar2;
  bool bVar3;
  TList<struct_APOHandle> *extraout_ECX;
  TList<struct_APOHandle> *extraout_ECX_00;
  TList<struct_APOHandle> *extraout_ECX_01;
  TList<struct_APOHandle> *this_00;
  undefined4 uVar4;
  TList<struct_APOHandle> *pTVar5;
  void *local_14;
  int local_10;
  TList<struct_APOHandle> *local_c;
  APOHandle *local_8;
  
  EnterCriticalSection((LPCRITICAL_SECTION)((int)this + 0x2c));
  local_c = *(TList<struct_APOHandle> **)((int)this + 0x44);
  uVar4 = 0;
  *(undefined4 *)((int)this + 0x24) = 0;
  *(undefined4 *)((int)this + 0x28) = 0;
  *(undefined4 *)((int)this + 0x20) = 0;
  this_00 = extraout_ECX;
  do {
    pTVar5 = local_c;
    if (local_c == (TList<struct_APOHandle> *)0x0) goto LAB_0041814d;
    local_8 = (APOHandle *)0x0;
    TList<struct_APOHandle>::GetNext(this_00,&local_c,&local_8);
    this_00 = extraout_ECX_00;
  } while (param_1 != (TList<struct_APOHandle> *)local_8);
  *(undefined4 *)(param_1 + 0x14) = 0;
  FUN_0040caf1((void *)((int)this + 0x44),(int *)pTVar5);
  FUN_00414f4e((int)param_1);
  pcVar2 = *(code **)(*(int *)param_1 + 8);
  (*(code *)PTR_guard_check_icall_00427678)(param_1);
  (*pcVar2)();
  this_00 = extraout_ECX_01;
LAB_0041814d:
  local_14 = *(void **)((int)this + 0x44);
  local_10 = 0;
  bVar3 = false;
  if (local_14 != (void *)0x0) {
    local_c = *(TList<struct_APOHandle> **)((int)this + 0x24);
    pTVar5 = *(TList<struct_APOHandle> **)((int)this + 0x28);
    do {
      local_8 = (APOHandle *)0x0;
      TList<struct_APOHandle>::GetNext(this_00,&local_14,&local_8);
      if ((local_c == (TList<struct_APOHandle> *)0x0) ||
         (*(int *)(local_8 + 0x3c) < *(int *)(local_c + 0x3c))) {
        local_c = (TList<struct_APOHandle> *)local_8;
        *(APOHandle **)((int)this + 0x24) = local_8;
        local_10 = 1;
      }
      if ((pTVar5 == (TList<struct_APOHandle> *)0x0) ||
         (*(int *)(local_8 + 0x38) < *(int *)(pTVar5 + 0x38))) {
        *(APOHandle **)((int)this + 0x28) = local_8;
        bVar3 = true;
        pTVar5 = (TList<struct_APOHandle> *)local_8;
      }
      this_00 = (TList<struct_APOHandle> *)local_8;
    } while (local_14 != (void *)0x0);
    if ((local_10 != 0) && (piVar1 = *(int **)((int)this + 0x24), piVar1 != (int *)0x0)) {
      pcVar2 = *(code **)(*piVar1 + 4);
      (*(code *)PTR_guard_check_icall_00427678)(piVar1);
      (*pcVar2)();
      PostMessageW(*(HWND *)((int)this + 4),0x41a,2,*(LPARAM *)((int)this + 0x24));
    }
    if ((bVar3) && (piVar1 = *(int **)((int)this + 0x28), piVar1 != (int *)0x0)) {
      pcVar2 = *(code **)(*piVar1 + 4);
      (*(code *)PTR_guard_check_icall_00427678)(piVar1);
      (*pcVar2)();
      PostMessageW(*(HWND *)((int)this + 4),0x41a,1,*(LPARAM *)((int)this + 0x28));
    }
  }
  if (*(int *)((int)this + 0x44) != 0) {
    uVar4 = *(undefined4 *)(*(int *)((int)this + 0x44) + 8);
  }
  *(undefined4 *)((int)this + 0x20) = uVar4;
  uVar4 = *(undefined4 *)((int)this + 0x4c);
  LeaveCriticalSection((LPCRITICAL_SECTION)((int)this + 0x2c));
  return uVar4;
}



/* Function: FUN_00418240 */

int __fastcall FUN_00418240(int param_1)

{
  int iVar1;
  short local_14 [4];
  int local_c;
  undefined4 uStack_8;
  
  local_14[0] = 0;
  local_14[1] = 0;
  local_14[2] = 0;
  local_14[3] = 0;
  local_c = 0;
  uStack_8 = 0;
  iVar1 = FUN_00415644(*(void **)(param_1 + 0x20),&DAT_004029d0,(int)local_14);
  if (iVar1 < 0) {
    return iVar1;
  }
  if ((local_14[0] == 0xb) && ((short)local_c == -1)) {
    *(undefined4 *)(param_1 + 0x29c) = 1;
    local_14[0] = 0;
    local_14[1] = 0;
    local_14[2] = 0;
    local_14[3] = 0;
    local_c = 0;
    uStack_8 = 0;
    iVar1 = FUN_00415644(*(void **)(param_1 + 0x20),&DAT_004029bc,(int)local_14);
    if (iVar1 < 0) {
      return iVar1;
    }
    if ((local_14[0] == 0x1f) && (local_c != 0)) {
      *(int *)(param_1 + 0x2a0) = local_c;
      return iVar1;
    }
  }
  PropVariantClear((PROPVARIANT *)local_14);
  return iVar1;
}



/* Function: FUN_004182d2 */

undefined4 __thiscall FUN_004182d2(void *this)

{
  HRESULT HVar1;
  int iVar2;
  undefined4 *in_stack_00000010;
  BOOL local_8;
  
  local_8 = 0;
  HVar1 = DwmIsCompositionEnabled(&local_8);
  if ((-1 < HVar1) && (*(int *)((int)this + 0x2c0) != 0)) {
    if (local_8 == 0) {
      if (*(int *)((int)this + 700) != 0) {
        iVar2 = FUN_0041cd06((void *)((int)this + 0x194),(HWND)0x0);
        if (-1 < iVar2) {
          *(undefined4 *)((int)this + 700) = 0;
        }
      }
    }
    else if (*(int *)((int)this + 700) == 0) {
      iVar2 = FUN_0041cd06((void *)((int)this + 0x194),*(HWND *)((int)this + 0x2b8));
      if (-1 < iVar2) {
        *(undefined4 *)((int)this + 700) = 1;
      }
    }
  }
  *in_stack_00000010 = 0;
  return 0;
}



/* Function: FUN_00418356 */

void __fastcall FUN_00418356(int param_1)

{
  float *pfVar1;
  code *pcVar2;
  bool bVar3;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  LRESULT LVar4;
  int iVar5;
  int iVar6;
  float fVar7;
  UINT Msg;
  
  pcVar2 = *(code **)(**(int **)(param_1 + 0x20) + 0x2c);
  (*(code *)PTR_guard_check_icall_00427678)(*(int **)(param_1 + 0x20));
  (*pcVar2)();
  fVar7 = *(float *)(param_1 + 0x60) * DAT_00403674;
  iVar6 = (int)(*(float *)(param_1 + 0x5c) * fVar7 + DAT_0040363c);
  pfVar1 = (float *)(*(int *)(param_1 + 0x20) + 100);
  iVar5 = (int)(fVar7 * *(float *)(*(int *)(param_1 + 0x20) + 100) * *(float *)(param_1 + 0x5c) +
               DAT_0040363c);
  if (DAT_00403644 < *pfVar1 || DAT_00403644 == *pfVar1) {
    bVar3 = FUN_0041bcb2();
    if (CONCAT31(extraout_var_00,bVar3) == 0) {
      LVar4 = SendMessageW(*(HWND *)(param_1 + 0x6c),0x400,0,0);
      if (100 - LVar4 != iVar6) {
        *(int *)(param_1 + 0x2d0) = 100 - LVar4;
        *(int *)(param_1 + 0x2d4) = iVar6;
        *(undefined4 *)(param_1 + 0x2cc) = 0;
        SetTimer(*(HWND *)(param_1 + 4),0x42b,0x28,(TIMERPROC)0x0);
      }
    }
    else {
      PostMessageW(*(HWND *)(param_1 + 0x6c),0x405,1,100 - iVar6);
    }
    iVar5 = 0;
    Msg = 0x438;
  }
  else {
    bVar3 = FUN_0041bcb2();
    if (CONCAT31(extraout_var,bVar3) == 0) {
      *(int *)(param_1 + 0x2d0) = iVar6;
      *(int *)(param_1 + 0x2d4) = iVar5;
      *(undefined4 *)(param_1 + 0x2cc) = 0;
      SetTimer(*(HWND *)(param_1 + 4),0x42b,0x28,(TIMERPROC)0x0);
    }
    else {
      PostMessageW(*(HWND *)(param_1 + 0x6c),0x405,1,100 - iVar5);
    }
    iVar5 = 100 - *(int *)(param_1 + 0x2d0);
    Msg = 0x437;
  }
  SendMessageW(*(HWND *)(param_1 + 0x6c),Msg,0,iVar5);
  return;
}



/* Function: FUN_0041849e */

void __fastcall FUN_0041849e(HWND param_1,undefined4 *param_2)

{
  int iVar1;
  short *psVar2;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 uVar3;
  WCHAR local_210 [260];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  *param_2 = 0;
  iVar1 = InternalGetWindowText(param_1,local_210,0x104);
  uVar3 = extraout_EDX;
  if (1 < iVar1) {
    psVar2 = (short *)CoTaskMemAlloc(iVar1 * 2 + 2);
    *param_2 = psVar2;
    uVar3 = extraout_EDX_00;
    if (psVar2 != (short *)0x0) {
      FUN_00405d17(psVar2,iVar1 + 1,(int)local_210);
      uVar3 = extraout_EDX_01;
    }
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar3);
  return;
}



/* Function: FUN_00418520 */

undefined4 FUN_00418520(HWND param_1,DWORD *param_2)

{
  uint uVar1;
  BOOL BVar2;
  int iVar3;
  undefined4 uVar4;
  DWORD local_c;
  HWND local_8;
  
  uVar4 = 1;
  local_8 = GetWindow(param_1,4);
  uVar1 = GetWindowLongW(param_1,-0x14);
  if (((local_8 != (HWND)0x0) && (BVar2 = IsWindowVisible(local_8), BVar2 != 0)) &&
     ((uVar1 & 0x40000) == 0)) {
    return 1;
  }
  BVar2 = IsWindowVisible(param_1);
  if (((BVar2 != 0) && (-1 < (char)uVar1)) &&
     ((iVar3 = GhostWindowFromHungWindow(param_1), iVar3 == 0 &&
      ((GetWindowThreadProcessId(param_1,&local_c), *param_2 == local_c &&
       (iVar3 = FUN_0041849e(param_1,param_2 + 1), iVar3 != 0)))))) {
    uVar4 = 0;
  }
  return uVar4;
}



/* Function: FUN_004185b0 */

bool __fastcall FUN_004185b0(undefined4 param_1,int *param_2)

{
  undefined4 local_c;
  int iStack_8;
  
  iStack_8 = 0;
  *param_2 = 0;
  local_c = param_1;
  EnumWindows(FUN_00418520,(LPARAM)&local_c);
  if (iStack_8 != 0) {
    *param_2 = iStack_8;
  }
  return iStack_8 != 0;
}



/* Function: FUN_004185ef */

void __fastcall FUN_004185ef(DWORD param_1,undefined4 *param_2)

{
  HANDLE hProcess;
  BOOL BVar1;
  int iVar2;
  DWORD_PTR DVar3;
  WCHAR *pWVar4;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar5;
  undefined4 local_6dc;
  DWORD local_6d8;
  SHFILEINFOW local_6d4;
  WCHAR local_420 [262];
  WCHAR local_214 [262];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  *param_2 = 0;
  hProcess = OpenProcess(0x1000,0,param_1);
  uVar5 = extraout_EDX;
  if (hProcess != (HANDLE)0x0) {
    local_6d8 = 0x104;
    BVar1 = QueryFullProcessImageNameW(hProcess,0,local_420,&local_6d8);
    if (BVar1 != 0) {
      local_6dc = 0x105;
      local_214[0] = L'\0';
      iVar2 = Ordinal_348(local_420,0,0,local_214,&local_6dc);
      if ((iVar2 == 0) || (local_214[0] == L'\0')) {
        memset(&local_6d4,0,0x2b4);
        DVar3 = SHGetFileInfoW(local_420,0,&local_6d4,0x2b4,0x200);
        if (DVar3 == 0) {
          pWVar4 = PathFindFileNameW(local_420);
        }
        else {
          pWVar4 = local_6d4.szDisplayName;
        }
      }
      else {
        pWVar4 = local_214;
      }
      FUN_0041f085(pWVar4,param_2);
    }
    CloseHandle(hProcess);
    uVar5 = extraout_EDX_00;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar5);
  return;
}



/* Function: FUN_0041870c */

undefined4 __fastcall FUN_0041870c(DWORD param_1,DWORD *param_2)

{
  HWND hWnd;
  BOOL BVar1;
  DWORD DVar2;
  DWORD local_8;
  
  *param_2 = 0;
  local_8 = param_1;
  hWnd = FindWindowW((LPCWSTR)0x0,(LPCWSTR)0x0);
  do {
    if (hWnd == (HWND)0x0) {
      return 0;
    }
    BVar1 = IsWindow(hWnd);
    if (BVar1 == 0) {
      return 0;
    }
    local_8 = 0;
    BVar1 = IsWindowVisible(hWnd);
    if (((BVar1 != 0) && (DVar2 = GetWindowThreadProcessId(hWnd,&local_8), DVar2 != 0)) &&
       (param_1 == local_8)) {
      DVar2 = SendMessageW(hWnd,0x7f,1,0);
      *param_2 = DVar2;
      if (DVar2 != 0) {
        return 1;
      }
      DVar2 = GetClassLongW(hWnd,-0xe);
      *param_2 = DVar2;
      if (DVar2 != 0) {
        return 1;
      }
      DVar2 = GetClassLongW(hWnd,-0x22);
      *param_2 = DVar2;
      if (DVar2 != 0) {
        return 1;
      }
      DVar2 = SendMessageW(hWnd,0x7f,0,0);
      *param_2 = DVar2;
      if (DVar2 != 0) {
        return 1;
      }
    }
    hWnd = GetWindow(hWnd,2);
  } while( true );
}



/* Function: FUN_004187bb */

void __fastcall FUN_004187bb(DWORD param_1,undefined4 *param_2)

{
  HANDLE hProcess;
  BOOL BVar1;
  DWORD_PTR DVar2;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar3;
  DWORD local_4cc;
  SHFILEINFOW local_4c8;
  WCHAR local_214 [262];
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  *param_2 = 0;
  hProcess = OpenProcess(0x1000,0,param_1);
  uVar3 = extraout_EDX;
  if (hProcess != (HANDLE)0x0) {
    local_4cc = 0x104;
    BVar1 = QueryFullProcessImageNameW(hProcess,0,local_214,&local_4cc);
    if (BVar1 != 0) {
      DVar2 = SHGetFileInfoW(local_214,0,&local_4c8,0x2b4,0x100);
      if (DVar2 != 0) {
        *param_2 = local_4c8.hIcon;
      }
    }
    CloseHandle(hProcess);
    uVar3 = extraout_EDX_00;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar3);
  return;
}



/* Function: FUN_0041885b */

undefined4 __fastcall FUN_0041885b(DWORD param_1,undefined4 *param_2)

{
  HWND hWnd;
  BOOL BVar1;
  DWORD DVar2;
  HWND hWnd_00;
  DWORD local_8;
  
  *param_2 = 0;
  local_8 = param_1;
  hWnd = FindWindowW((LPCWSTR)0x0,(LPCWSTR)0x0);
  while( true ) {
    if (hWnd == (HWND)0x0) {
      return 0;
    }
    BVar1 = IsWindow(hWnd);
    if (BVar1 == 0) {
      return 0;
    }
    local_8 = 0;
    BVar1 = IsWindowVisible(hWnd);
    if (((BVar1 != 0) && (DVar2 = GetWindowThreadProcessId(hWnd,&local_8), DVar2 != 0)) &&
       (param_1 == local_8)) break;
    hWnd = GetWindow(hWnd,2);
  }
  do {
    hWnd_00 = hWnd;
    hWnd = GetParent(hWnd_00);
    if (hWnd == (HWND)0x0) break;
    BVar1 = IsWindowVisible(hWnd);
  } while (BVar1 != 0);
  *param_2 = hWnd_00;
  return 1;
}



/* Function: FUN_004188f0 */

bool __thiscall
FUN_004188f0(void *this,undefined4 param_1,int param_2,HDC param_3,undefined4 param_4,
            undefined4 *param_5,int param_6)

{
  undefined4 uVar1;
  HTHEME pvVar2;
  void *local_c [2];
  
  if (param_6 == 0) {
    if ((param_2 == 0xf) || (param_2 == 1)) {
      local_c[0] = (void *)0x1;
      uVar1 = FUN_00418ed7(this,this,param_3,this,local_c);
    }
    else {
      if (param_2 != 0x14) {
        if (param_2 == 5) {
          local_c[0] = (void *)0x1;
          uVar1 = FUN_00418f85(this);
          *param_5 = uVar1;
          return local_c[0] != (void *)0x0;
        }
        if (param_2 != 0x31a) {
          return false;
        }
        local_c[0] = this;
        if (*(int *)((int)this + 0x28) != 0) {
          CloseThemeData(*(HTHEME *)((int)this + 0x28));
        }
        pvVar2 = OpenThemeData((HWND)0x0,L"BUTTON");
        *(HTHEME *)((int)this + 0x28) = pvVar2;
        InvalidateRect(*(HWND *)((int)this + 4),(RECT *)0x0,1);
        *param_5 = 0;
        return true;
      }
      local_c[0] = (void *)0x1;
      uVar1 = FUN_00418c2c(this,this,param_3,this,local_c);
    }
    *param_5 = uVar1;
    if (local_c[0] != (void *)0x0) {
      return true;
    }
  }
  return false;
}



/* Function: FUN_004189c5 */

void FUN_004189c5(undefined4 param_1,undefined4 param_2)

{
  EtwTraceMessage(param_1,param_2,0x2b,&DAT_00403238,0xc,&stack0x0000000c,4,&stack0x00000010,4,
                  &stack0x00000014,4,&stack0x00000018,4,0);
  return;
}



/* Function: FUN_00418a05 */

undefined4 * __fastcall FUN_00418a05(undefined4 *param_1)

{
  param_1[8] = DefWindowProcW_exref;
  param_1[1] = 0;
  param_1[5] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  *param_1 = &PTR_FUN_00401730;
  param_1[9] = 0;
  param_1[10] = 0;
  return param_1;
}



/* Function: FUN_00418a30 */

undefined4 * __thiscall FUN_00418a30(void *this,byte param_1)

{
  FUN_00418a58((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_00418a58 */

void __fastcall FUN_00418a58(undefined4 *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421226;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_00401730;
  if (param_1[9] != 0) {
    DeleteObject((HGDIOBJ)param_1[9]);
    param_1[9] = 0;
  }
  if (param_1[10] != 0) {
    CloseThemeData((HTHEME)param_1[10]);
  }
  local_8 = 0;
  if (param_1[5] != 0) {
    FUN_0041abac((int *)param_1[5]);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00418ad2 */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */

void __thiscall FUN_00418ad2(void *this,HWND param_1)

{
  ushort uVar1;
  HTHEME pvVar2;
  HWND hWndTo;
  int iVar3;
  uint uVar4;
  HMENU pHVar5;
  LPCWSTR pWVar6;
  DWORD DVar7;
  WPARAM wParam;
  undefined4 extraout_EDX;
  tagRECT *lpPoints;
  UINT cPoints;
  LPWSTR _Memory;
  LPWSTR local_34;
  HWND local_30;
  uint local_2c;
  tagRECT local_28 [2];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x30;
  local_8 = 0x418ade;
  pvVar2 = OpenThemeData((HWND)0x0,L"BUTTON");
  *(HTHEME *)((int)this + 0x28) = pvVar2;
  GetWindowRect(param_1,local_28);
  cPoints = 2;
  lpPoints = local_28;
  hWndTo = GetParent(param_1);
  MapWindowPoints((HWND)0x0,hWndTo,(LPPOINT)lpPoints,cPoints);
  iVar3 = GetWindowTextLengthW(param_1);
  local_34 = (LPWSTR)0x0;
  local_2c = iVar3 + 1;
  local_8 = 0;
  FUN_0040c8d3(&local_34,local_2c);
  _Memory = local_34;
  if (local_34 != (LPWSTR)0x0) {
    GetWindowTextW(param_1,local_34,local_2c);
  }
  local_2c = GetWindowLongW(param_1,-0x14);
  uVar4 = GetWindowLongW(param_1,-0x10);
  local_30 = GetParent(param_1);
  pHVar5 = (HMENU)GetWindowLongW(param_1,-0xc);
  if (PTR_u_Button_00425280 == (undefined *)0x0) {
    PTR_u_Button_00425280 = (undefined *)0x0;
  }
  uVar1 = FUN_00409992((WNDCLASSEXW *)&DAT_00425250,(UINT *)((int)this + 0x20));
  if (uVar4 == 0) {
    uVar4 = 0x56000000;
  }
  pWVar6 = (LPCWSTR)0x0;
  if (_Memory != (LPWSTR)0x0) {
    pWVar6 = _Memory;
  }
  local_30 = FUN_0040c98c(this,local_30,&local_28[0].left,pWVar6,uVar4,local_2c,pHVar5,uVar1);
  if (local_30 != (HWND)0x0) {
    DVar7 = GetClassLongW(local_30,-0x1a);
    SetClassLongW(local_30,-0x1a,DVar7 & 0xfffffffc);
    wParam = SendMessageW(param_1,0x31,0,0);
    SendMessageW(*(HWND *)((int)this + 4),0x30,wParam,1);
    GetClientRect(*(HWND *)((int)this + 4),(LPRECT)((int)this + 0x2c));
  }
  free(_Memory);
  FUN_004204c2(_Memory,extraout_EDX);
  return;
}



/* Function: FUN_00418c2c */

void __thiscall
FUN_00418c2c(void *this,undefined4 param_1,HDC param_2,undefined4 param_3,undefined4 *param_4)

{
  if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
      ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
     (3 < (byte)PTR_LOOP_004252dc[0x19])) {
    FUN_0040a58d(0xb,&DAT_00403238,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                 *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
  }
  DrawThemeParentBackgroundEx(*(HWND *)((int)this + 4),param_2,4,(RECT *)0x0);
  *param_4 = 1;
  return;
}



/* Function: FUN_00418c87 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall FUN_00418c87(void *this,HDC param_1,RECT *param_2)

{
  HGDIOBJ pvVar1;
  DWORD color;
  COLORREF color_00;
  COLORREF CVar2;
  BOOL BVar3;
  undefined4 extraout_EDX;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
                    /* WARNING: Load size is inaccurate */
  if (*(int *)(*ThreadLocalStoragePointer + 4) < DAT_00425d5c) {
    FUN_00420385(&DAT_00425d5c);
    if (DAT_00425d5c == -1) {
      DAT_00425d60 = (int)((DAT_00425568 * _DAT_00403650) / DAT_00403670);
      FUN_0042032c(&DAT_00425d5c);
    }
  }
  if (param_2 == (RECT *)0x0) {
    if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
        ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
       (3 < (byte)PTR_LOOP_004252dc[0x19])) {
      FUN_0040a58d(0xd,&DAT_00403238,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                   *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
    }
  }
  else if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
           ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
          (3 < (byte)PTR_LOOP_004252dc[0x19])) {
    FUN_004189c5(*(undefined4 *)(PTR_LOOP_004252dc + 0x10),*(undefined4 *)(PTR_LOOP_004252dc + 0x14)
                );
  }
  pvVar1 = (HGDIOBJ)SendMessageW(*(HWND *)((int)this + 4),0x31,0,0);
  pvVar1 = SelectObject(param_1,pvVar1);
  color = GetSysColor(5);
  color_00 = SetBkColor(param_1,color);
  if (*(int *)((int)this + 0x28) == 0) {
    CVar2 = GetSysColor(8);
  }
  else {
    CVar2 = GetThemeSysColor(*(HTHEME *)((int)this + 0x28),8);
  }
  CVar2 = SetTextColor(param_1,CVar2);
  GetClientRect(*(HWND *)((int)this + 4),&local_18);
  local_18.top = local_18.top + DAT_00425d60;
  if (*(int *)((int)this + 0x28) == 0) {
    DrawEdge(param_1,&local_18,6,0xf);
  }
  else {
    BVar3 = IsThemeBackgroundPartiallyTransparent(*(HTHEME *)((int)this + 0x28),4,1);
    if (BVar3 != 0) {
      if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
          ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
         (3 < (byte)PTR_LOOP_004252dc[0x19])) {
        FUN_0040a58d(0xe,&DAT_00403238,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                     *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
      }
      DrawThemeParentBackground(*(HWND *)((int)this + 4),param_1,param_2);
    }
    DrawThemeBackground(*(HTHEME *)((int)this + 0x28),param_1,4,1,&local_18,(LPCRECT)0x0);
  }
  GetWindowTextW(*(HWND *)((int)this + 4),(LPWSTR)&DAT_00425d68,500);
  local_18.left = local_18.left + (int)((DAT_00425568 * _DAT_00403654) / DAT_00403670);
  local_18.top = local_18.top - DAT_00425d60;
  DrawTextW(param_1,(LPCWSTR)&DAT_00425d68,-1,&local_18,0);
  SelectObject(param_1,pvVar1);
  SetTextColor(param_1,CVar2);
  SetBkColor(param_1,color_00);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00418ed7 */

void __thiscall
FUN_00418ed7(void *this,undefined4 param_1,HDC param_2,undefined4 param_3,undefined4 *param_4)

{
  HDC pHVar1;
  RECT *pRVar2;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar3;
  tagPAINTSTRUCT local_4c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  pHVar1 = param_2;
  if (param_2 == (HDC)0x0) {
    pHVar1 = BeginPaint(*(HWND *)((int)this + 4),&local_4c);
  }
  if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
      ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
     (3 < (byte)PTR_LOOP_004252dc[0x19])) {
    FUN_0040a5b1(0xf,&DAT_00403238,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                 *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
  }
  pRVar2 = &local_4c.rcPaint;
  if (param_2 != (HDC)0x0) {
    pRVar2 = (RECT *)0x0;
  }
  FUN_00418c87(this,pHVar1,pRVar2);
  uVar3 = extraout_EDX;
  if (param_2 == (HDC)0x0) {
    EndPaint(*(HWND *)((int)this + 4),&local_4c);
    uVar3 = extraout_EDX_00;
  }
  *param_4 = 1;
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar3);
  return;
}



/* Function: FUN_00418f85 */

void __thiscall FUN_00418f85(void *this)

{
  undefined4 extraout_EDX;
  undefined4 *in_stack_00000010;
  tagRECT local_28;
  RECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  GetClientRect(*(HWND *)((int)this + 4),&local_28);
  local_18.top = *(LONG *)((int)this + 0x30);
  local_18.right = *(int *)((int)this + 0x34);
  local_18.bottom = *(LONG *)((int)this + 0x38);
  local_18.left = local_18.right + -10;
  InvalidateRect(*(HWND *)((int)this + 4),&local_18,1);
  *(LONG *)((int)this + 0x2c) = local_28.left;
  *(LONG *)((int)this + 0x30) = local_28.top;
  *(LONG *)((int)this + 0x34) = local_28.right;
  *(LONG *)((int)this + 0x38) = local_28.bottom;
  *in_stack_00000010 = 0;
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_00418ffc */

void __thiscall FUN_00418ffc(void *this,undefined4 param_1,uint param_2,uint param_3)

{
  code *pcVar1;
  DWORD DVar2;
  
  if (param_2 <= param_3) {
    param_3 = param_2 - 1;
  }
  DVar2 = WindowsCreateStringReference(param_1,param_3,this,(int)this + 0x14);
  if (-1 < (int)DVar2) {
    return;
  }
  FUN_00409b05(DVar2);
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



/* Function: FUN_00419033 */

void __fastcall FUN_00419033(int param_1)

{
  *(undefined4 *)(param_1 + 0x14) = 0;
  return;
}



/* Function: FUN_0041903e */

void __fastcall FUN_0041903e(int *param_1)

{
  if (*param_1 != 0) {
    WindowsDeleteString(*param_1);
  }
  return;
}



/* Function: FUN_00419052 */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */

void __thiscall FUN_00419052(void *this,undefined4 param_1)

{
  short sVar1;
  code *pcVar2;
  int *piVar3;
  code *pcVar4;
  int *piVar5;
  undefined4 *puVar6;
  int iVar7;
  DWORD DVar8;
  uint uVar9;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  short *psVar10;
  undefined4 extraout_ECX_01;
  undefined4 extraout_ECX_02;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 uVar11;
  undefined4 extraout_EDX_02;
  short *pv;
  void *unaff_retaddr;
  undefined4 uVar12;
  undefined4 local_44;
  int local_40;
  int *local_3c;
  short *local_38;
  int *local_34;
  undefined1 local_30 [20];
  undefined4 local_1c [5];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x40;
  local_8 = 0x41905e;
  local_40 = 0;
  GetPackageFamilyName(param_1,&local_40,0);
  local_38 = (short *)0x0;
  local_8._0_1_ = 0;
  local_8._1_3_ = 0;
  puVar6 = FUN_00416242(&local_3c,local_40 * 2);
  FUN_00416100(&local_38,puVar6);
  if (local_3c != (int *)0x0) {
    CoTaskMemFree(local_3c);
  }
  pv = local_38;
  if (local_38 == (short *)0x0) {
    FUN_00406ff8(unaff_retaddr,0x18,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
                 0x8007000e);
    uVar12 = extraout_ECX;
    uVar11 = extraout_EDX;
    pv = local_38;
    goto LAB_00419239;
  }
  iVar7 = GetPackageFamilyName(param_1,&local_40,local_38);
  if (iVar7 != 0) {
    FUN_0041a4a6(unaff_retaddr);
    uVar12 = extraout_ECX_00;
    uVar11 = extraout_EDX_00;
    pv = local_38;
    goto LAB_00419239;
  }
  local_34 = (int *)0x0;
  local_8._0_1_ = 1;
  local_1c[0] = 0;
  DVar8 = WindowsCreateStringReference
                    (L"Windows.Internal.StateRepository.Package",0x28,local_30,local_1c);
  uVar12 = local_1c[0];
  piVar5 = local_34;
  if ((int)DVar8 < 0) {
LAB_00419257:
    FUN_00409b05(DVar8);
    pcVar2 = (code *)swi(3);
    (*pcVar2)();
    return;
  }
  local_8._0_1_ = 2;
  if (local_34 != (int *)0x0) {
    local_34 = (int *)0x0;
    pcVar2 = *(code **)(*piVar5 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar5);
    (*pcVar2)();
  }
  local_8._0_1_ = 1;
  uVar9 = RoGetActivationFactory(uVar12,&DAT_0040313c,&local_34);
  piVar5 = local_34;
  if ((int)uVar9 < 0) {
    uVar12 = 0x1e;
    goto LAB_00419216;
  }
  local_3c = (int *)((int)this + 0xc);
  pcVar2 = *(code **)(*local_34 + 0xc0);
  local_8._0_1_ = 3;
  piVar3 = (int *)*local_3c;
  if (piVar3 != (int *)0x0) {
    *local_3c = 0;
    pcVar4 = *(code **)(*piVar3 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar3);
    (*pcVar4)();
  }
  piVar3 = local_3c;
  local_8._0_1_ = 1;
  local_1c[0] = 0;
  psVar10 = pv;
  do {
    sVar1 = *psVar10;
    psVar10 = psVar10 + 1;
  } while (sVar1 != 0);
  uVar9 = (int)psVar10 - (int)(pv + 1) >> 1;
  if (uVar9 + 1 < uVar9) {
    DVar8 = 0x80070216;
    goto LAB_00419257;
  }
  FUN_00418ffc(local_30,pv,uVar9 + 1,uVar9);
  local_8._0_1_ = 4;
  (*(code *)PTR_guard_check_icall_00427678)(piVar5,local_1c[0],piVar3);
  uVar9 = (*pcVar2)();
  local_8._0_1_ = 1;
  if ((int)uVar9 < 0) {
    uVar12 = 0x20;
LAB_00419216:
    FUN_00406ff8(unaff_retaddr,uVar12,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
                 uVar9);
    pv = local_38;
  }
  else {
    piVar3 = (int *)*piVar3;
    local_44 = 0;
    pcVar2 = *(code **)(*piVar3 + 0x1c);
    (*(code *)PTR_guard_check_icall_00427678)(piVar3,&local_44);
    uVar9 = (*pcVar2)();
    if ((int)uVar9 < 0) {
      uVar12 = 0x23;
      goto LAB_00419216;
    }
    *(undefined4 *)((int)this + 8) = local_44;
  }
  FUN_0040dcb4((int *)&local_34);
  uVar12 = extraout_ECX_01;
  uVar11 = extraout_EDX_01;
LAB_00419239:
  if (pv != (short *)0x0) {
    CoTaskMemFree(pv);
    uVar12 = extraout_ECX_02;
    uVar11 = extraout_EDX_02;
  }
  FUN_004204c2(uVar12,uVar11);
  return;
}



/* Function: FUN_00419263 */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */

void __fastcall FUN_00419263(int param_1,undefined4 param_2,undefined4 *param_3)

{
  int *piVar1;
  code *pcVar2;
  int *piVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 *extraout_ECX;
  undefined4 *extraout_ECX_00;
  undefined4 *puVar6;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  uint uVar7;
  int *local_250;
  int **local_24c;
  int *local_248;
  int *local_244;
  int local_240;
  int local_23c;
  undefined1 local_238 [24];
  short local_220 [268];
  undefined1 local_8;
  undefined3 uStack_7;
  undefined4 uStack_4;
  
  uStack_4 = 0x248;
  local_8 = 0x72;
  uStack_7 = 0x4192;
  uVar7 = 0;
  puVar6 = param_3;
  if (*(int *)(param_1 + 8) != 0) {
    local_250 = &local_240;
    do {
      local_240 = 0;
      local_8 = 0;
      uStack_7 = 0;
      piVar1 = *(int **)(param_1 + 0xc);
      pcVar2 = *(code **)(*piVar1 + 0x18);
      piVar3 = FUN_00419e27(&local_250);
      (*(code *)PTR_guard_check_icall_00427678)(piVar1,uVar7,piVar3);
      iVar4 = (*pcVar2)();
      if (-1 < iVar4) {
        local_244 = (int *)0x0;
        iVar4 = FUN_00419e88((int)local_238);
        iVar4 = FUN_00419eba(*(void **)(iVar4 + 0x14),(int *)&local_244);
        piVar1 = local_244;
        if (-1 < iVar4) {
          local_248 = (int *)0x0;
          local_8 = 2;
          pcVar2 = *(code **)(*local_244 + 0x18);
          local_24c = &local_248;
          piVar3 = FUN_00419e27(&local_24c);
          (*(code *)PTR_guard_check_icall_00427678)(piVar1,local_240,piVar3);
          iVar4 = (*pcVar2)();
          if (-1 < iVar4) {
            local_8 = 3;
            local_23c = 0;
            pcVar2 = *(code **)(*local_248 + 0x18);
            (*(code *)PTR_guard_check_icall_00427678)(local_248,&local_23c);
            iVar4 = (*pcVar2)();
            if (-1 < iVar4) {
              local_24c = (int **)0x0;
              uVar5 = WindowsGetStringRawBuffer(local_23c,&local_24c);
              iVar4 = Ordinal_487(uVar5,local_220,0x104,0);
              if ((-1 < iVar4) && (iVar4 = FUN_0041f085(local_220,param_3), -1 < iVar4)) {
                if (local_23c != 0) {
                  WindowsDeleteString(local_23c);
                }
                FUN_0040dcb4((int *)&local_248);
                FUN_0040dcb4((int *)&local_244);
                FUN_0040dcb4(&local_240);
                puVar6 = extraout_ECX_00;
                param_2 = extraout_EDX_00;
                break;
              }
            }
            if (local_23c != 0) {
              WindowsDeleteString(local_23c);
            }
          }
          FUN_0040dcb4((int *)&local_248);
        }
        FUN_0040dcb4((int *)&local_244);
      }
      local_8 = 0xff;
      uStack_7 = 0xffffff;
      FUN_0040dcb4(&local_240);
      uVar7 = uVar7 + 1;
      puVar6 = extraout_ECX;
      param_2 = extraout_EDX;
    } while (uVar7 < *(uint *)(param_1 + 8));
  }
  FUN_004204c2(puVar6,param_2);
  return;
}



/* Function: FUN_0041944e */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_0041944e(void *param_1,undefined4 param_2,int *param_3)

{
  int *piVar1;
  code *pcVar2;
  int *piVar3;
  int iVar4;
  uint uVar5;
  void *extraout_ECX;
  void *extraout_ECX_00;
  void *pvVar6;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  float fVar7;
  int *local_4c;
  uint local_48;
  int **local_44;
  int local_40;
  int local_3c;
  int *local_38;
  int *local_34;
  undefined1 local_30 [40];
  undefined1 local_8;
  undefined3 uStack_7;
  undefined4 uStack_4;
  
  uStack_4 = 0x48;
  local_8 = 0x5a;
  uStack_7 = 0x4194;
  local_48 = 0;
  pvVar6 = param_1;
  if (*(int *)((int)param_1 + 8) != 0) {
    local_4c = &local_40;
    do {
      local_40 = 0;
      local_8 = 0;
      uStack_7 = 0;
      piVar1 = *(int **)((int)param_1 + 0xc);
      pcVar2 = *(code **)(*piVar1 + 0x18);
      piVar3 = FUN_00419e27(&local_4c);
      (*(code *)PTR_guard_check_icall_00427678)(piVar1,local_48,piVar3);
      iVar4 = (*pcVar2)();
      if (-1 < iVar4) {
        local_34 = (int *)0x0;
        iVar4 = FUN_00419e88((int)local_30);
        iVar4 = FUN_00419eba(*(void **)(iVar4 + 0x14),(int *)&local_34);
        piVar1 = local_34;
        if (-1 < iVar4) {
          local_38 = (int *)0x0;
          local_8 = 2;
          pcVar2 = *(code **)(*local_34 + 0x18);
          local_44 = &local_38;
          piVar3 = FUN_00419e27(&local_44);
          (*(code *)PTR_guard_check_icall_00427678)(piVar1,local_40,piVar3);
          iVar4 = (*pcVar2)();
          if (-1 < iVar4) {
            local_3c = 0;
            fVar7 = (float)(int)((DAT_00425568 * _DAT_00403664) / DAT_00403670);
            pcVar2 = *(code **)(*local_38 + 0x2c);
            local_8 = 3;
            (*(code *)PTR_guard_check_icall_00427678)(local_38,fVar7,fVar7,&local_3c);
            iVar4 = (*pcVar2)();
            if (-1 < iVar4) {
              local_44 = (int **)0x0;
              uVar5 = FUN_004195d4(param_1,local_3c,&local_44);
              if (-1 < (int)uVar5) {
                *param_3 = (int)local_44;
                FUN_0040dcb4(&local_3c);
                FUN_0040dcb4((int *)&local_38);
                FUN_0040dcb4((int *)&local_34);
                FUN_0040dcb4(&local_40);
                pvVar6 = extraout_ECX_00;
                param_2 = extraout_EDX_00;
                break;
              }
            }
            FUN_0040dcb4(&local_3c);
          }
          FUN_0040dcb4((int *)&local_38);
        }
        FUN_0040dcb4((int *)&local_34);
      }
      local_8 = 0xff;
      uStack_7 = 0xffffff;
      FUN_0040dcb4(&local_40);
      local_48 = local_48 + 1;
      pvVar6 = extraout_ECX;
      param_2 = extraout_EDX;
    } while (local_48 < *(uint *)((int)param_1 + 8));
  }
  FUN_004204c2(pvVar6,param_2);
  return;
}



/* Function: FUN_004195d4 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint __thiscall FUN_004195d4(void *this,undefined4 param_1,undefined4 *param_2)

{
  code *pcVar1;
  int *piVar2;
  uint uVar3;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  undefined4 uVar4;
  undefined4 unaff_retaddr;
  int **ppiVar5;
  undefined4 local_28;
  undefined4 **local_24;
  undefined4 *local_20;
  int local_1c;
  int local_18;
  int *local_14 [3];
  undefined1 local_8;
  undefined3 uStack_7;
  undefined4 uStack_4;
  
  uStack_4 = 0x1c;
  local_20 = (undefined4 *)0x0;
  local_24 = &local_20;
  local_14[0] = (int *)0x0;
  local_8 = 1;
  uStack_7 = 0;
  FUN_00419f9c((int *)local_14);
  ppiVar5 = local_14;
  uVar3 = FUN_0041a43a(extraout_ECX,extraout_EDX);
  piVar2 = local_14[0];
  if ((int)uVar3 < 0) {
    local_8 = 2;
    if (local_14[0] != (int *)0x0) {
      local_14[0] = (int *)0x0;
      pcVar1 = *(code **)(*piVar2 + 8);
      (*(code *)PTR_guard_check_icall_00427678)(piVar2);
      (*pcVar1)();
    }
  }
  else {
    uVar3 = FUN_00419ff4(local_14[0],&local_24);
    piVar2 = local_14[0];
    local_8 = 3;
    if (local_14[0] != (int *)0x0) {
      local_14[0] = (int *)0x0;
      pcVar1 = *(code **)(*piVar2 + 8);
      (*(code *)PTR_guard_check_icall_00427678)(piVar2,param_1,ppiVar5);
      (*pcVar1)();
    }
    if (-1 < (int)uVar3) {
      local_1c = 0;
      pcVar1 = *(code **)*local_20;
      local_8 = 4;
      (*(code *)PTR_guard_check_icall_00427678)(local_20,&DAT_0040314c,&local_1c);
      uVar3 = (*pcVar1)();
      if ((int)uVar3 < 0) {
        FUN_00406ff8(unaff_retaddr,0x81,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp"
                     ,uVar3);
      }
      else {
        local_18 = 0;
        local_8 = 6;
        uVar3 = CreateStreamOverRandomAccessStream(local_1c,&DAT_004032c0,&local_18);
        if ((int)uVar3 < 0) {
          uVar4 = 0x84;
LAB_0041974f:
          FUN_00406ff8(unaff_retaddr,uVar4,
                       "multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",uVar3);
        }
        else {
          uVar3 = FUN_004197b0(this,local_18);
          if ((int)uVar3 < 0) {
            uVar4 = 0x86;
            goto LAB_0041974f;
          }
          local_24 = (undefined4 **)(int)((DAT_00425568 * _DAT_00403664) / DAT_00403670);
          uVar3 = FUN_00419c60(this,(int)local_24,(int)local_24);
          if ((int)uVar3 < 0) {
            uVar4 = 0x8b;
            goto LAB_0041974f;
          }
          local_14[0] = (int *)0x0;
          uVar3 = FUN_004198dc(this,local_14);
          piVar2 = local_14[0];
          if ((int)uVar3 < 0) {
            uVar4 = 0x8e;
            goto LAB_0041974f;
          }
          uVar3 = FUN_0041994c(local_24,local_14[0],&local_28);
          if (-1 < (int)uVar3) {
            *param_2 = local_28;
          }
          if (piVar2 != (int *)0x0) {
            DeleteObject(piVar2);
          }
          uVar3 = 0;
        }
        FUN_0040dcb4(&local_18);
      }
      FUN_0040dcb4(&local_1c);
      goto LAB_00419798;
    }
  }
  local_8 = 0;
  FUN_00406ff8(unaff_retaddr,0x7e,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",uVar3
              );
LAB_00419798:
  FUN_0040dcb4((int *)&local_20);
  return uVar3;
}



/* Function: FUN_004197b0 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

uint __thiscall FUN_004197b0(void *this,undefined4 param_1)

{
  code *pcVar1;
  undefined4 *puVar2;
  uint uVar3;
  int iVar4;
  int *piVar5;
  undefined4 unaff_retaddr;
  int *local_18;
  undefined4 *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 8;
  local_8 = 0;
                    /* WARNING: Load size is inaccurate */
  piVar5 = *this;
  if (piVar5 != (int *)0x0) {
    *(undefined4 *)this = 0;
    pcVar1 = *(code **)(*piVar5 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar5);
    (*pcVar1)();
  }
  local_8 = 0xffffffff;
  uVar3 = CoCreateInstance((IID *)&DAT_0040261c,(LPUNKNOWN)0x0,1,(IID *)&LAB_004032b0,(LPVOID *)this
                          );
  if ((int)uVar3 < 0) {
    FUN_00406ff8(unaff_retaddr,0xa1,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
                 uVar3);
    return uVar3;
  }
  local_18 = (int *)0x0;
                    /* WARNING: Load size is inaccurate */
  pcVar1 = *(code **)(**this + 0x10);
  local_8._0_1_ = 1;
  local_8._1_3_ = 0;
  (*(code *)PTR_guard_check_icall_00427678)(*this,param_1,&DAT_0040262c,0,&local_18);
  uVar3 = (*pcVar1)();
  if ((int)uVar3 < 0) {
    FUN_00406ff8(unaff_retaddr,0xa4,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
                 uVar3);
    goto LAB_004198c4;
  }
  local_14[0] = (undefined4 *)0x0;
  pcVar1 = *(code **)(*local_18 + 0x34);
  local_8._0_1_ = 3;
  (*(code *)PTR_guard_check_icall_00427678)(local_18,0,local_14);
  iVar4 = (*pcVar1)();
  puVar2 = local_14[0];
  if (iVar4 < 0) {
LAB_004198ba:
    uVar3 = 0;
  }
  else {
    pcVar1 = *(code **)*local_14[0];
    piVar5 = FUN_00419f2d((int *)((int)this + 4));
    (*(code *)PTR_guard_check_icall_00427678)(puVar2,&DAT_004032a0,piVar5);
    uVar3 = (*pcVar1)();
    if (-1 < (int)uVar3) goto LAB_004198ba;
    FUN_00406ff8(unaff_retaddr,0xa9,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
                 uVar3);
  }
  FUN_0040dcb4((int *)local_14);
LAB_004198c4:
  FUN_0040dcb4((int *)&local_18);
  return uVar3;
}



/* Function: FUN_004198dc */

uint __thiscall FUN_004198dc(void *this,undefined4 *param_1)

{
  uint uVar1;
  undefined4 uVar2;
  undefined4 unaff_retaddr;
  undefined4 local_8;
  
  local_8 = 0;
  uVar1 = FUN_00419a2b(this,this,DAT_0040263c,DAT_00402640,DAT_00402644,DAT_00402648);
  if ((int)uVar1 < 0) {
    uVar2 = 0xb4;
  }
  else {
    uVar1 = FUN_00419b34(this,&local_8);
    if (-1 < (int)uVar1) {
      *param_1 = local_8;
      return 0;
    }
    uVar2 = 0xb6;
  }
  FUN_00406ff8(unaff_retaddr,uVar2,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
               uVar1);
  return uVar1;
}



/* Function: FUN_0041994c */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

uint FUN_0041994c(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  code *pcVar1;
  uint uVar2;
  undefined4 uVar3;
  undefined4 unaff_retaddr;
  undefined4 local_18;
  int *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 8;
  local_14[0] = (int *)0x0;
  local_8 = 0;
  uVar2 = ImageList_CoCreateInstance(&DAT_0040265c,0,&DAT_00403290,local_14);
  if ((int)uVar2 < 0) {
    uVar3 = 0xc1;
  }
  else {
    pcVar1 = *(code **)(*local_14[0] + 0xa4);
    (*(code *)PTR_guard_check_icall_00427678)(local_14[0],param_1,param_1,0x30020,1,1);
    uVar2 = (*pcVar1)();
    if ((int)uVar2 < 0) {
      uVar3 = 0xc3;
    }
    else {
      pcVar1 = *(code **)(*local_14[0] + 0xc);
      (*(code *)PTR_guard_check_icall_00427678)(local_14[0],param_2,0,&local_18);
      uVar2 = (*pcVar1)();
      if ((int)uVar2 < 0) {
        uVar3 = 0xc6;
      }
      else {
        pcVar1 = *(code **)(*local_14[0] + 0x28);
        (*(code *)PTR_guard_check_icall_00427678)(local_14[0],local_18,0,param_3);
        uVar2 = (*pcVar1)();
        if (-1 < (int)uVar2) {
          uVar2 = 0;
          goto LAB_00419a13;
        }
        uVar3 = 200;
      }
    }
  }
  FUN_00406ff8(unaff_retaddr,uVar3,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
               uVar2);
LAB_00419a13:
  FUN_0040dcb4((int *)local_14);
  return uVar2;
}



/* Function: FUN_00419a2b */

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */

void __thiscall
FUN_00419a2b(void *this,undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5)

{
  code *pcVar1;
  int *piVar2;
  uint uVar3;
  int *piVar4;
  int iVar5;
  undefined4 extraout_ECX;
  undefined4 uVar6;
  undefined4 extraout_EDX;
  undefined4 unaff_retaddr;
  int local_30;
  int *local_2c;
  int *local_28;
  undefined4 local_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined1 local_8;
  undefined3 uStack_7;
  undefined4 uStack_4;
  
  uStack_4 = 0x20;
  local_28 = (int *)0x0;
  local_24 = param_2;
  uStack_20 = param_3;
  uStack_1c = param_4;
  uStack_18 = param_5;
                    /* WARNING: Load size is inaccurate */
  pcVar1 = *(code **)(**this + 0x28);
  local_8 = 0;
  uStack_7 = 0;
  (*(code *)PTR_guard_check_icall_00427678)(*this,&local_28);
  uVar3 = (*pcVar1)();
  if ((int)uVar3 < 0) {
    uVar6 = 0xd6;
  }
  else {
    pcVar1 = *(code **)(*local_28 + 0x20);
    (*(code *)PTR_guard_check_icall_00427678)
              (local_28,*(undefined4 *)((int)this + 4),&local_24,0,0,0,0);
    uVar3 = (*pcVar1)();
    piVar2 = local_28;
    if (-1 < (int)uVar3) {
      local_2c = (int *)0x0;
      local_8 = 2;
      pcVar1 = *(code **)*local_28;
      piVar4 = FUN_00419f2d((int *)&local_2c);
      (*(code *)PTR_guard_check_icall_00427678)(piVar2,&DAT_004032a0,piVar4);
      iVar5 = (*pcVar1)();
      piVar2 = local_2c;
      if ((-1 < iVar5) && (*(int **)((int)this + 4) != local_2c)) {
        local_8 = 3;
        if (local_2c != (int *)0x0) {
          pcVar1 = *(code **)(*local_2c + 4);
          (*(code *)PTR_guard_check_icall_00427678)(local_2c);
          (*pcVar1)();
        }
        local_30 = *(int *)((int)this + 4);
        *(int **)((int)this + 4) = piVar2;
        FUN_0040dcb4(&local_30);
      }
      FUN_0040dcb4((int *)&local_2c);
      goto LAB_00419b1c;
    }
    uVar6 = 0xdd;
  }
  FUN_00406ff8(unaff_retaddr,uVar6,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
               uVar3);
LAB_00419b1c:
  FUN_0040dcb4((int *)&local_28);
  FUN_004204c2(extraout_ECX,extraout_EDX);
  return;
}



/* Function: FUN_00419b34 */

void __thiscall FUN_00419b34(void *this,undefined4 *param_1)

{
  code *pcVar1;
  uint uVar2;
  undefined4 uVar3;
  undefined4 extraout_EDX;
  undefined8 uVar4;
  undefined4 unaff_retaddr;
  void *local_58;
  HBITMAP local_54;
  int local_50;
  int local_4c;
  BITMAPINFO local_48;
  undefined4 local_1c;
  undefined4 local_18;
  int local_14;
  int local_10;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  *param_1 = 0;
  pcVar1 = *(code **)(**(int **)((int)this + 4) + 0xc);
  (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)this + 4),&local_4c,&local_50);
  uVar2 = (*pcVar1)();
  if ((int)uVar2 < 0) {
    uVar3 = 0xf4;
  }
  else {
    local_48.bmiHeader.biWidth = local_4c;
    local_48.bmiHeader.biHeight = -local_50;
    local_48.bmiHeader.biSizeImage = 0;
    local_48.bmiHeader.biXPelsPerMeter = 0;
    local_48.bmiHeader.biYPelsPerMeter = 0;
    local_48.bmiHeader.biClrUsed = 0;
    local_48.bmiHeader.biPlanes = 1;
    local_48.bmiHeader.biBitCount = 0x20;
    local_48.bmiHeader.biClrImportant = 0;
    local_48.bmiColors[0].rgbBlue = '\0';
    local_48.bmiColors[0].rgbGreen = '\0';
    local_48.bmiColors[0].rgbRed = '\0';
    local_48.bmiColors[0].rgbReserved = '\0';
    local_48.bmiHeader.biSize = 0x28;
    local_48.bmiHeader.biCompression = 0;
    local_54 = CreateDIBSection((HDC)0x0,&local_48,0,&local_58,(HANDLE)0x0,0);
    if (local_54 == (HBITMAP)0x0) {
      uVar2 = 0x8007000e;
      uVar3 = 0x107;
    }
    else {
      local_10 = local_50;
      local_1c = 0;
      local_18 = 0;
      local_14 = local_4c;
      pcVar1 = *(code **)(**(int **)((int)this + 4) + 0x1c);
      (*(code *)PTR_guard_check_icall_00427678)
                (*(int **)((int)this + 4),&local_1c,local_4c << 2,local_4c * local_50 * 4,local_58);
      uVar4 = (*pcVar1)();
      uVar3 = (undefined4)((ulonglong)uVar4 >> 0x20);
      if (-1 < (int)uVar4) {
        *param_1 = local_54;
        goto LAB_00419c49;
      }
      DeleteObject(local_54);
      uVar2 = 0x80004005;
      uVar3 = 0x124;
    }
  }
  FUN_00406ff8(unaff_retaddr,uVar3,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
               uVar2);
  uVar3 = extraout_EDX;
LAB_00419c49:
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,uVar3);
  return;
}



/* Function: FUN_00419c60 */

uint __thiscall FUN_00419c60(void *this,int param_1,int param_2)

{
  uint uVar1;
  undefined4 extraout_ECX;
  undefined4 uVar2;
  undefined4 unaff_retaddr;
  
  uVar1 = FUN_00419a2b(this,this,DAT_0040264c,DAT_00402650,DAT_00402654,DAT_00402658);
  if ((int)uVar1 < 0) {
    uVar2 = 300;
  }
  else {
    uVar1 = FUN_00419ccc(this,extraout_ECX,extraout_ECX,param_1,param_2);
    if (-1 < (int)uVar1) {
      return 0;
    }
    uVar2 = 0x12e;
  }
  FUN_00406ff8(unaff_retaddr,uVar2,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
               uVar1);
  return uVar1;
}



/* Function: FUN_00419ccc */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

uint __thiscall
FUN_00419ccc(void *this,undefined4 param_1,undefined4 param_2,int param_3,int param_4)

{
  code *pcVar1;
  undefined4 *puVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;
  undefined4 uVar6;
  int iVar7;
  undefined4 unaff_retaddr;
  undefined4 *local_20;
  uint local_1c;
  int *local_18;
  uint local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x14;
  local_8 = 0x419cd8;
  pcVar1 = *(code **)(**(int **)((int)this + 4) + 0xc);
  local_20 = (undefined4 *)this;
  (*(code *)PTR_guard_check_icall_00427678)(*(int **)((int)this + 4),local_14,&local_1c);
  uVar4 = (*pcVar1)();
  if ((int)uVar4 < 0) {
    FUN_00406ff8(unaff_retaddr,0x137,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
                 uVar4);
    return uVar4;
  }
  if (local_1c < local_14[0]) {
    iVar5 = MulDiv(param_4,local_1c,local_14[0]);
    iVar7 = 1;
    if (1 < iVar5) {
      iVar7 = MulDiv(param_4,local_1c,local_14[0]);
    }
  }
  else {
    iVar5 = MulDiv(param_3,local_14[0],local_1c);
    iVar7 = param_4;
    if (iVar5 < 2) {
      param_3 = 1;
    }
    else {
      param_3 = MulDiv(param_3,local_14[0],local_1c);
    }
  }
  local_18 = (int *)0x0;
  pcVar1 = *(code **)(*(int *)*local_20 + 0x2c);
  local_8 = 0;
  (*(code *)PTR_guard_check_icall_00427678)((int *)*local_20,&local_18);
  uVar4 = (*pcVar1)();
  puVar2 = local_20;
  if ((int)uVar4 < 0) {
    uVar6 = 0x14c;
  }
  else {
    pcVar1 = *(code **)(*local_18 + 0x20);
    (*(code *)PTR_guard_check_icall_00427678)(local_18,local_20[1],param_3,iVar7,3);
    uVar4 = (*pcVar1)();
    piVar3 = local_18;
    if (-1 < (int)uVar4) {
      local_18 = (int *)0x0;
      local_8 = CONCAT31(local_8._1_3_,2);
      if (piVar3 != (int *)0x0) {
        pcVar1 = *(code **)(*piVar3 + 4);
        (*(code *)PTR_guard_check_icall_00427678)(piVar3);
        (*pcVar1)();
      }
      local_20 = (undefined4 *)puVar2[1];
      puVar2[1] = piVar3;
      FUN_0040dcb4((int *)&local_20);
      uVar4 = 0;
      goto LAB_00419e0f;
    }
    uVar6 = 0x14e;
  }
  FUN_00406ff8(unaff_retaddr,uVar6,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",
               uVar4);
LAB_00419e0f:
  FUN_0040dcb4((int *)&local_18);
  return uVar4;
}



/* Function: FUN_00419e27 */

int * __fastcall FUN_00419e27(undefined4 *param_1)

{
  int *piVar1;
  int *piVar2;
  code *pcVar3;
  uint uVar4;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00421302;
  local_10 = ExceptionList;
  uVar4 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  piVar1 = (int *)*param_1;
  local_8 = 0;
  piVar2 = (int *)*piVar1;
  if (piVar2 != (int *)0x0) {
    *piVar1 = 0;
    pcVar3 = *(code **)(*piVar2 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar2,uVar4);
    (*pcVar3)();
  }
  ExceptionList = local_10;
  return piVar1;
}



/* Function: FUN_00419e88 */

int __fastcall FUN_00419e88(int param_1)

{
  code *pcVar1;
  DWORD DVar2;
  int iVar3;
  
  *(undefined4 *)(param_1 + 0x14) = 0;
  DVar2 = WindowsCreateStringReference
                    (L"Windows.Internal.StateRepository.PackageResourceResolver",0x38,param_1,
                     (undefined4 *)(param_1 + 0x14));
  if (-1 < (int)DVar2) {
    return param_1;
  }
  FUN_00409b05(DVar2);
  pcVar1 = (code *)swi(3);
  iVar3 = (*pcVar1)();
  return iVar3;
}



/* Function: FUN_00419eba */

void __thiscall FUN_00419eba(void *this,int *param_1)

{
  int *piVar1;
  code *pcVar2;
  uint uVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00421568;
  local_10 = ExceptionList;
  uVar3 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8 = 0;
  piVar1 = (int *)*param_1;
  if (piVar1 != (int *)0x0) {
    *param_1 = 0;
    pcVar2 = *(code **)(*piVar1 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1,uVar3);
    (*pcVar2)();
  }
  RoGetActivationFactory(this,&LAB_004030d4,param_1);
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00419f2d */

int * FUN_00419f2d(int *param_1)

{
  int *piVar1;
  code *pcVar2;
  uint uVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00421302;
  local_10 = ExceptionList;
  uVar3 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8 = 0;
  piVar1 = (int *)*param_1;
  if (piVar1 != (int *)0x0) {
    *param_1 = 0;
    pcVar2 = *(code **)(*piVar1 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1,uVar3);
    (*pcVar2)();
  }
  ExceptionList = local_10;
  return param_1;
}



/* Function: thunk_FUN_00419f9c */

void __fastcall thunk_FUN_00419f9c(int *param_1)

{
  int *piVar1;
  code *pcVar2;
  uint uVar3;
  void *pvStack_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  pvStack_10 = ExceptionList;
  uVar3 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &pvStack_10;
  piVar1 = (int *)*param_1;
  if (piVar1 != (int *)0x0) {
    *param_1 = 0;
    pcVar2 = *(code **)(*piVar1 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1,uVar3);
    (*pcVar2)();
  }
  ExceptionList = pvStack_10;
  return;
}



/* Function: FUN_00419f9c */

void __fastcall FUN_00419f9c(int *param_1)

{
  int *piVar1;
  code *pcVar2;
  uint uVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421144;
  local_10 = ExceptionList;
  uVar3 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  piVar1 = (int *)*param_1;
  if (piVar1 != (int *)0x0) {
    *param_1 = 0;
    pcVar2 = *(code **)(*piVar1 + 8);
    (*(code *)PTR_guard_check_icall_00427678)(piVar1,uVar3);
    (*pcVar2)();
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_00419ff4 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

DWORD __fastcall FUN_00419ff4(int *param_1,undefined4 *param_2)

{
  code *pcVar1;
  int *piVar2;
  int *piVar3;
  DWORD DVar4;
  code *local_18;
  int local_14 [3];
  int local_8;
  undefined4 uStack_4;
  
  uStack_4 = 8;
  local_14[0] = 0;
  local_8 = 0;
  DVar4 = FUN_0041a330(local_14);
  if (-1 < (int)DVar4) {
    pcVar1 = *(code **)(*param_1 + 0x18);
    (*(code *)PTR_guard_check_icall_00427678)(param_1,local_14[0]);
    DVar4 = (*pcVar1)();
    if (-1 < (int)DVar4) {
      local_18 = (code *)0x0;
      CoWaitForMultipleObjects(1,0xffffffff,1,local_14[0] + 0x10,&local_18);
      piVar2 = (int *)*param_2;
      local_18 = *(code **)(*param_1 + 0x20);
      local_8._0_1_ = 2;
      piVar3 = (int *)*piVar2;
      if (piVar3 != (int *)0x0) {
        *piVar2 = 0;
        pcVar1 = *(code **)(*piVar3 + 8);
        (*(code *)PTR_guard_check_icall_00427678)(piVar3);
        (*pcVar1)();
      }
      pcVar1 = local_18;
      local_8 = (uint)local_8._1_3_ << 8;
      (*(code *)PTR_guard_check_icall_00427678)(param_1,piVar2);
      DVar4 = (*pcVar1)();
      if (-1 < (int)DVar4) {
        FUN_00419f9c((int *)(local_14[0] + 0xc));
        DVar4 = 0;
      }
    }
  }
  FUN_0040dcb4(local_14);
  return DVar4;
}



/* Function: FUN_0041a0c0 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* WARNING: Unable to track spacebase fully for stack */

undefined4 FUN_0041a0c0(int param_1,int *param_2)

{
  code *pcVar1;
  int *piVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined1 *puVar6;
  undefined1 *puVar7;
  undefined4 uStack_28;
  int *piStack_24;
  undefined1 auStack_20 [24];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0;
  local_8 = 0x41a0cc;
  puVar5 = (undefined4 *)auStack_20;
  if (*(int **)(param_1 + 0xc) != param_2) {
    local_8 = 0;
    if (param_2 != (int *)0x0) {
      piStack_24 = param_2;
      pcVar1 = *(code **)(*param_2 + 4);
      puVar4 = &uStack_28;
      uStack_28 = 0x41a0ed;
      (*(code *)PTR_guard_check_icall_00427678)();
      puVar5 = puVar4 + -1;
      puVar4[-1] = 0x41a0ef;
      (*pcVar1)();
    }
    piVar2 = *(int **)(param_1 + 0xc);
    *(int **)(param_1 + 0xc) = param_2;
    local_8 = 1;
    if (piVar2 != (int *)0x0) {
      iVar3 = *piVar2;
      *(int **)((int)puVar5 + -4) = piVar2;
      pcVar1 = *(code **)(iVar3 + 8);
      puVar6 = (undefined1 *)((int)puVar5 + -8);
      *(undefined4 *)((int)puVar5 + -8) = 0x41a10e;
      (*(code *)PTR_guard_check_icall_00427678)();
      puVar5 = (undefined4 *)(puVar6 + -4);
      *(undefined4 *)(puVar6 + -4) = 0x41a110;
      (*pcVar1)();
    }
  }
  *(undefined4 *)((int)puVar5 + -4) = *(undefined4 *)(param_1 + 0x10);
  puVar7 = (undefined1 *)((int)puVar5 + -8);
  *(undefined4 *)((int)puVar5 + -8) = 0x41a119;
  SetEvent(*(HANDLE *)((int)puVar5 + -4));
  *(undefined4 *)(puVar7 + -4) = 0x41a120;
  return 0;
}



/* Function: FUN_0041a12e */

void __fastcall FUN_0041a12e(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00401764;
  if (param_1[4] != 0) {
    CloseHandle((HANDLE)param_1[4]);
    param_1[4] = 0;
  }
  FUN_00419f9c(param_1 + 3);
  param_1[2] = 0xc0000001;
  return;
}



/* Function: FUN_0041a170 */

int FUN_0041a170(int *param_1)

{
  int *piVar1;
  int iVar2;
  code *pcVar3;
  int iVar4;
  
  piVar1 = param_1 + 2;
  do {
    iVar2 = *piVar1;
    if (iVar2 == 0x7fffffff) break;
    LOCK();
    iVar4 = *piVar1;
    if (iVar2 == iVar4) {
      *piVar1 = iVar2 + -1;
      iVar4 = iVar2;
    }
    UNLOCK();
  } while (iVar4 != iVar2);
  if (iVar2 + -1 == 0) {
    if (param_1 != (int *)0x0) {
      pcVar3 = *(code **)(*param_1 + 0x10);
      (*(code *)PTR_guard_check_icall_00427678)(1);
      (*pcVar3)();
    }
    if (DAT_00425b04 != (int *)0x0) {
      pcVar3 = *(code **)(*DAT_00425b04 + 8);
      (*(code *)PTR_guard_check_icall_00427678)(DAT_00425b04);
      (*pcVar3)();
    }
  }
  return iVar2 + -1;
}



/* Function: FUN_0041a1e0 */

int FUN_0041a1e0(int param_1)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  
  piVar3 = (int *)(param_1 + 8);
  do {
    iVar1 = *piVar3;
    if (iVar1 == 0x7fffffff) {
      return 0x7fffffff;
    }
    LOCK();
    iVar2 = *piVar3;
    if (iVar1 == iVar2) {
      *piVar3 = iVar1 + 1;
      iVar2 = iVar1;
    }
    UNLOCK();
  } while (iVar2 != iVar1);
  return iVar1 + 1;
}



/* Function: FUN_0041a220 */

void FUN_0041a220(int *param_1,int *param_2,undefined4 *param_3)

{
  FUN_0041a268(param_1,param_2,param_3);
  return;
}



/* Function: FUN_0041a240 */

undefined4 * __thiscall FUN_0041a240(void *this,byte param_1)

{
  FUN_0041a12e((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_0041a268 */

undefined4 __fastcall FUN_0041a268(int *param_1,int *param_2,undefined4 *param_3)

{
  code *pcVar1;
  uint uVar2;
  undefined4 uVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_004210b8;
  local_10 = ExceptionList;
  uVar2 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  uVar3 = 0;
  *param_3 = 0;
  if ((((*param_2 == 0) && (param_2[1] == DAT_00402d18)) && (param_2[2] == DAT_00402d1c)) &&
     (param_2[3] == DAT_00402d20)) {
    *param_3 = param_1;
    pcVar1 = *(code **)(*param_1 + 4);
    (*(code *)PTR_guard_check_icall_00427678)(param_1);
    (*pcVar1)();
    uVar3 = 0;
  }
  else if (((*param_2 == 0x3dddecf4) && (param_2[1] == DAT_00403284)) &&
          ((param_2[2] == DAT_00403288 && (param_2[3] == DAT_0040328c)))) {
    *param_3 = param_1;
    pcVar1 = *(code **)(*param_1 + 4);
    (*(code *)PTR_guard_check_icall_00427678)(param_1,uVar2);
    (*pcVar1)();
  }
  else {
    uVar3 = 0x80004002;
  }
  ExceptionList = local_10;
  return uVar3;
}



/* Function: FUN_0041a330 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

DWORD __fastcall FUN_0041a330(undefined4 *param_1)

{
  code *pcVar1;
  int *piVar2;
  int *piVar3;
  HANDLE pvVar4;
  DWORD DVar5;
  uint uVar6;
  int *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 4;
  local_8 = 0x41a33c;
  *param_1 = 0;
  piVar3 = (int *)FUN_004203fa(0x14);
  piVar2 = DAT_00425b04;
  if (piVar3 == (int *)0x0) {
    return 0x8007000e;
  }
  local_8 = 0;
  *piVar3 = (int)&PTR_purecall_00401740;
  piVar3[2] = 1;
  *piVar3 = (int)&PTR_FUN_00401750;
  if (piVar2 != (int *)0x0) {
    pcVar1 = *(code **)(*piVar2 + 4);
    (*(code *)PTR_guard_check_icall_00427678)(piVar2);
    (*pcVar1)();
  }
  *piVar3 = (int)&PTR_FUN_00401764;
  piVar3[3] = 0;
  local_8 = 0xffffffff;
  local_14[0] = piVar3;
  pvVar4 = CreateEventExW((LPSECURITY_ATTRIBUTES)0x0,(LPCWSTR)0x0,0,0x1f0003);
  piVar3[4] = (int)pvVar4;
  if (pvVar4 == (HANDLE)0x0) {
    DVar5 = GetLastError();
    uVar6 = DVar5 & 0xffff | 0x80070000;
    if ((int)DVar5 < 1) {
      uVar6 = DVar5;
    }
    if ((int)uVar6 < 0) goto LAB_0041a3ea;
  }
  local_8 = 2;
  pcVar1 = *(code **)(*piVar3 + 4);
  (*(code *)PTR_guard_check_icall_00427678)(piVar3);
  (*pcVar1)();
  *param_1 = piVar3;
  uVar6 = 0;
LAB_0041a3ea:
  FUN_0040dcb4((int *)local_14);
  return uVar6;
}



/* Function: FUN_0041a410 */

void * __thiscall FUN_0041a410(void *this,byte param_1)

{
  *(undefined4 *)((int)this + 8) = 0xc0000001;
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}



/* Function: FUN_0041a43a */

void __fastcall FUN_0041a43a(undefined4 param_1,undefined4 param_2)

{
  undefined8 uVar1;
  
  uVar1 = FUN_00421050(param_1,param_2);
                    /* WARNING: Could not recover jumptable at 0x0041a448. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)uVar1)();
  return;
}



/* Function: FUN_0041a450 */

uint __thiscall FUN_0041a450(void *this)

{
  undefined4 extraout_ECX;
  uint uVar1;
  undefined4 in_stack_00000010;
  uint in_stack_00000014;
  uint local_10;
  uint local_c;
  undefined4 local_8;
  
  uVar1 = in_stack_00000014 & 0xffff | 0x80070000;
  if ((int)in_stack_00000014 < 1) {
    uVar1 = in_stack_00000014;
  }
  local_10 = uVar1;
  local_c = FUN_00406511(uVar1);
  local_8 = 0;
  FUN_00408473(this,0x1b,"multimedia\\deviceui\\volume\\sndvolexe\\immersiveicon.cpp",extraout_ECX,
               extraout_ECX,in_stack_00000010,(int *)&local_10);
  return uVar1;
}



/* Function: FUN_0041a4a6 */

void __fastcall FUN_0041a4a6(void *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421121;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_0041a450(param_1);
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0041a4f2 */

void __fastcall FUN_0041a4f2(int param_1)

{
  DeleteCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x18));
  ATL::CSimpleArray<unsigned_short,class_ATL::CSimpleArrayEqualHelper<unsigned_short>_>::RemoveAll
            ((CSimpleArray<unsigned_short,class_ATL::CSimpleArrayEqualHelper<unsigned_short>_> *)
             (param_1 + 0x30));
  return;
}



/* Function: FUN_0041a510 */

undefined * FUN_0041a510(int param_1)

{
  code *pcVar1;
  undefined *puVar2;
  
  EnterCriticalSection((LPCRITICAL_SECTION)&DAT_00425360);
  if ((DAT_0042537c < param_1) || (param_1 < 0)) {
    puVar2 = (undefined *)0x0;
  }
  else {
    puVar2 = PTR_IMAGE_DOS_HEADER_00425350;
    if (param_1 != DAT_0042537c) {
      if (DAT_0042537c <= param_1) {
        FUN_00409b05(0xc000008c);
        pcVar1 = (code *)swi(3);
        puVar2 = (undefined *)(*pcVar1)();
        return puVar2;
      }
      puVar2 = *(undefined **)(DAT_00425378 + param_1 * 4);
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)&DAT_00425360);
  return puVar2;
}



/* Function: RemoveAll */

/* Library Function - Single Match
    public: void __thiscall ATL::CSimpleArray<unsigned short,class
   ATL::CSimpleArrayEqualHelper<unsigned short> >::RemoveAll(void)
   
   Library: Visual Studio 2015 Release */

void __thiscall
ATL::CSimpleArray<unsigned_short,class_ATL::CSimpleArrayEqualHelper<unsigned_short>_>::RemoveAll
          (CSimpleArray<unsigned_short,class_ATL::CSimpleArrayEqualHelper<unsigned_short>_> *this)

{
  if (*(int *)this != 0) {
    free(*(void **)this);
    *(undefined4 *)this = 0;
  }
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  return;
}



/* Function: FUN_0041a593 */

undefined4 __fastcall FUN_0041a593(int *param_1,HINSTANCE param_2)

{
  code *pcVar1;
  undefined4 uVar2;
  int iVar3;
  
  if (param_1 == (int *)0x0) {
LAB_0041a5ff:
    uVar2 = 0x80070057;
  }
  else {
    if (*param_1 != 0) {
      if (*param_1 != 0x2c) goto LAB_0041a5ff;
      iVar3 = 0;
      if (0 < param_1[9]) {
        do {
          if ((iVar3 < 0) || (param_1[9] <= iVar3)) {
            FUN_00409b05(0xc000008c);
            pcVar1 = (code *)swi(3);
            uVar2 = (*pcVar1)();
            return uVar2;
          }
          UnregisterClassA((LPCSTR)(uint)*(ushort *)(param_1[8] + iVar3 * 2),param_2);
          iVar3 = iVar3 + 1;
        } while (iVar3 < param_1[9]);
      }
      if (param_1[8] != 0) {
        free((void *)param_1[8]);
        param_1[8] = 0;
      }
      param_1[9] = 0;
      param_1[10] = 0;
      DeleteCriticalSection((LPCRITICAL_SECTION)(param_1 + 1));
      *param_1 = 0;
    }
    uVar2 = 0;
  }
  return uVar2;
}



/* Function: FUN_0041a618 */

/* WARNING: Function: __SEH_prolog4 replaced with injection: SEH_prolog4 */

undefined4 __fastcall FUN_0041a618(LPCRITICAL_SECTION param_1)

{
  undefined4 local_14;
  
  InitializeCriticalSection(param_1);
  ExceptionList = local_14;
  return 0;
}



/* Function: FUN_0041a670 */

int * __thiscall FUN_0041a670(void *this,int param_1,uint param_2)

{
  code *pcVar1;
  uint uVar2;
  int *piVar3;
  uint uVar4;
  
  if ((((-1 < param_1) && (0 < 0x7fffffff - param_1)) &&
      (uVar4 = param_1 + 8U & 0xfffffff8, param_1 + 1 <= (int)uVar4)) &&
     ((uVar2 = (uint)((ulonglong)uVar4 * (ulonglong)param_2),
      (int)((ulonglong)uVar4 * (ulonglong)param_2 >> 0x20) == 0 && (uVar2 < 0xfffffff0)))) {
    pcVar1 = *(code **)**(undefined4 **)((int)this + 4);
    (*(code *)PTR_guard_check_icall_00427678)(uVar2 + 0x10);
    piVar3 = (int *)(*pcVar1)();
    if (piVar3 != (int *)0x0) {
      piVar3[1] = 0;
      *piVar3 = (int)this;
      piVar3[3] = 1;
      piVar3[2] = uVar4 - 1;
      return piVar3;
    }
  }
  return (int *)0x0;
}



/* Function: FUN_0041a700 */

void __thiscall FUN_0041a700(void *this,undefined4 param_1)

{
  code *pcVar1;
  
  pcVar1 = *(code **)(**(int **)((int)this + 4) + 4);
  (*(code *)PTR_guard_check_icall_00427678)(param_1);
  (*pcVar1)();
  return;
}



/* Function: FUN_0041a730 */

int __thiscall FUN_0041a730(void *this,undefined4 param_1,int param_2,uint param_3)

{
  code *pcVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  
  if ((((-1 < param_2) && (0 < 0x7fffffff - param_2)) &&
      (uVar4 = param_2 + 8U & 0xfffffff8, param_2 + 1 <= (int)uVar4)) &&
     ((uVar2 = (uint)((ulonglong)uVar4 * (ulonglong)param_3),
      (int)((ulonglong)uVar4 * (ulonglong)param_3 >> 0x20) == 0 && (uVar2 < 0xfffffff0)))) {
    pcVar1 = *(code **)(**(int **)((int)this + 4) + 8);
    (*(code *)PTR_guard_check_icall_00427678)(param_1,uVar2 + 0x10);
    iVar3 = (*pcVar1)();
    if (iVar3 != 0) {
      *(uint *)(iVar3 + 8) = uVar4 - 1;
      return iVar3;
    }
  }
  return 0;
}



/* Function: FUN_0041a7b0 */

int __fastcall FUN_0041a7b0(int param_1)

{
  LOCK();
  *(int *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) + 1;
  UNLOCK();
  return param_1 + 8;
}



/* Function: FUN_0041a7c0 */

undefined4 __fastcall FUN_0041a7c0(undefined4 param_1)

{
  return param_1;
}



/* Function: FUN_0041a7d0 */

undefined4 * __thiscall FUN_0041a7d0(void *this,byte param_1)

{
  *(undefined ***)this = &PTR_FUN_00401778;
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_0041a7f9 */

void __fastcall FUN_0041a7f9(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00401790;
  if ((*(char *)(param_1 + 2) != '\0') && (param_1[1] != 0)) {
    HeapDestroy((HANDLE)param_1[1]);
  }
  return;
}



/* Function: FUN_0041a820 */

void __thiscall FUN_0041a820(void *this,SIZE_T param_1)

{
  HeapAlloc(*(HANDLE *)((int)this + 4),0,param_1);
  return;
}



/* Function: FUN_0041a840 */

void __thiscall FUN_0041a840(void *this,LPVOID param_1)

{
  if (param_1 != (LPVOID)0x0) {
    HeapFree(*(HANDLE *)((int)this + 4),0,param_1);
  }
  return;
}



/* Function: FUN_0041a870 */

LPVOID __thiscall FUN_0041a870(void *this,LPVOID param_1,SIZE_T param_2)

{
  code *pcVar1;
  LPVOID pvVar2;
  
  if (param_1 == (LPVOID)0x0) {
                    /* WARNING: Load size is inaccurate */
    pcVar1 = (code *)**this;
    (*(code *)PTR_guard_check_icall_00427678)(param_2);
    pvVar2 = (LPVOID)(*pcVar1)();
  }
  else if (param_2 == 0) {
                    /* WARNING: Load size is inaccurate */
    pcVar1 = *(code **)(*this + 4);
    (*(code *)PTR_guard_check_icall_00427678)(param_1);
    (*pcVar1)();
    pvVar2 = (LPVOID)0x0;
  }
  else {
    pvVar2 = HeapReAlloc(*(HANDLE *)((int)this + 4),0,param_1,param_2);
  }
  return pvVar2;
}



/* Function: FUN_0041a8d0 */

void __thiscall FUN_0041a8d0(void *this,LPCVOID param_1)

{
  HeapSize(*(HANDLE *)((int)this + 4),0,param_1);
  return;
}



/* Function: FUN_0041a8f0 */

undefined4 * __thiscall FUN_0041a8f0(void *this,byte param_1)

{
  FUN_0041a7f9((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_0041a918 */

PSINGLE_LIST_ENTRY FUN_0041a918(void)

{
  int iVar1;
  HANDLE hHeap;
  PSINGLE_LIST_ENTRY p_Var2;
  PSINGLE_LIST_ENTRY p_Var3;
  DWORD dwFlags;
  SIZE_T dwBytes;
  
  if ((DAT_00425b0c != (PSLIST_HEADER)0x0) || (iVar1 = FUN_0041a9f5(), iVar1 != 0)) {
    if (DAT_00425b0c == (PSLIST_HEADER)0x1) {
      dwBytes = 0xd;
      dwFlags = 8;
      hHeap = GetProcessHeap();
      p_Var2 = (PSINGLE_LIST_ENTRY)HeapAlloc(hHeap,dwFlags,dwBytes);
      return p_Var2;
    }
    p_Var2 = InterlockedPopEntrySList(DAT_00425b0c);
    if (p_Var2 != (PSINGLE_LIST_ENTRY)0x0) {
      p_Var2->Next = (_SINGLE_LIST_ENTRY *)0x0;
      p_Var2[1].Next = (_SINGLE_LIST_ENTRY *)0x0;
      p_Var2[2].Next = (_SINGLE_LIST_ENTRY *)0x0;
      *(undefined1 *)&p_Var2[3].Next = 0;
      return p_Var2;
    }
    p_Var2 = (PSINGLE_LIST_ENTRY)VirtualAlloc((LPVOID)0x0,0x1000,0x1000,0x40);
    if (p_Var2 != (PSINGLE_LIST_ENTRY)0x0) {
      p_Var3 = InterlockedPopEntrySList(DAT_00425b0c);
      if (p_Var3 != (PSINGLE_LIST_ENTRY)0x0) {
        VirtualFree(p_Var2,0,0x8000);
        return p_Var3;
      }
      p_Var3 = p_Var2 + 0x3fc;
      do {
        InterlockedPushEntrySList(DAT_00425b0c,p_Var2);
        p_Var2 = p_Var2 + 4;
      } while (p_Var2 < p_Var3);
      return p_Var2;
    }
  }
  return (PSINGLE_LIST_ENTRY)0x0;
}



/* Function: FUN_0041a9c8 */

void __fastcall FUN_0041a9c8(PSINGLE_LIST_ENTRY param_1)

{
  HANDLE hHeap;
  DWORD dwFlags;
  
  if (param_1 != (PSINGLE_LIST_ENTRY)0x0) {
    if (DAT_00425b0c == (PSLIST_HEADER)0x1) {
      dwFlags = 0;
      hHeap = GetProcessHeap();
      HeapFree(hHeap,dwFlags,param_1);
      return;
    }
    InterlockedPushEntrySList(DAT_00425b0c,param_1);
  }
  return;
}



/* Function: FUN_0041a9f5 */

undefined4 FUN_0041a9f5(void)

{
  BOOL BVar1;
  HANDLE pvVar2;
  LPVOID lpMem;
  int iVar3;
  int *piVar4;
  DWORD DVar5;
  SIZE_T dwBytes;
  
  BVar1 = IsProcessorFeaturePresent(0xc);
  if (BVar1 == 0) {
    DAT_00425b0c = 1;
    return 1;
  }
  piVar4 = (int *)((int)ProcessEnvironmentBlock + 0x34);
  iVar3 = *piVar4;
  if (iVar3 == 0) {
    dwBytes = 8;
    DVar5 = 8;
    pvVar2 = GetProcessHeap();
    lpMem = HeapAlloc(pvVar2,DVar5,dwBytes);
    if (lpMem == (LPVOID)0x0) {
      return 0;
    }
    LOCK();
    iVar3 = *piVar4;
    if (iVar3 == 0) {
      *piVar4 = (int)lpMem;
      iVar3 = 0;
    }
    UNLOCK();
    if (iVar3 != 0) {
      DVar5 = 0;
      pvVar2 = GetProcessHeap();
      HeapFree(pvVar2,DVar5,lpMem);
    }
    iVar3 = *piVar4;
  }
  DAT_00425b0c = iVar3;
  return 1;
}



/* Function: FUN_0041aa5e */

bool __fastcall FUN_0041aa5e(HMODULE param_1,LPCSTR param_2,undefined4 *param_3)

{
  FARPROC Ptr;
  PVOID pvVar1;
  
  Ptr = GetProcAddress(param_1,param_2);
  if (Ptr != (FARPROC)0x0) {
    pvVar1 = EncodePointer(Ptr);
    *param_3 = pvVar1;
  }
  return Ptr != (FARPROC)0x0;
}



/* Function: FUN_0041aa8b */

int FUN_0041aa8b(int *param_1)

{
  code *pcVar1;
  int iVar2;
  
  if ((param_1 == (int *)0x0) || (param_1[1] == 0)) {
    iVar2 = 0;
  }
  else {
    iVar2 = param_1[1];
    if ((*param_1 == 0) && (pcVar1 = (code *)FUN_0041ac01(), iVar2 = 0, pcVar1 != (code *)0x0)) {
      (*(code *)PTR_guard_check_icall_00427678)(param_1[1]);
      iVar2 = (*pcVar1)();
    }
  }
  return iVar2;
}



/* Function: FUN_0041aad4 */

uint * FUN_0041aad4(void)

{
  HANDLE pvVar1;
  uint *lpMem;
  code *pcVar2;
  PSINGLE_LIST_ENTRY dwFlags;
  DWORD dwFlags_00;
  SIZE_T dwBytes;
  
  dwBytes = 8;
  dwFlags_00 = 8;
  pvVar1 = GetProcessHeap();
  lpMem = (uint *)HeapAlloc(pvVar1,dwFlags_00,dwBytes);
  if (lpMem != (uint *)0x0) {
    pcVar2 = (code *)FUN_0041acb3();
    *lpMem = (uint)(pcVar2 == (code *)0x0);
    if (pcVar2 == (code *)0x0) {
      dwFlags = FUN_0041a918();
    }
    else {
      (*(code *)PTR_guard_check_icall_00427678)();
      dwFlags = (PSINGLE_LIST_ENTRY)(*pcVar2)();
    }
    lpMem[1] = (uint)dwFlags;
    if (dwFlags != (PSINGLE_LIST_ENTRY)0x0) {
      return lpMem;
    }
    pvVar1 = GetProcessHeap();
    HeapFree(pvVar1,(DWORD)dwFlags,lpMem);
  }
  return (uint *)0x0;
}



/* Function: FUN_0041ab3b */

void FUN_0041ab3b(int *param_1,int param_2,undefined4 param_3)

{
  HANDLE hProcess;
  code *pcVar1;
  undefined4 *lpBaseAddress;
  SIZE_T dwSize;
  
  if ((param_1 != (int *)0x0) &&
     (lpBaseAddress = (undefined4 *)param_1[1], lpBaseAddress != (undefined4 *)0x0)) {
    if (*param_1 == 0) {
      pcVar1 = (code *)FUN_0041ad65();
      if (pcVar1 != (code *)0x0) {
        (*(code *)PTR_guard_check_icall_00427678)(param_1[1],param_2,param_3);
        (*pcVar1)();
      }
    }
    else {
      lpBaseAddress[1] = param_3;
      *lpBaseAddress = 0x42444c7;
      dwSize = 0xd;
      *(undefined1 *)(lpBaseAddress + 2) = 0xe9;
      *(int *)((int)lpBaseAddress + 9) = (param_2 - (int)lpBaseAddress) + -0xd;
      hProcess = GetCurrentProcess();
      FlushInstructionCache(hProcess,lpBaseAddress,dwSize);
    }
  }
  return;
}



/* Function: FUN_0041abac */

void FUN_0041abac(int *param_1)

{
  code *pcVar1;
  HANDLE hHeap;
  DWORD dwFlags;
  
  if (param_1 != (int *)0x0) {
    if ((PSINGLE_LIST_ENTRY)param_1[1] != (PSINGLE_LIST_ENTRY)0x0) {
      if (*param_1 == 0) {
        pcVar1 = (code *)FUN_0041ae17();
        if (pcVar1 != (code *)0x0) {
          (*(code *)PTR_guard_check_icall_00427678)(param_1[1]);
          (*pcVar1)();
        }
      }
      else {
        FUN_0041a9c8((PSINGLE_LIST_ENTRY)param_1[1]);
      }
    }
    dwFlags = 0;
    hHeap = GetProcessHeap();
    HeapFree(hHeap,dwFlags,param_1);
  }
  return;
}



/* Function: FUN_0041ac01 */

PVOID FUN_0041ac01(void)

{
  bool bVar1;
  PVOID pvVar2;
  HMODULE pHVar3;
  
  if (DAT_00425a88 != '\0') {
    pvVar2 = DecodePointer(DAT_00425a80);
    return pvVar2;
  }
  pHVar3 = LoadLibraryExA("atlthunk.dll",(HANDLE)0x0,0x800);
  if ((((pHVar3 != (HMODULE)0x0) &&
       (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_AllocateData",&DAT_00425a8c), bVar1)) &&
      (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_InitData",&DAT_00425a84), bVar1)) &&
     ((bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_DataToCode",&DAT_00425a80), bVar1 &&
      (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_FreeData",&DAT_00425a7c), bVar1)))) {
    LOCK();
    UNLOCK();
    DAT_00425a88 = 1;
    pvVar2 = DecodePointer(DAT_00425a80);
    return pvVar2;
  }
  return (PVOID)0x0;
}



/* Function: FUN_0041acb3 */

PVOID FUN_0041acb3(void)

{
  bool bVar1;
  PVOID pvVar2;
  HMODULE pHVar3;
  
  if (DAT_00425a88 != '\0') {
    pvVar2 = DecodePointer(DAT_00425a8c);
    return pvVar2;
  }
  pHVar3 = LoadLibraryExA("atlthunk.dll",(HANDLE)0x0,0x800);
  if ((((pHVar3 != (HMODULE)0x0) &&
       (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_AllocateData",&DAT_00425a8c), bVar1)) &&
      (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_InitData",&DAT_00425a84), bVar1)) &&
     ((bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_DataToCode",&DAT_00425a80), bVar1 &&
      (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_FreeData",&DAT_00425a7c), bVar1)))) {
    LOCK();
    UNLOCK();
    DAT_00425a88 = 1;
    pvVar2 = DecodePointer(DAT_00425a8c);
    return pvVar2;
  }
  return (PVOID)0x0;
}



/* Function: FUN_0041ad65 */

PVOID FUN_0041ad65(void)

{
  bool bVar1;
  PVOID pvVar2;
  HMODULE pHVar3;
  
  if (DAT_00425a88 != '\0') {
    pvVar2 = DecodePointer(DAT_00425a84);
    return pvVar2;
  }
  pHVar3 = LoadLibraryExA("atlthunk.dll",(HANDLE)0x0,0x800);
  if ((((pHVar3 != (HMODULE)0x0) &&
       (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_AllocateData",&DAT_00425a8c), bVar1)) &&
      (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_InitData",&DAT_00425a84), bVar1)) &&
     ((bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_DataToCode",&DAT_00425a80), bVar1 &&
      (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_FreeData",&DAT_00425a7c), bVar1)))) {
    LOCK();
    UNLOCK();
    DAT_00425a88 = 1;
    pvVar2 = DecodePointer(DAT_00425a84);
    return pvVar2;
  }
  return (PVOID)0x0;
}



/* Function: FUN_0041ae17 */

PVOID FUN_0041ae17(void)

{
  bool bVar1;
  PVOID pvVar2;
  HMODULE pHVar3;
  
  if (DAT_00425a88 != '\0') {
    pvVar2 = DecodePointer(DAT_00425a7c);
    return pvVar2;
  }
  pHVar3 = LoadLibraryExA("atlthunk.dll",(HANDLE)0x0,0x800);
  if ((((pHVar3 != (HMODULE)0x0) &&
       (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_AllocateData",&DAT_00425a8c), bVar1)) &&
      (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_InitData",&DAT_00425a84), bVar1)) &&
     ((bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_DataToCode",&DAT_00425a80), bVar1 &&
      (bVar1 = FUN_0041aa5e(pHVar3,"AtlThunk_FreeData",&DAT_00425a7c), bVar1)))) {
    LOCK();
    UNLOCK();
    DAT_00425a88 = 1;
    pvVar2 = DecodePointer(DAT_00425a7c);
    return pvVar2;
  }
  return (PVOID)0x0;
}



/* Function: FUN_0041aec9 */

bool FUN_0041aec9(void)

{
  bool bVar1;
  bool bVar2;
  BOOL BVar3;
  LPCWSTR pwszLanguagesBuffer;
  int iVar4;
  int local_10;
  ULONG local_c;
  ULONG local_8;
  
  local_8 = 0;
  bVar1 = true;
  bVar2 = true;
  BVar3 = GetUserPreferredUILanguages(8,&local_c,(PZZWSTR)0x0,&local_8);
  if ((BVar3 != 0) &&
     (pwszLanguagesBuffer = (LPCWSTR)malloc(local_8 * 2), pwszLanguagesBuffer != (LPCWSTR)0x0)) {
    BVar3 = GetUserPreferredUILanguages(8,&local_c,pwszLanguagesBuffer,&local_8);
    if ((BVar3 != 0) && (bVar1 = bVar2, local_c != 0)) {
      local_10 = 0;
      iVar4 = GetLocaleInfoEx(pwszLanguagesBuffer,0x20000070,(LPWSTR)&local_10,2);
      if ((iVar4 == 2) && (local_10 == 1)) {
        bVar1 = false;
      }
    }
    free(pwszLanguagesBuffer);
  }
  LOCK();
  UNLOCK();
  return !bVar1;
}



/* Function: FUN_0041af6a */

void __thiscall FUN_0041af6a(void *this,HDWP param_1)

{
  uint uVar1;
  BOOL BVar2;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar3;
  tagRECT local_2c;
  RECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_1c.left = *(int *)((int)this + 0x18);
  local_1c.top = *(int *)((int)this + 0x1c);
  local_1c.right = *(int *)((int)this + 0x20);
  local_1c.bottom = *(int *)((int)this + 0x24);
  GetClientRect(*(HWND *)((int)this + 4),&local_2c);
  uVar1 = *(uint *)((int)this + 0x28) & 3;
  if (uVar1 == 2) {
    local_1c.left = local_1c.left + (local_2c.right - *(int *)((int)this + 0x10));
    local_1c.right = local_1c.right + (local_2c.right - *(int *)((int)this + 0x10));
  }
  else if (uVar1 == 3) {
    local_1c.right = (*(int *)((int)this + 0x20) - *(int *)((int)this + 0x10)) + local_2c.right;
  }
  uVar1 = *(uint *)((int)this + 0x28) & 0xc;
  if (uVar1 == 8) {
    local_1c.top = local_1c.top + (local_2c.bottom - *(int *)((int)this + 0x14));
    local_1c.bottom = local_1c.bottom + (local_2c.bottom - *(int *)((int)this + 0x14));
  }
  else if (uVar1 == 0xc) {
    local_1c.bottom = (*(int *)((int)this + 0x24) - *(int *)((int)this + 0x14)) + local_2c.bottom;
  }
  BVar2 = EqualRect(&local_1c,&local_2c);
  uVar3 = extraout_EDX;
  if (BVar2 == 0) {
                    /* WARNING: Load size is inaccurate */
    DeferWindowPos(param_1,*this,(HWND)0x0,local_1c.left,local_1c.top,local_1c.right - local_1c.left
                   ,local_1c.bottom - local_1c.top,0x16);
    uVar3 = extraout_EDX_00;
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,uVar3);
  return;
}



/* Function: FUN_0041b050 */

undefined4 * __thiscall FUN_0041b050(void *this,byte param_1)

{
  FUN_0041b078((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_0041b078 */

void __fastcall FUN_0041b078(undefined4 *param_1)

{
  int *piVar1;
  code *pcVar2;
  uint uVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421568;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  uVar3 = 0;
  *param_1 = &PTR_purecall_004017a4;
  piVar1 = param_1 + 1;
  if (param_1[2] != 0) {
    do {
      if ((uint)param_1[2] <= uVar3) {
        FUN_00409c00(0x80070057);
        pcVar2 = (code *)swi(3);
        (*pcVar2)();
        return;
      }
      operator_delete(*(void **)(*piVar1 + uVar3 * 4));
      uVar3 = uVar3 + 1;
    } while (uVar3 < (uint)param_1[2]);
  }
  local_8 = 0;
  if (*piVar1 != 0) {
    free((void *)*piVar1);
    *piVar1 = 0;
  }
  param_1[2] = 0;
  param_1[3] = 0;
  FUN_0041b2a0(piVar1);
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0041b112 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __fastcall FUN_0041b112(undefined4 *param_1)

{
  int iVar1;
  code *pcVar2;
  int nIDDlgItem;
  int *piVar3;
  HWND hDlg;
  HWND pHVar4;
  int *piVar5;
  int *local_14 [3];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xc;
  local_8 = 0x41b11e;
  local_14[0] = &DAT_00402b84;
  while( true ) {
    piVar5 = local_14[0];
    piVar3 = (int *)FUN_0041f39d(0x2c);
    local_8 = 0;
    if (piVar3 == (int *)0x0) {
      piVar3 = (int *)0x0;
    }
    else {
      iVar1 = piVar5[1];
      pcVar2 = *(code **)*param_1;
      (*(code *)PTR_guard_check_icall_00427678)();
      hDlg = (HWND)(*pcVar2)();
      nIDDlgItem = *local_14[0];
      *piVar3 = 0;
      piVar3[1] = (int)hDlg;
      piVar3[10] = iVar1;
      pHVar4 = GetDlgItem(hDlg,nIDDlgItem);
      *piVar3 = (int)pHVar4;
      GetClientRect((HWND)piVar3[1],(LPRECT)(piVar3 + 2));
      GetWindowRect((HWND)*piVar3,(LPRECT)(piVar3 + 6));
      MapWindowPoints((HWND)0x0,hDlg,(LPPOINT)(piVar3 + 6),2);
      piVar5 = local_14[0];
    }
    local_8 = 0xffffffff;
    if (piVar3 == (int *)0x0) break;
    local_14[0] = piVar3;
    FUN_0041b25c(param_1 + 1,local_14);
    local_14[0] = piVar5 + 2;
    if (0x402b93 < (int)local_14[0]) {
      return 0;
    }
  }
  return 0x8007000e;
}



/* Function: FUN_0041b1e3 */

undefined4 __thiscall FUN_0041b1e3(void *this)

{
  HDWP hWinPosInfo;
  uint uVar1;
  undefined4 *in_stack_00000010;
  
  uVar1 = 0;
  *in_stack_00000010 = 0;
  if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
      ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
     (3 < (byte)PTR_LOOP_004252dc[0x19])) {
    FUN_0040a58d(10,&DAT_00403354,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                 *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
  }
  hWinPosInfo = BeginDeferWindowPos(*(int *)((int)this + 8));
  if (hWinPosInfo != (HDWP)0x0) {
    for (; uVar1 < *(uint *)((int)this + 8); uVar1 = uVar1 + 1) {
      FUN_0041af6a(*(void **)(*(int *)((int)this + 4) + uVar1 * 4),hWinPosInfo);
    }
    EndDeferWindowPos(hWinPosInfo);
  }
  return 0;
}



/* Function: FUN_0041b25c */

uint __thiscall FUN_0041b25c(void *this,undefined4 *param_1)

{
  code *pcVar1;
  undefined4 uVar2;
  uint uVar3;
  
  uVar3 = *(uint *)((int)this + 4);
  if (*(uint *)((int)this + 8) <= uVar3) {
    uVar2 = FUN_00413593(this,uVar3 + 1);
    if ((char)uVar2 == '\0') {
      FUN_00409c00(0x8007000e);
      pcVar1 = (code *)swi(3);
      uVar3 = (*pcVar1)();
      return uVar3;
    }
  }
                    /* WARNING: Load size is inaccurate */
  *(undefined4 *)(*this + uVar3 * 4) = *param_1;
  *(int *)((int)this + 4) = *(int *)((int)this + 4) + 1;
  return uVar3;
}



/* Function: FUN_0041b2a0 */

void __fastcall FUN_0041b2a0(int *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00421121;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*param_1 != 0) {
    free((void *)*param_1);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0041b2f0 */

bool __thiscall
FUN_0041b2f0(void *this,undefined4 param_1,int param_2,HDC param_3,LPARAM param_4,LRESULT *param_5,
            int param_6)

{
  bool bVar1;
  LRESULT LVar2;
  HTHEME pvVar3;
  void *local_c [2];
  
  if (param_6 == 0) {
    if (param_2 == 0x14) {
      *param_5 = 1;
    }
    else if (param_2 == 0xf) {
      local_c[0] = (void *)0x1;
      LVar2 = FUN_0041b80a(this,0xf,param_3,this,local_c);
      *param_5 = LVar2;
      if (local_c[0] == (void *)0x0) goto LAB_0041b343;
    }
    else {
      if (param_2 == 0x318) {
        local_c[0] = (void *)0x1;
        LVar2 = FUN_0041b80a(this,0x318,param_3,0x318,local_c);
        *param_5 = LVar2;
        return local_c[0] != (void *)0x0;
      }
      local_c[0] = this;
      if (param_2 == 0xc) {
        LVar2 = CallWindowProcW(*(WNDPROC *)((int)this + 0x20),*(HWND *)((int)this + 4),0xc,
                                (WPARAM)param_3,param_4);
        FUN_0041b52a((int)this);
      }
      else {
        if (param_2 != 0x128) {
          if (param_2 != 0x31a) goto LAB_0041b343;
          if (*(int *)((int)this + 0x58) != 0) {
            CloseThemeData(*(HTHEME *)((int)this + 0x58));
          }
          pvVar3 = OpenThemeData(*(HWND *)((int)this + 4),L"Static");
          *(HTHEME *)((int)this + 0x58) = pvVar3;
          InvalidateRect(*(HWND *)((int)this + 4),(RECT *)0x0,1);
          *param_5 = 0;
          goto LAB_0041b315;
        }
        LVar2 = CallWindowProcW(*(WNDPROC *)((int)this + 0x20),*(HWND *)((int)this + 4),0x128,
                                (WPARAM)param_3,param_4);
      }
      InvalidateRect(*(HWND *)((int)this + 4),(RECT *)0x0,1);
      *param_5 = LVar2;
    }
LAB_0041b315:
    bVar1 = true;
  }
  else {
LAB_0041b343:
    bVar1 = false;
  }
  return bVar1;
}



/* Function: FUN_0041b420 */

undefined4 * __fastcall FUN_0041b420(undefined4 *param_1)

{
  param_1[8] = DefWindowProcW_exref;
  param_1[1] = 0;
  param_1[5] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  *param_1 = &PTR_FUN_004017ac;
  param_1[9] = 0;
  param_1[10] = 0;
  param_1[0x15] = 0;
  param_1[0xd] = 0;
  param_1[0xe] = 0;
  param_1[0xf] = 0;
  param_1[0x10] = 0;
  param_1[0x11] = 0;
  param_1[0x12] = 0;
  param_1[0x13] = 0;
  param_1[0x14] = 0;
  param_1[0xc] = 0;
  param_1[0xb] = 0;
  return param_1;
}



/* Function: FUN_0041b470 */

undefined4 * __thiscall FUN_0041b470(void *this,byte param_1)

{
  FUN_0041b498((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_0041b498 */

void __fastcall FUN_0041b498(undefined4 *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421226;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_004017ac;
  operator_delete((void *)param_1[9]);
  param_1[9] = 0;
  operator_delete((void *)param_1[10]);
  param_1[10] = 0;
  local_8 = 0;
  if (param_1[5] != 0) {
    FUN_0041abac((int *)param_1[5]);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0041b50c */

void __fastcall FUN_0041b50c(int param_1)

{
  HTHEME pvVar1;
  
  pvVar1 = OpenThemeData(*(HWND *)(param_1 + 4),L"Static");
  *(HTHEME *)(param_1 + 0x58) = pvVar1;
  return;
}



/* Function: FUN_0041b52a */

void __fastcall FUN_0041b52a(int param_1)

{
  uint uVar1;
  WCHAR WVar2;
  longlong lVar3;
  bool bVar4;
  bool bVar5;
  HDC hdc;
  HGDIOBJ pvVar6;
  int iVar7;
  short *psVar8;
  LPWSTR pWVar9;
  LPWSTR pWVar10;
  undefined4 extraout_EDX;
  LPWSTR lpString;
  LPWSTR local_2c;
  tagRECT local_28;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  lpString = (LPWSTR)0x0;
  local_2c = (LPWSTR)0x0;
  bVar5 = false;
  operator_delete(*(void **)(param_1 + 0x24));
  *(undefined4 *)(param_1 + 0x24) = 0;
  operator_delete(*(void **)(param_1 + 0x28));
  *(undefined4 *)(param_1 + 0x28) = 0;
  *(undefined4 *)(param_1 + 0x34) = 0;
  *(undefined4 *)(param_1 + 0x38) = 0;
  *(undefined4 *)(param_1 + 0x3c) = 0;
  *(undefined4 *)(param_1 + 0x40) = 0;
  *(undefined4 *)(param_1 + 0x44) = 0;
  *(undefined4 *)(param_1 + 0x48) = 0;
  *(undefined4 *)(param_1 + 0x4c) = 0;
  *(undefined4 *)(param_1 + 0x50) = 0;
  hdc = GetDC(*(HWND *)(param_1 + 4));
  pvVar6 = (HGDIOBJ)SendMessageW(*(HWND *)(param_1 + 4),0x31,0,0);
  pvVar6 = SelectObject(hdc,pvVar6);
  iVar7 = GetWindowTextLengthW(*(HWND *)(param_1 + 4));
  uVar1 = iVar7 + 1;
  if (uVar1 != 1) {
    local_2c = (LPWSTR)FUN_00420c4c(-(uint)((int)((ulonglong)uVar1 * 2 >> 0x20) != 0) |
                                    (uint)((ulonglong)uVar1 * 2));
    lpString = (LPWSTR)FUN_00420c4c(-(uint)((int)((ulonglong)uVar1 * 2 >> 0x20) != 0) |
                                    (uint)((ulonglong)uVar1 * 2));
    if ((local_2c != (LPWSTR)0x0) && (lpString != (LPWSTR)0x0)) {
      GetWindowTextW(*(HWND *)(param_1 + 4),local_2c,uVar1);
      GetWindowTextW(*(HWND *)(param_1 + 4),lpString,uVar1);
      GetClientRect(*(HWND *)(param_1 + 4),&local_28);
      do {
        StrTrimW(lpString,L" ");
        pWVar9 = lpString;
        do {
          WVar2 = *pWVar9;
          pWVar9 = pWVar9 + 1;
        } while (WVar2 != L'\0');
        pWVar9 = lpString + ((int)pWVar9 - (int)(lpString + 1) >> 1);
        local_18.left = 0;
        local_18.top = 0;
        local_18.right = 0;
        local_18.bottom = 0;
        pWVar10 = lpString;
        do {
          WVar2 = *pWVar10;
          pWVar10 = pWVar10 + 1;
        } while (WVar2 != L'\0');
        DrawTextW(hdc,lpString,(int)pWVar10 - (int)(lpString + 1) >> 1,&local_18,0xc00);
        if (local_18.right - local_18.left < (local_28.right - local_28.left) + -4) {
          bVar4 = true;
          break;
        }
        bVar5 = true;
        while ((lpString < pWVar9 && (iVar7 = iswspace(*pWVar9), iVar7 == 0))) {
          pWVar9 = pWVar9 + -1;
        }
        bVar4 = false;
        *pWVar9 = L'\0';
      } while (lpString < pWVar9);
      if (bVar4) {
        uVar1 = ((int)pWVar9 - (int)lpString >> 1) + 1;
        *(uint *)(param_1 + 0x2c) = uVar1;
        lVar3 = (ulonglong)uVar1 * 2;
        psVar8 = (short *)FUN_00420c4c(-(uint)((int)((ulonglong)lVar3 >> 0x20) != 0) | (uint)lVar3);
        *(short **)(param_1 + 0x24) = psVar8;
        FUN_00405d17(psVar8,*(uint *)(param_1 + 0x2c),(int)lpString);
        CopyRect((LPRECT)(param_1 + 0x34),&local_28);
        *(LONG *)(param_1 + 0x40) = local_18.bottom;
        if (bVar5) {
          pWVar9 = local_2c + *(int *)(param_1 + 0x2c);
          StrTrimW(pWVar9,L" ");
          pWVar10 = pWVar9;
          do {
            WVar2 = *pWVar10;
            pWVar10 = pWVar10 + 1;
          } while (WVar2 != L'\0');
          uVar1 = ((int)pWVar10 - (int)(pWVar9 + 1) >> 1) + 1;
          *(uint *)(param_1 + 0x30) = uVar1;
          lVar3 = (ulonglong)uVar1 * 2;
          psVar8 = (short *)FUN_00420c4c(-(uint)((int)((ulonglong)lVar3 >> 0x20) != 0) | (uint)lVar3
                                        );
          *(short **)(param_1 + 0x28) = psVar8;
          FUN_00405d17(psVar8,*(uint *)(param_1 + 0x30),(int)pWVar9);
          CopyRect((LPRECT)(param_1 + 0x44),&local_28);
          *(LONG *)(param_1 + 0x48) = local_18.bottom;
        }
      }
      else {
        *(uint *)(param_1 + 0x2c) = uVar1;
        *(undefined4 *)(param_1 + 0x54) = 1;
        psVar8 = (short *)FUN_00420c4c(-(uint)((int)((ulonglong)uVar1 * 2 >> 0x20) != 0) |
                                       (uint)((ulonglong)uVar1 * 2));
        *(short **)(param_1 + 0x24) = psVar8;
        FUN_00405d17(psVar8,*(uint *)(param_1 + 0x2c),(int)local_2c);
        CopyRect((LPRECT)(param_1 + 0x34),&local_28);
        *(LONG *)(param_1 + 0x40) = local_18.bottom;
      }
    }
  }
  ReleaseDC(*(HWND *)(param_1 + 4),hdc);
  SelectObject(hdc,pvVar6);
  operator_delete__(lpString);
  operator_delete__(local_2c);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0041b80a */

void __thiscall
FUN_0041b80a(void *this,int param_1,HDC param_2,undefined4 param_3,undefined4 *param_4)

{
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar1;
  tagPAINTSTRUCT local_4c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  if (param_1 == 0xf) {
    param_2 = BeginPaint(*(HWND *)((int)this + 4),&local_4c);
  }
  FUN_0041b872(this,param_2);
  uVar1 = extraout_EDX;
  if (param_1 == 0xf) {
    EndPaint(*(HWND *)((int)this + 4),&local_4c);
    uVar1 = extraout_EDX_00;
  }
  *param_4 = 1;
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar1);
  return;
}



/* Function: FUN_0041b872 */

void __thiscall FUN_0041b872(void *this,HDC param_1)

{
  HWND hWnd;
  HGDIOBJ pvVar1;
  COLORREF CVar2;
  COLORREF CVar3;
  HWND hWnd_00;
  HBRUSH hbr;
  LPCWSTR lpchText;
  undefined4 extraout_EDX;
  int iPartId;
  int iVar4;
  LPRECT lprc;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  pvVar1 = (HGDIOBJ)SendMessageW(*(HWND *)((int)this + 4),0x31,0,0);
  pvVar1 = SelectObject(param_1,pvVar1);
  if (*(int *)((int)this + 0x58) == 0) {
    CVar2 = GetSysColor(8);
    CVar3 = GetSysColor(5);
  }
  else {
    CVar2 = GetThemeSysColor(*(HTHEME *)((int)this + 0x58),8);
    CVar3 = GetThemeSysColor(*(HTHEME *)((int)this + 0x58),5);
  }
  CVar2 = SetTextColor(param_1,CVar2);
  CVar3 = SetBkColor(param_1,CVar3);
  SetBkMode(param_1,2);
  hWnd = *(HWND *)((int)this + 4);
  hWnd_00 = GetParent(hWnd);
  hbr = (HBRUSH)SendMessageW(hWnd_00,0x138,(WPARAM)param_1,(LPARAM)hWnd);
  GetClientRect(*(HWND *)((int)this + 4),&local_1c);
  if (*(int *)((int)this + 0x58) == 0) {
    FillRect(param_1,&local_1c,hbr);
  }
  else {
    DrawThemeParentBackground(*(HWND *)((int)this + 4),param_1,&local_1c);
    DrawThemeBackground(*(HTHEME *)((int)this + 0x58),param_1,1,0,&local_1c,(LPCRECT)0x0);
  }
  lpchText = *(LPCWSTR *)((int)this + 0x24);
  if (*(int *)((int)this + 0x54) == 0) {
    if (lpchText != (LPCWSTR)0x0) {
      if (*(int *)((int)this + 0x58) == 0) {
        DrawTextW(param_1,lpchText,*(int *)((int)this + 0x2c),(LPRECT)((int)this + 0x34),0x801);
      }
      else {
        DrawThemeText(*(HTHEME *)((int)this + 0x58),param_1,1,0,lpchText,*(int *)((int)this + 0x2c),
                      0x801,0,(LPRECT)((int)this + 0x34));
      }
    }
    lpchText = *(LPCWSTR *)((int)this + 0x28);
    if (lpchText == (LPCWSTR)0x0) goto LAB_0041b9ff;
    lprc = (LPRECT)((int)this + 0x44);
    if (*(int *)((int)this + 0x58) == 0) {
      iVar4 = *(int *)((int)this + 0x30);
      goto LAB_0041b9f7;
    }
    iVar4 = *(int *)((int)this + 0x30);
    iPartId = 0;
  }
  else {
    if (lpchText == (LPCWSTR)0x0) goto LAB_0041b9ff;
    lprc = (LPRECT)((int)this + 0x34);
    if (*(int *)((int)this + 0x58) == 0) {
      iVar4 = *(int *)((int)this + 0x2c);
LAB_0041b9f7:
      DrawTextW(param_1,lpchText,iVar4,lprc,0x40801);
      goto LAB_0041b9ff;
    }
    iVar4 = *(int *)((int)this + 0x2c);
    iPartId = 1;
  }
  DrawThemeText(*(HTHEME *)((int)this + 0x58),param_1,iPartId,0,lpchText,iVar4,0x40801,0,lprc);
LAB_0041b9ff:
  SelectObject(param_1,pvVar1);
  SetBkColor(param_1,CVar3);
  SetTextColor(param_1,CVar2);
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0041ba34 */

undefined4 * __fastcall FUN_0041ba34(undefined4 *param_1)

{
  param_1[0xd] = 0;
  param_1[0xe] = 0;
  param_1[0xf] = 0;
  *(undefined1 *)(param_1 + 0x10) = 0;
  *param_1 = &PTR_FUN_004017bc;
  memset(param_1 + 1,0,0x30);
  return param_1;
}



/* Function: FUN_0041ba70 */

undefined4 * __thiscall FUN_0041ba70(void *this,byte param_1)

{
  *(undefined ***)this = &PTR_FUN_004017bc;
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_0041ba99 */

void __fastcall FUN_0041ba99(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_004017bc;
  return;
}



/* Function: FUN_0041baa6 */

undefined4 __thiscall FUN_0041baa6(void *this,undefined4 param_1,undefined4 param_2,HWND param_3)

{
  HINSTANCE hInstance;
  HWND hWnd;
  BOOL BVar1;
  undefined4 uVar2;
  
  hInstance = DAT_00425aa8;
  *(HINSTANCE *)((int)this + 0x34) = DAT_00425aa8;
  *(undefined4 *)((int)this + 0x3c) = 0;
  hWnd = CreateWindowExW(8,L"tooltips_class32",(LPCWSTR)0x0,0x80000003,-0x80000000,-0x80000000,
                         -0x80000000,-0x80000000,param_3,(HMENU)0x0,hInstance,(LPVOID)0x0);
  *(HWND *)((int)this + 0x38) = hWnd;
  BVar1 = IsWindow(hWnd);
  if (BVar1 == 0) {
    uVar2 = 0x80004005;
  }
  else {
    SetWindowPos(*(HWND *)((int)this + 0x38),(HWND)0xffffffff,0,0,0,0,0x13);
    SetWindowPos(*(HWND *)((int)this + 0x38),(HWND)0xffffffff,0,0,0,0,0x13);
    uVar2 = 0;
  }
  return uVar2;
}



/* Function: FUN_0041bb23 */

void __thiscall
FUN_0041bb23(void *this,undefined4 param_1,undefined4 param_2,undefined4 param_3,LONG param_4,
            LONG param_5,LONG param_6,LONG param_7)

{
  LRESULT LVar1;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar2;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  tagRECT local_40;
  undefined4 local_2c;
  RECT local_20;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_20.left = param_4;
  local_20.top = param_5;
  local_20.right = param_6;
  local_20.bottom = param_7;
  memset(&local_50,0,0x30);
  CopyRect(&local_40,&local_20);
  local_44 = param_2;
  local_2c = param_3;
  local_50 = 0x30;
  local_4c = 0x10;
  local_48 = param_1;
  LVar1 = SendMessageW(*(HWND *)((int)this + 0x38),0x432,0,(LPARAM)&local_50);
  uVar2 = extraout_EDX;
  if (LVar1 != 0) {
    SendMessageW(*(HWND *)((int)this + 0x38),0x401,1,0);
    uVar2 = extraout_EDX_00;
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,uVar2);
  return;
}



/* Function: FUN_0041bbcf */

void FUN_0041bbcf(HWND param_1,int param_2)

{
  HWND hWnd;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar1;
  int local_24;
  void *local_20;
  tagRECT tStack_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&local_24;
  local_24 = param_2;
  hWnd = GetDlgItem(param_1,param_2);
  uVar1 = extraout_EDX;
  if (hWnd != (HWND)0x0) {
    GetClientRect(hWnd,&tStack_1c);
    MapWindowPoints(hWnd,param_1,(LPPOINT)&tStack_1c,2);
    FUN_0041bb23(local_20,param_1,local_24,0xffffffff,tStack_1c.left,tStack_1c.top,tStack_1c.right,
                 tStack_1c.bottom);
    uVar1 = extraout_EDX_00;
  }
  FUN_00420010(local_c ^ (uint)&local_24,uVar1);
  return;
}



/* Function: FUN_0041bc56 */

void __fastcall FUN_0041bc56(HWND param_1,LONG *param_2)

{
  tagPOINT local_14;
  tagPOINT local_c;
  
  local_c.x = *param_2;
  local_c.y = param_2[1];
  local_14.x = param_2[2];
  local_14.y = param_2[3];
  ClientToScreen(param_1,&local_c);
  ClientToScreen(param_1,&local_14);
  *param_2 = local_c.x;
  param_2[1] = local_c.y;
  param_2[2] = local_14.x;
  param_2[3] = local_14.y;
  return;
}



/* Function: FUN_0041bcb2 */

bool FUN_0041bcb2(void)

{
  int local_8;
  
  local_8 = 1;
  SystemParametersInfoW(0x1042,0,&local_8,0);
  return local_8 == 0;
}



/* Function: FUN_0041bce2 */

short * __fastcall FUN_0041bce2(short *param_1)

{
  short sVar1;
  short *psVar2;
  int iVar3;
  short *psVar4;
  short *psVar5;
  
  psVar5 = (short *)0x0;
  if (param_1 == (short *)0x0) {
    psVar5 = (short *)0x0;
  }
  else {
    psVar4 = param_1;
    do {
      sVar1 = *psVar4;
      psVar4 = psVar4 + 1;
    } while (sVar1 != 0);
    iVar3 = (int)psVar4 - (int)(param_1 + 1) >> 1;
    if (iVar3 != 0) {
      sVar1 = *param_1;
      psVar4 = param_1;
      while (sVar1 != 0) {
        psVar4 = psVar4 + 1;
        psVar2 = (short *)((int)psVar5 + 1);
        if (sVar1 != 0x26) {
          psVar2 = psVar5;
        }
        psVar5 = psVar2;
        sVar1 = *psVar4;
      }
      psVar5 = (short *)CoTaskMemAlloc((iVar3 + (int)psVar5) * 2 + 2);
      if (psVar5 != (short *)0x0) {
        sVar1 = *param_1;
        psVar4 = psVar5;
        while (sVar1 != 0) {
          if (sVar1 == 0x26) {
            *psVar4 = 0x26;
            psVar4 = psVar4 + 1;
          }
          sVar1 = *param_1;
          param_1 = param_1 + 1;
          *psVar4 = sVar1;
          psVar4 = psVar4 + 1;
          sVar1 = *param_1;
        }
        *psVar4 = 0;
      }
    }
  }
  return psVar5;
}



/* Function: FUN_0041bda0 */

bool __thiscall
FUN_0041bda0(void *this,undefined4 param_1,int param_2,HDC param_3,LPARAM param_4,uint *param_5,
            int param_6)

{
  int iVar1;
  bool bVar2;
  uint uVar3;
  HTHEME pvVar4;
  void *local_c [2];
  
  if (param_6 == 0) {
    if (param_2 == 0x14) {
      local_c[0] = (void *)0x1;
      uVar3 = FUN_0041bf62(this,this,param_3,this,local_c);
LAB_0041bdd3:
      *param_5 = uVar3;
      if (local_c[0] == (void *)0x0) goto LAB_0041bddf;
    }
    else {
      if (param_2 == 0xf) {
        local_c[0] = (void *)0x1;
        uVar3 = FUN_0041bffe(this);
        goto LAB_0041bdd3;
      }
      local_c[0] = this;
      if (param_2 == 0x200) {
        uVar3 = FUN_0041c4b4(this,this,this,param_4);
        *param_5 = uVar3;
      }
      else {
        if (param_2 == 0x202) {
          iVar1 = *(int *)((int)this + 0x3c);
          *param_5 = (uint)(iVar1 != 0);
          return iVar1 == 0;
        }
        if (param_2 == 0x31a) {
          if (*(int *)((int)this + 0x54) != 0) {
            CloseThemeData(*(HTHEME *)((int)this + 0x54));
          }
          pvVar4 = OpenThemeData((HWND)0x0,L"LINK");
          *(HTHEME *)((int)this + 0x54) = pvVar4;
          InvalidateRect(*(HWND *)((int)this + 4),(RECT *)0x0,1);
          *param_5 = 0;
        }
        else {
          if (param_2 != 0x128) goto LAB_0041bddf;
          uVar3 = CallWindowProcW(*(WNDPROC *)((int)this + 0x20),*(HWND *)((int)this + 4),0x128,
                                  (WPARAM)param_3,param_4);
          InvalidateRect(*(HWND *)((int)this + 4),(RECT *)0x0,1);
          *param_5 = uVar3;
        }
      }
    }
    bVar2 = true;
  }
  else {
LAB_0041bddf:
    bVar2 = false;
  }
  return bVar2;
}



/* Function: FUN_0041bec0 */

undefined4 * __thiscall FUN_0041bec0(void *this,byte param_1)

{
  FUN_0041bee8((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_0041bee8 */

void __fastcall FUN_0041bee8(undefined4 *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421226;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_004017c0;
  if (param_1[9] != 0) {
    DeleteObject((HGDIOBJ)param_1[9]);
    param_1[9] = 0;
  }
  if (param_1[0x15] != 0) {
    CloseThemeData((HTHEME)param_1[0x15]);
  }
  local_8 = 0;
  if (param_1[5] != 0) {
    FUN_0041abac((int *)param_1[5]);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0041bf62 */

void __thiscall
FUN_0041bf62(void *this,undefined4 param_1,HDC param_2,undefined4 param_3,undefined4 *param_4)

{
  HWND hWnd;
  HWND hWnd_00;
  HBRUSH hbr;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 uVar1;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  GetClientRect(*(HWND *)((int)this + 4),&local_18);
  hWnd = *(HWND *)((int)this + 4);
  if (*(int *)((int)this + 0x54) == 0) {
    hWnd_00 = GetParent(hWnd);
    hbr = (HBRUSH)SendMessageW(hWnd_00,0x138,(WPARAM)param_2,(LPARAM)hWnd);
    FillRect(param_2,&local_18,hbr);
    uVar1 = extraout_EDX_00;
    if (*(int *)((int)this + 0x30) != 0) {
      DrawEdge(param_2,&local_18,6,*(UINT *)((int)this + 0x30));
      uVar1 = extraout_EDX_01;
    }
  }
  else {
    DrawThemeParentBackgroundEx(hWnd,param_2,4,&local_18);
    uVar1 = extraout_EDX;
  }
  *param_4 = 1;
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar1);
  return;
}



/* Function: FUN_0041bffe */

void __thiscall FUN_0041bffe(void *this)

{
  LPRECT lprcDst;
  longlong lVar1;
  HDC hdc;
  int iVar2;
  LPCWSTR lpString;
  BOOL BVar3;
  uint uVar4;
  DWORD color;
  COLORREF color_00;
  HANDLE h;
  HFONT pHVar5;
  HGDIOBJ h_00;
  HWND pHVar6;
  undefined4 extraout_EDX;
  int dy;
  undefined4 *in_stack_00000010;
  int iPartId;
  LOGFONTW *pv;
  HGDIOBJ local_e4;
  int local_e0;
  int local_dc;
  int local_d8;
  tagPAINTSTRUCT local_cc;
  LOGFONTW local_8c;
  tagRECT local_28;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  hdc = BeginPaint(*(HWND *)((int)this + 4),&local_cc);
  iVar2 = GetWindowTextLengthW(*(HWND *)((int)this + 4));
  lVar1 = (ulonglong)(iVar2 + 1U) * 2;
  lpString = (LPCWSTR)FUN_00420c4c(-(uint)((int)((ulonglong)lVar1 >> 0x20) != 0) | (uint)lVar1);
  if (lpString == (LPCWSTR)0x0) goto LAB_0041c309;
  BVar3 = IsWindowEnabled(*(HWND *)((int)this + 4));
  dy = 0;
  local_e4 = (HGDIOBJ)0x0;
  GetWindowTextW(*(HWND *)((int)this + 4),lpString,iVar2 + 1U);
  GetClientRect(*(HWND *)((int)this + 4),&local_18);
  SetBkMode(hdc,1);
  uVar4 = SendMessageW(*(HWND *)((int)this + 4),0x129,0,0);
  uVar4 = uVar4 >> 1 & 1;
  if ((*(uint *)((int)this + 0x34) & 0x800) != 0) {
    uVar4 = 0;
  }
  if ((*(HTHEME *)((int)this + 0x54) == (HTHEME)0x0) || (BVar3 == 0)) {
    color = GetSysColor(8);
    color_00 = SetTextColor(hdc,color);
    if (*(int *)((int)this + 0x24) == 0) {
      if (*(int *)((int)this + 0x3c) != 0) {
        memset(&local_8c,0,0x5c);
        pv = &local_8c;
        iVar2 = 0x5c;
        h = (HANDLE)SendMessageW(*(HWND *)((int)this + 4),0x31,0,0);
        iVar2 = GetObjectW(h,iVar2,pv);
        if (0 < iVar2) {
          local_8c.lfUnderline = '\x01';
          pHVar5 = CreateFontIndirectW(&local_8c);
          *(HFONT *)((int)this + 0x24) = pHVar5;
        }
      }
      if (*(int *)((int)this + 0x24) != 0) goto LAB_0041c1a0;
LAB_0041c1aa:
      h_00 = (HGDIOBJ)SendMessageW(*(HWND *)((int)this + 4),0x31,0,0);
    }
    else {
LAB_0041c1a0:
      if (*(int *)((int)this + 0x3c) == 0) goto LAB_0041c1aa;
      h_00 = *(HGDIOBJ *)((int)this + 0x24);
    }
    local_e4 = SelectObject(hdc,h_00);
    DrawTextW(hdc,lpString,-1,&local_18,uVar4 << 0x14 | *(uint *)((int)this + 0x34));
    SetTextColor(hdc,color_00);
  }
  else {
    if (*(int *)((int)this + 0x38) == 0) {
      iPartId = 1;
    }
    else {
      iPartId = 4;
    }
    DrawThemeText(*(HTHEME *)((int)this + 0x54),hdc,iPartId,(*(int *)((int)this + 0x3c) != 0) + 1,
                  lpString,iVar2,uVar4 << 0x14 | *(uint *)((int)this + 0x34),0,&local_18);
  }
  if (*(int *)((int)this + 0x4c) == 0) {
    CopyRect(&local_28,&local_18);
    FUN_0041c33e(this,lpString,hdc,BVar3,&local_28);
    if ((*(int *)((int)this + 0x54) == 0) || (BVar3 == 0)) {
      local_d8 = -3;
      local_dc = 3;
    }
    else {
      local_d8 = -4;
      if (*(int *)((int)this + 0x38) == 0) {
        local_d8 = -2;
      }
      local_dc = (*(int *)((int)this + 0x38) != 0) + 2;
    }
    if ((*(byte *)((int)this + 0x34) & 1) == 0) {
      local_e0 = 0;
    }
    else {
      local_e0 = (local_18.right - local_28.right) / 2;
    }
    if ((*(byte *)((int)this + 0x34) & 4) != 0) {
      dy = (local_18.bottom - local_28.bottom) / 2;
    }
    lprcDst = (LPRECT)((int)this + 0x44);
    CopyRect(lprcDst,&local_28);
    OffsetRect(lprcDst,local_e0,dy);
    InflateRect(lprcDst,local_dc,local_d8);
  }
  pHVar6 = GetFocus();
  if (pHVar6 == *(HWND *)((int)this + 4)) {
    DrawFocusRect(hdc,(RECT *)((int)this + 0x44));
  }
  if (local_e4 != (HGDIOBJ)0x0) {
    SelectObject(hdc,local_e4);
  }
  operator_delete__(lpString);
LAB_0041c309:
  EndPaint(*(HWND *)((int)this + 4),&local_cc);
  *in_stack_00000010 = 1;
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0041c33e */

void __thiscall FUN_0041c33e(void *this,LPCWSTR param_1,HDC param_2,int param_3,LPRECT param_4)

{
  int iPartId;
  DTTOPTS local_44;
  
  if ((*(int *)((int)this + 0x54) == 0) || (param_3 == 0)) {
    DrawTextW(param_2,param_1,-1,param_4,*(uint *)((int)this + 0x34) | 0x400);
  }
  else {
    memset(&local_44,0,0x40);
    local_44.dwSize = 0x40;
    local_44.dwFlags = 0x200;
    if (*(int *)((int)this + 0x38) == 0) {
      iPartId = 1;
    }
    else {
      iPartId = 4;
    }
    DrawThemeTextEx(*(HTHEME *)((int)this + 0x54),param_2,iPartId,
                    (*(int *)((int)this + 0x3c) != 0) + 1,param_1,-1,
                    *(uint *)((int)this + 0x34) | 0x400,param_4,&local_44);
  }
  return;
}



/* Function: FUN_0041c3d9 */

void __fastcall FUN_0041c3d9(void *param_1)

{
  longlong lVar1;
  BOOL BVar2;
  HDC hdc;
  int iVar3;
  LPCWSTR lpString;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar4;
  HGDIOBJ pvVar5;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_18.left = 0;
  local_18.top = 0;
  local_18.right = 0;
  local_18.bottom = 0;
  BVar2 = IsWindowEnabled(*(HWND *)((int)param_1 + 4));
  pvVar5 = (HGDIOBJ)0x0;
  hdc = CreateCompatibleDC((HDC)0x0);
  if ((*(int *)((int)param_1 + 0x54) == 0) || (BVar2 == 0)) {
    pvVar5 = (HGDIOBJ)SendMessageW(*(HWND *)((int)param_1 + 4),0x31,0,0);
    pvVar5 = SelectObject(hdc,pvVar5);
  }
  iVar3 = GetWindowTextLengthW(*(HWND *)((int)param_1 + 4));
  lVar1 = (ulonglong)(iVar3 + 1U) * 2;
  lpString = (LPCWSTR)FUN_00420c4c(-(uint)((int)((ulonglong)lVar1 >> 0x20) != 0) | (uint)lVar1);
  if (lpString != (LPCWSTR)0x0) {
    GetWindowTextW(*(HWND *)((int)param_1 + 4),lpString,iVar3 + 1U);
    FUN_0041c33e(param_1,lpString,hdc,BVar2,&local_18);
  }
  operator_delete__(lpString);
  uVar4 = extraout_EDX;
  if (hdc != (HDC)0x0) {
    if (pvVar5 != (HGDIOBJ)0x0) {
      SelectObject(hdc,pvVar5);
    }
    DeleteDC(hdc);
    uVar4 = extraout_EDX_00;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar4);
  return;
}



/* Function: FUN_0041c4b4 */

void __thiscall FUN_0041c4b4(void *this,undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  POINT pt;
  POINT pt_00;
  int iVar2;
  BOOL BVar3;
  HCURSOR hCursor;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 uVar4;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  iVar2 = (int)(short)((uint)param_3 >> 0x10);
  iVar1 = *(int *)((int)this + 0x3c);
  BVar3 = IsWindowEnabled(*(HWND *)((int)this + 4));
  GetClientRect(*(HWND *)((int)this + 4),&local_18);
  if (BVar3 != 0) {
    pt.y = iVar2;
    pt.x = (int)(short)param_3;
    BVar3 = PtInRect(&local_18,pt);
    if (BVar3 != 0) {
      if (*(int *)((int)this + 0x40) == 0) {
        SetCapture(*(HWND *)((int)this + 4));
        *(undefined4 *)((int)this + 0x40) = 1;
      }
      pt_00.y = iVar2;
      pt_00.x = (int)(short)param_3;
      iVar2 = PtInRect((RECT *)((int)this + 0x44),pt_00);
      uVar4 = extraout_EDX;
      goto LAB_0041c53d;
    }
  }
  ReleaseCapture();
  *(undefined4 *)((int)this + 0x40) = 0;
  iVar2 = 0;
  uVar4 = extraout_EDX_00;
LAB_0041c53d:
  *(int *)((int)this + 0x3c) = iVar2;
  if (iVar2 != iVar1) {
    InvalidateRect(*(HWND *)((int)this + 4),(RECT *)0x0,1);
    hCursor = *(HCURSOR *)((int)this + 0x28);
    uVar4 = extraout_EDX_01;
    if (hCursor != (HCURSOR)0x0) {
      if (*(int *)((int)this + 0x3c) == 0) {
        hCursor = *(HCURSOR *)((int)this + 0x2c);
      }
      SetCursor(hCursor);
      uVar4 = extraout_EDX_02;
    }
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar4);
  return;
}



/* Function: FUN_0041c590 */

bool __fastcall
FUN_0041c590(undefined4 *param_1,undefined4 param_2,undefined4 param_3,int param_4,HDC param_5,
            int *param_6,undefined4 *param_7,int param_8)

{
  undefined4 uVar1;
  int *piVar2;
  undefined4 *extraout_ECX;
  undefined4 *extraout_ECX_00;
  undefined4 *puVar3;
  undefined4 extraout_EDX;
  undefined8 uVar4;
  int local_14;
  int *local_10;
  int *local_c;
  
  if (param_8 == 0) {
    if (param_4 == 0x14) {
      local_14 = 1;
      uVar1 = FUN_0041cb5d(param_1,param_1,param_5,param_1,&local_14);
      *param_7 = uVar1;
      if (local_14 != 0) {
        return true;
      }
    }
    else if (param_4 == 0x4e) {
      local_10 = param_6 + 2;
      puVar3 = param_1;
      local_c = local_10;
      if (*local_10 == -0xc) {
        local_14 = 1;
        uVar4 = FUN_0041cbb3(param_1,(int)param_5,param_6,&local_14);
        param_2 = (undefined4)((ulonglong)uVar4 >> 0x20);
        *param_7 = (int)uVar4;
        puVar3 = param_7;
        if (local_14 != 0) {
          return true;
        }
      }
      local_10 = param_6 + 2;
      piVar2 = local_10;
      if (*local_10 == -0x2cf) {
        local_14 = 1;
        uVar1 = FUN_0041ca15(param_1,puVar3,param_6,&local_14);
        *param_7 = uVar1;
        piVar2 = local_c;
        puVar3 = extraout_ECX;
        param_2 = extraout_EDX;
        if (local_14 != 0) {
          return true;
        }
      }
      if (*piVar2 == -0x209) {
        local_14 = 1;
        uVar4 = FUN_0041ca5e(param_1,param_2,(int)param_5,puVar3,&local_14);
        param_2 = (undefined4)((ulonglong)uVar4 >> 0x20);
        *param_7 = (int)uVar4;
        puVar3 = extraout_ECX_00;
        if (local_14 != 0) {
          return true;
        }
      }
      if (*local_10 == -0x20a) {
        local_14 = 1;
        uVar1 = FUN_0041cad0((int)param_1,param_2,(int)param_5,puVar3,&local_14);
        *param_7 = uVar1;
        return local_14 != 0;
      }
    }
  }
  return false;
}



/* Function: FUN_0041c6b6 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 * __thiscall FUN_0041c6b6(void *this,undefined4 param_1)

{
  code *pcVar1;
  
  *(undefined4 *)((int)this + 8) = 0;
  *(undefined4 *)((int)this + 0xc) = 0;
  *(undefined4 *)((int)this + 0x10) = 0;
  pcVar1 = DefWindowProcW_exref;
  *(undefined4 *)((int)this + 0x38) = 0xffffffff;
  *(code **)((int)this + 0x20) = pcVar1;
  *(undefined4 *)((int)this + 4) = 0;
  *(undefined4 *)((int)this + 0x14) = 0;
  *(undefined4 *)((int)this + 0x18) = 0;
  *(undefined4 *)((int)this + 0x1c) = 0;
  *(undefined ***)this = &PTR_FUN_004017d0;
  *(undefined4 *)((int)this + 0x2c) = param_1;
  *(undefined4 *)((int)this + 0x34) = 0;
  FUN_0040ce33((void *)((int)this + 0x40),(int *)&PTR_PTR_00425384);
  *(undefined4 *)((int)this + 0x44) = 0;
  *(undefined4 *)((int)this + 0x48) = 0;
  *(undefined4 *)((int)this + 0x4c) = 0;
  *(undefined4 *)((int)this + 0x50) = 0;
  return (undefined4 *)this;
}



/* Function: FUN_0041c730 */

undefined4 * __thiscall FUN_0041c730(void *this,byte param_1)

{
  FUN_0041c758((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return (undefined4 *)this;
}



/* Function: FUN_0041c758 */

void __fastcall FUN_0041c758(undefined4 *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00421226;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_004017d0;
  if (param_1[0x14] != 0) {
    DwmUnregisterThumbnail((HTHUMBNAIL)param_1[0x14]);
    param_1[0x14] = 0;
  }
  if (param_1[0xf] != 0) {
    ImageList_Destroy((HIMAGELIST)param_1[0xf]);
  }
  FUN_0040d028((undefined4 *)(param_1[0x10] + -0x10));
  local_8 = 0;
  if (param_1[5] != 0) {
    FUN_0041abac((int *)param_1[5]);
  }
  ExceptionList = local_10;
  return;
}



/* Function: FUN_0041c7dd */

void __thiscall FUN_0041c7dd(void *this,uint param_1)

{
  HWND hWnd;
  uint uVar1;
  HIMAGELIST p_Var2;
  
  *(uint *)((int)this + 0x30) = param_1;
  hWnd = (HWND)SendMessageW(*(HWND *)((int)this + 4),0x423,0,0);
  *(HWND *)((int)this + 0x48) = hWnd;
  if (hWnd != (HWND)0x0) {
    uVar1 = GetWindowLongW(hWnd,-0x10);
    SetWindowLongW(*(HWND *)((int)this + 0x48),-0x10,uVar1 | 2);
  }
  p_Var2 = ImageList_Create(*(int *)((int)this + 0x30),*(int *)((int)this + 0x30),0xa021,2,0);
  *(HIMAGELIST *)((int)this + 0x3c) = p_Var2;
  SendMessageW(*(HWND *)((int)this + 4),0x41f,0,(param_1 & 0xffff) << 0x10 | param_1 & 0xffff);
  SendMessageW(*(HWND *)((int)this + 4),0x430,0,*(LPARAM *)((int)this + 0x3c));
  SendMessageW(*(HWND *)((int)this + 4),0x41e,0x14,0);
  uVar1 = SendMessageW(*(HWND *)((int)this + 4),0x455,0,0);
  SendMessageW(*(HWND *)((int)this + 4),0x454,0,uVar1 | 0x80);
  ShowWindow(*(HWND *)((int)this + 4),1);
  return;
}



/* Function: FUN_0041c8af */

void __fastcall FUN_0041c8af(int param_1,undefined4 param_2,HICON param_3)

{
  int iVar1;
  WPARAM wParam;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  UINT Msg;
  undefined4 *lParam;
  undefined4 local_2c;
  undefined4 local_28;
  int local_24;
  undefined4 local_20;
  undefined8 local_1c;
  ulonglong local_14;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  *(HICON *)(param_1 + 0x24) = param_3;
  if (param_3 == (HICON)0x0) {
    if (*(int *)(param_1 + 0x38) != -1) {
      SendMessageW(*(HWND *)(param_1 + 4),0x416,0,0);
      ImageList_Remove(*(HIMAGELIST *)(param_1 + 0x3c),*(int *)(param_1 + 0x38));
      *(undefined4 *)(param_1 + 0x38) = 0xffffffff;
      param_2 = extraout_EDX_02;
    }
  }
  else {
    iVar1 = ImageList_ReplaceIcon(*(HIMAGELIST *)(param_1 + 0x3c),*(int *)(param_1 + 0x38),param_3);
    if (*(int *)(param_1 + 0x38) == -1) {
      iVar1 = ImageList_ReplaceIcon
                        (*(HIMAGELIST *)(param_1 + 0x3c),*(int *)(param_1 + 0x38),param_3);
      *(int *)(param_1 + 0x38) = iVar1;
      param_2 = extraout_EDX_00;
      if (iVar1 == -1) goto LAB_0041c9be;
      local_1c = local_1c & 0xffffffffffff;
      local_14 = local_14 & 0xffffffff;
      iVar1 = GetDlgCtrlID(*(HWND *)(param_1 + 4));
      local_20 = *(undefined4 *)(param_1 + 0x38);
      local_1c._0_6_ = CONCAT24(4,iVar1);
      local_14 = local_14 & 0xffffffff00000000;
      SendMessageW(*(HWND *)(param_1 + 4),0x444,1,(LPARAM)&local_20);
      lParam = (undefined4 *)0x0;
      wParam = 0;
      Msg = 0x421;
    }
    else {
      *(int *)(param_1 + 0x38) = iVar1;
      param_2 = extraout_EDX;
      if (iVar1 == -1) goto LAB_0041c9be;
      local_2c = 0x20;
      local_1c = 0;
      local_14 = 0;
      local_28 = 1;
      local_24 = GetDlgCtrlID(*(HWND *)(param_1 + 4));
      local_20 = *(undefined4 *)(param_1 + 0x38);
      wParam = GetDlgCtrlID(*(HWND *)(param_1 + 4));
      lParam = &local_2c;
      Msg = 0x440;
    }
    SendMessageW(*(HWND *)(param_1 + 4),Msg,wParam,(LPARAM)lParam);
    param_2 = extraout_EDX_01;
  }
LAB_0041c9be:
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_0041c9d5 */

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */

undefined4 __thiscall FUN_0041c9d5(void *this,short *param_1)

{
  short *pv;
  
  pv = FUN_0041bce2(param_1);
  FUN_0040d2c0((void *)((int)this + 0x40),pv);
  CoTaskMemFree(pv);
  return 1;
}



/* Function: FUN_0041ca15 */

undefined4 __thiscall FUN_0041ca15(void *this,undefined4 param_1,int *param_2,undefined4 *param_3)

{
  HWND hWnd;
  int iVar1;
  
  hWnd = *(HWND *)((int)this + 4);
  *param_3 = 0;
  iVar1 = GetDlgCtrlID(hWnd);
  if ((param_2[1] == iVar1) && (*param_2 == *(int *)((int)this + 4))) {
    FUN_00405d17((short *)param_2[3],param_2[4],*(int *)((int)this + 0x40));
    *param_3 = 1;
  }
  return 0;
}



/* Function: FUN_0041ca5e */

void __fastcall
FUN_0041ca5e(void *param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 *param_5)

{
  int iVar1;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  *param_5 = 0;
  if ((*(int *)((int)param_1 + 0x44) != 0) &&
     (iVar1 = GetDlgCtrlID(*(HWND *)((int)param_1 + 4)), param_2 = extraout_EDX, param_3 == iVar1))
  {
    iVar1 = FUN_0041d0ae(param_1);
    param_2 = extraout_EDX_00;
    if (iVar1 != 0) {
      GetWindowRect(*(HWND *)((int)param_1 + 4),&local_1c);
      FUN_0041ce5d((int)param_1,extraout_EDX_01,&local_1c);
      param_2 = extraout_EDX_02;
    }
    *param_5 = 1;
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_0041cad0 */

void __fastcall
FUN_0041cad0(int param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 *param_5)

{
  int iVar1;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  DWM_THUMBNAIL_PROPERTIES local_38;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  *param_5 = 0;
  if (*(int *)(param_1 + 0x44) != 0) {
    iVar1 = GetDlgCtrlID(*(HWND *)(param_1 + 4));
    param_2 = extraout_EDX;
    if (param_3 == iVar1) {
      if (*(int *)(param_1 + 0x50) != 0) {
        local_38.dwFlags = 8;
        local_38.fVisible = 0;
        DwmUpdateThumbnailProperties(*(HTHUMBNAIL *)(param_1 + 0x50),&local_38);
      }
      ShowWindow(*(HWND *)(param_1 + 0x48),0);
      GetWindowLongW(*(HWND *)(param_1 + 0x48),-0x10);
      SetWindowLongW(*(HWND *)(param_1 + 0x48),-0x10,0);
      *param_5 = 1;
      param_2 = extraout_EDX_00;
    }
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_0041cb5d */

void __thiscall
FUN_0041cb5d(void *this,undefined4 param_1,HDC param_2,undefined4 param_3,undefined4 *param_4)

{
  undefined4 extraout_EDX;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  GetClientRect(*(HWND *)((int)this + 4),&local_18);
  DrawThemeParentBackgroundEx(*(HWND *)((int)this + 4),param_2,4,&local_18);
  *param_4 = 1;
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0041cbb3 */

void __thiscall FUN_0041cbb3(void *this,int param_1,undefined4 *param_2,undefined4 *param_3)

{
  HDC hdc;
  HWND hWnd;
  int iVar1;
  BOOL BVar2;
  HRESULT HVar3;
  HWND hWnd_00;
  HBRUSH hbr;
  uint uVar4;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined4 uVar5;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  iVar1 = GetDlgCtrlID(*(HWND *)((int)this + 4));
  uVar5 = extraout_EDX;
  if (param_1 == iVar1) {
    iVar1 = param_2[3];
    if ((HWND)*param_2 == *(HWND *)((int)this + 0x48)) {
      if ((iVar1 == 1) && (*(int *)((int)this + 0x44) != 0)) {
        uVar4 = GetWindowLongW(*(HWND *)((int)this + 0x48),-0x10);
        SetWindowLongW(*(HWND *)((int)this + 0x48),-0x10,uVar4 | 0x40000);
        uVar5 = extraout_EDX_03;
      }
    }
    else if (iVar1 == 1) {
      hdc = (HDC)param_2[4];
      BVar2 = IsThemeActive();
      if ((BVar2 == 0) ||
         (HVar3 = DrawThemeParentBackgroundEx(*(HWND *)((int)this + 4),hdc,4,(RECT *)(param_2 + 5)),
         uVar5 = extraout_EDX_01, HVar3 != 0)) {
        hWnd = *(HWND *)((int)this + 4);
        hWnd_00 = GetParent(hWnd);
        hbr = (HBRUSH)SendMessageW(hWnd_00,0x138,(WPARAM)hdc,(LPARAM)hWnd);
        FillRect(hdc,(RECT *)(param_2 + 5),hbr);
        uVar5 = extraout_EDX_02;
      }
    }
    else if ((iVar1 != 0x10001) && (iVar1 == 0x10002)) {
      SendMessageW(*(HWND *)((int)this + 4),0x41d,0,(LPARAM)&local_18);
      ImageList_Draw(*(HIMAGELIST *)((int)this + 0x3c),*(int *)((int)this + 0x38),(HDC)param_2[4],
                     ((local_c - *(int *)((int)this + 0x30)) - local_14) / 2 + local_14,
                     ((local_10 - *(int *)((int)this + 0x30)) - local_18) / 2 + local_18,
                     *(int *)((int)this + 0x34) << 8 | 1);
      uVar5 = extraout_EDX_00;
    }
  }
  else {
    *param_3 = 0;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar5);
  return;
}



/* Function: FUN_0041cd06 */

int __thiscall FUN_0041cd06(void *this,HWND param_1)

{
  undefined4 uVar1;
  BOOL BVar2;
  int iVar3;
  
  iVar3 = 0;
  if (param_1 == (HWND)0x0) {
    if (*(int *)((int)this + 0x50) != 0) {
      DwmUnregisterThumbnail(*(HTHUMBNAIL *)((int)this + 0x50));
      *(undefined4 *)((int)this + 0x50) = 0;
      *(undefined4 *)((int)this + 0x44) = 0;
    }
    uVar1 = 0;
  }
  else {
    if ((*(int *)((int)this + 0x48) == 0) ||
       (BVar2 = IsWindow(*(HWND *)((int)this + 0x48)), BVar2 == 0)) {
      return -0x7fffbffb;
    }
    iVar3 = FUN_0041cd6b(this,param_1);
    if (iVar3 < 0) {
      return iVar3;
    }
    uVar1 = 1;
  }
  *(undefined4 *)((int)this + 0x44) = uVar1;
  return iVar3;
}



/* Function: FUN_0041cd6b */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall FUN_0041cd6b(void *this,HWND param_1)

{
  HDC hdc;
  BOOL BVar1;
  int iVar2;
  HRESULT HVar3;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 uVar4;
  float fVar5;
  DWM_THUMBNAIL_PROPERTIES local_3c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  hdc = GetDC(*(HWND *)((int)this + 0x48));
  BVar1 = IsWindow(param_1);
  uVar4 = extraout_EDX;
  if (BVar1 != 0) {
    *(HWND *)((int)this + 0x4c) = param_1;
    iVar2 = GetDeviceCaps(hdc,0x58);
    fVar5 = ((float)iVar2 * _DAT_00403648) / DAT_00403670;
    iVar2 = (int)(((float)iVar2 * _DAT_00403678) / DAT_00403670);
    *(int *)((int)this + 0x54) = iVar2;
    *(int *)((int)this + 0x58) = iVar2;
    iVar2 = (int)fVar5;
    *(int *)((int)this + 0x5c) = iVar2;
    *(int *)((int)this + 0x60) = iVar2;
    ReleaseDC(*(HWND *)((int)this + 0x48),hdc);
    HVar3 = DwmRegisterThumbnail
                      (*(HWND *)((int)this + 0x48),*(HWND *)((int)this + 0x4c),
                       (PHTHUMBNAIL)((int)this + 0x50));
    uVar4 = extraout_EDX_00;
    if (-1 < HVar3) {
      local_3c.fVisible = 0;
      local_3c.dwFlags = 0x1c;
      local_3c.rcDestination.left = 0;
      local_3c.rcDestination.top = 0;
      local_3c.rcDestination.right = 0;
      local_3c.rcDestination.bottom = 0;
      local_3c.rcSource.left = 0;
      local_3c.rcSource.top = 0;
      local_3c.rcSource.right = 0;
      local_3c.rcSource.bottom = 0;
      local_3c.opacity = 0xff;
      local_3c.fSourceClientAreaOnly = 1;
      DwmUpdateThumbnailProperties(*(PHTHUMBNAIL)((int)this + 0x50),&local_3c);
      uVar4 = extraout_EDX_01;
    }
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,uVar4);
  return;
}



/* Function: FUN_0041ce5d */

void __fastcall FUN_0041ce5d(int param_1,undefined4 param_2,LPCRECT param_3)

{
  HRESULT HVar1;
  DWORD dwExStyle;
  uint uVar2;
  int yBottom;
  HMONITOR hMonitor;
  int iVar3;
  int cx;
  undefined4 extraout_EDX;
  int xRight;
  undefined4 extraout_EDX_00;
  int cy;
  int iVar4;
  int iVar5;
  tagSIZE local_9c;
  tagMONITORINFO local_94;
  tagRECT local_6c;
  DWM_THUMBNAIL_PROPERTIES local_5c;
  tagRECT local_2c;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_9c.cx = 0;
  local_9c.cy = 0;
  if ((((param_3 != (LPCRECT)0x0) && (*(int *)(param_1 + 0x50) != 0)) &&
      (HVar1 = DwmQueryThumbnailSourceSize(*(HTHUMBNAIL *)(param_1 + 0x50),&local_9c),
      param_2 = extraout_EDX, -1 < HVar1)) && ((0 < local_9c.cx && (0 < local_9c.cy)))) {
    SetRectEmpty(&local_1c);
    dwExStyle = GetWindowLongW(*(HWND *)(param_1 + 0x48),-0x14);
    uVar2 = GetWindowLongW(*(HWND *)(param_1 + 0x48),-0x10);
    AdjustWindowRectEx(&local_1c,uVar2 | 0x40000,0,dwExStyle);
    if (local_9c.cx < local_9c.cy) {
      xRight = (int)(((float)local_9c.cx * (float)*(int *)(param_1 + 0x58)) / (float)local_9c.cy +
                    DAT_0040363c);
    }
    else {
      xRight = *(int *)(param_1 + 0x54);
    }
    if (local_9c.cy < local_9c.cx) {
      yBottom = (int)(((float)*(int *)(param_1 + 0x54) * (float)local_9c.cy) / (float)local_9c.cx +
                     DAT_0040363c);
    }
    else {
      yBottom = *(int *)(param_1 + 0x58);
    }
    cy = (local_1c.bottom - local_1c.top) + yBottom;
    cx = (local_1c.right - local_1c.left) + xRight;
    iVar4 = ((param_3->right - cx) + param_3->left) / 2;
    iVar5 = (param_3->top - *(int *)(param_1 + 0x60)) - cy;
    hMonitor = MonitorFromRect(param_3,2);
    local_94.cbSize = 0x28;
    GetMonitorInfoW(hMonitor,&local_94);
    CopyRect(&local_2c,&local_94.rcMonitor);
    iVar3 = local_2c.right - cx;
    if (iVar4 < local_2c.right - cx) {
      iVar3 = iVar4;
    }
    if (local_2c.left < iVar3) {
      local_2c.left = iVar3;
    }
    iVar3 = local_2c.bottom - cy;
    if (iVar5 < local_2c.bottom - cy) {
      iVar3 = iVar5;
    }
    if (local_2c.top < iVar3) {
      local_2c.top = iVar3;
    }
    SetWindowPos(*(HWND *)(param_1 + 0x48),(HWND)0x0,local_2c.left,local_2c.top,cx,cy,0x210);
    local_5c.opacity = '\0';
    local_5c.fSourceClientAreaOnly = 0;
    local_5c.rcSource.left = 0;
    local_5c.rcSource.top = 0;
    local_5c.rcSource.right = 0;
    local_5c.rcSource.bottom = 0;
    SetRect(&local_6c,0,0,xRight,yBottom);
    local_5c.dwFlags = 9;
    local_5c.rcDestination.left = local_6c.left;
    local_5c.rcDestination.top = local_6c.top;
    local_5c.rcDestination.right = local_6c.right;
    local_5c.rcDestination.bottom = local_6c.bottom;
    local_5c.fVisible = 1;
    DwmUpdateThumbnailProperties(*(HTHUMBNAIL *)(param_1 + 0x50),&local_5c);
    param_2 = extraout_EDX_00;
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_0041d0ae */

undefined4 __fastcall FUN_0041d0ae(void *param_1)

{
  HWND hWnd;
  LRESULT LVar1;
  int iVar2;
  undefined4 uVar3;
  HWND local_8;
  
  uVar3 = 1;
  local_8 = *(HWND *)((int)param_1 + 0x4c);
  hWnd = GetParent(*(HWND *)((int)param_1 + 4));
  LVar1 = SendMessageW(hWnd,0x41c,(WPARAM)&local_8,0);
  if (LVar1 == 1) {
    if (*(int *)((int)param_1 + 0x50) != 0) {
      DwmUnregisterThumbnail(*(HTHUMBNAIL *)((int)param_1 + 0x50));
      *(undefined4 *)((int)param_1 + 0x50) = 0;
      *(undefined4 *)((int)param_1 + 0x44) = 0;
    }
    iVar2 = FUN_0041cd6b(param_1,local_8);
    if (iVar2 < 0) {
      uVar3 = 0;
    }
    else {
      *(undefined4 *)((int)param_1 + 0x44) = 1;
    }
  }
  else if (LVar1 != 0) {
    uVar3 = 0;
  }
  return uVar3;
}



/* Function: FUN_0041d130 */

bool __thiscall
FUN_0041d130(void *this,undefined4 param_1,int param_2,HDC param_3,uint param_4,LRESULT *param_5,
            int param_6)

{
  uint uVar1;
  LRESULT LVar2;
  int iVar3;
  HWND hWnd;
  HTHEME pvVar4;
  RECT *lpRect;
  void *local_c [2];
  
  if (param_6 != 0) {
    return false;
  }
  local_c[0] = this;
  if (param_2 == 0x432) {
    *(uint *)((int)this + 0x68) = param_4;
LAB_0041d15d:
    if (param_3 == (HDC)0x0) goto LAB_0041d1d2;
LAB_0041d15f:
    lpRect = (RECT *)0x0;
  }
  else {
    if (param_2 == 0x433) {
      uVar1 = *(uint *)((int)this + 0x6c);
      *(uint *)((int)this + 0x6c) = param_4;
      if (param_4 == uVar1) goto LAB_0041d1d2;
      FUN_0041d662((int)this);
      goto LAB_0041d15d;
    }
    if (param_2 == 0x434) {
      iVar3 = *(int *)((int)this + 0x34);
      uVar1 = *(uint *)((int)this + 0x30);
      *(uint *)((int)this + 0x30) = param_4 >> 0x10;
      *(uint *)((int)this + 0x34) = param_4 & 0xffff;
      if (param_3 == (HDC)0x0) goto LAB_0041d1d2;
      if (param_4 >> 0x10 == uVar1) {
        param_3 = (HDC)((param_4 & 0xffff) - iVar3);
        goto LAB_0041d15d;
      }
      goto LAB_0041d15f;
    }
    if (param_2 == 0x435) {
      uVar1 = *(uint *)((int)this + 0x70);
      *(uint *)((int)this + 0x70) = param_4;
      if ((param_3 == (HDC)0x0) || (param_4 == uVar1)) goto LAB_0041d1d2;
      lpRect = (RECT *)((int)this + 0x48);
    }
    else {
      if (param_2 == 0x437) {
        local_c[0] = (void *)0x1;
        LVar2 = FUN_0041d7b7(this,this,this,param_4,local_c);
LAB_0041d30b:
        *param_5 = LVar2;
        if (local_c[0] == (void *)0x0) {
          return false;
        }
        return true;
      }
      if (param_2 != 0x438) {
        if (param_2 == 0x406) {
          *(int *)((int)this + 0xa4) = (int)(short)param_4;
          *(int *)((int)this + 0xa8) = (int)(short)(param_4 >> 0x10);
          LVar2 = CallWindowProcW(*(WNDPROC *)((int)this + 0x20),*(HWND *)((int)this + 4),0x406,
                                  (WPARAM)param_3,param_4);
          *param_5 = LVar2;
          return true;
        }
        if (param_2 == 0x14) {
          *param_5 = 1;
          return true;
        }
        if (param_2 != 0xf) {
          if (param_2 == 0x318) {
            if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
                ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
               (3 < (byte)PTR_LOOP_004252dc[0x19])) {
              FUN_0040a5b1(0xc,&DAT_004033e8,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                           *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
            }
            FUN_0041e64c(this,param_3);
            *param_5 = 0;
            return true;
          }
          if (param_2 == 2) {
            if (*(int *)((int)this + 0x2c) != 0) {
              CloseThemeData(*(HTHEME *)((int)this + 0x2c));
            }
          }
          else {
            if (param_2 == 0x100) {
              local_c[0] = (void *)0x1;
              LVar2 = FUN_0041e889(this,this,param_3,this,local_c);
              goto LAB_0041d30b;
            }
            if (param_2 != 0x20a) {
              if (param_2 == 0x200) {
                local_c[0] = (void *)0x1;
                LVar2 = FUN_0041e8e7(this,this,(byte)param_3,param_4,local_c);
                goto LAB_0041d30b;
              }
              if (param_2 == 0x2a3) {
                *(undefined4 *)((int)this + 0x88) = 0;
                iVar3 = FUN_0041e82c((int)this);
                if (iVar3 != *(int *)((int)this + 0x84)) {
                  InvalidateRect(*(HWND *)((int)this + 4),(RECT *)((int)this + 0x58),1);
                }
                goto LAB_0041d39f;
              }
              if (param_2 != 0x201) {
                if (param_2 == 0x31a) {
                  if (*(int *)((int)this + 0x2c) != 0) {
                    CloseThemeData(*(HTHEME *)((int)this + 0x2c));
                  }
                  pvVar4 = OpenThemeData(*(HWND *)((int)this + 4),L"Trackbar");
                  *(HTHEME *)((int)this + 0x2c) = pvVar4;
                  FUN_0041d459((uint *)((int)this + 0x74),1);
                  *param_5 = 1;
                  return true;
                }
                if (param_2 == 5) {
                  LVar2 = CallWindowProcW(*(WNDPROC *)((int)this + 0x20),*(HWND *)((int)this + 4),5,
                                          (WPARAM)param_3,param_4);
                  FUN_0041d662((int)this);
                  *param_5 = LVar2;
                  return true;
                }
                if (param_2 != 0x4e) {
                  return false;
                }
                if (*(int *)(param_4 + 8) != -0x212) {
                  return false;
                }
                local_c[0] = (void *)0x1;
                LVar2 = FUN_0041e963(this,local_c,param_4,local_c);
                *param_5 = LVar2;
                return local_c[0] != (void *)0x0;
              }
            }
            if (*(int *)((int)this + 0x68) != 0) {
              *(undefined4 *)((int)this + 0x68) = 0;
              hWnd = GetParent(*(HWND *)((int)this + 4));
              SendMessageW(hWnd,0x436,0,0);
            }
          }
LAB_0041d39f:
          *param_5 = 0;
          return false;
        }
        local_c[0] = (void *)0x1;
        LVar2 = FUN_0041e5a0(this);
        goto LAB_0041d30b;
      }
      lpRect = (RECT *)((int)this + 0x94);
      *(undefined4 *)((int)this + 0x8c) = 0;
    }
  }
  InvalidateRect(*(HWND *)((int)this + 4),lpRect,0);
LAB_0041d1d2:
  *param_5 = 0;
  return true;
}



/* Function: FUN_0041d459 */

void __fastcall FUN_0041d459(uint *param_1,int param_2)

{
  HTHEME hTheme;
  HRESULT HVar1;
  uint *local_8;
  
  *param_1 = 0x80d0d0d0;
  local_8 = param_1;
  hTheme = OpenThemeData((HWND)0x0,L"BUTTON");
  if (hTheme != (HTHEME)0x0) {
    HVar1 = GetThemeColor(hTheme,4,1,0xeee,(COLORREF *)&local_8);
    if (HVar1 == 0) {
      if (param_2 == 0) {
        *param_1 = (uint)local_8;
      }
      else {
        *param_1 = (uint)local_8 >> 0x10 & 0xff | ((uint)local_8 | 0xffffff00) << 0x10 |
                   (uint)local_8 & 0xff00;
      }
    }
    CloseThemeData(hTheme);
  }
  return;
}



/* Function: FUN_0041d4d5 */

undefined4 * __fastcall FUN_0041d4d5(undefined4 *param_1)

{
  code *pcVar1;
  uint uVar2;
  
  pcVar1 = DefWindowProcW_exref;
  param_1[1] = 0;
  param_1[5] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  param_1[8] = pcVar1;
  *param_1 = &PTR_FUN_004017e8;
  param_1[9] = 0;
  param_1[10] = 0;
  param_1[0xb] = 0;
  param_1[0xc] = 0;
  param_1[0xd] = 0;
  param_1[0x1a] = 0;
  param_1[0x1b] = 0;
  param_1[0x1c] = 0xff00;
  param_1[0x1d] = 0x80d0d0d0;
  param_1[0x1f] = 0;
  param_1[0x20] = 0;
  param_1[0x22] = 0;
  param_1[0x23] = 0;
  param_1[0x2b] = 0x3f800000;
  uVar2 = GetWindowLongW((HWND)0x0,-0x10);
  param_1[0x1f] = uVar2 >> 1 & 1;
  return param_1;
}



/* Function: FUN_0041d551 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0041d551(int param_1)

{
  float fVar1;
  HDC hdc;
  int iVar2;
  HTHEME pvVar3;
  uint uVar4;
  uint uVar5;
  float fVar6;
  float fVar7;
  
  hdc = GetDC(*(HWND *)(param_1 + 4));
  iVar2 = GetDeviceCaps(hdc,0x58);
  fVar1 = DAT_00403670;
  *(undefined4 *)(param_1 + 0xb0) = 0x41000000;
  fVar7 = (float)iVar2;
  *(float *)(param_1 + 0xb4) = (fVar7 * _DAT_0040364c) / fVar1;
  *(float *)(param_1 + 0xc0) = fVar7 / fVar1;
  fVar6 = (fVar7 + fVar7) / fVar1;
  *(float *)(param_1 + 0xbc) = (fVar7 * _DAT_00403648) / fVar1;
  *(float *)(param_1 + 0xb8) = fVar6;
  *(float *)(param_1 + 0xc4) = fVar6;
  ReleaseDC(*(HWND *)(param_1 + 4),hdc);
  pvVar3 = OpenThemeData(*(HWND *)(param_1 + 4),L"TRACKBAR");
  *(HTHEME *)(param_1 + 0x2c) = pvVar3;
  uVar4 = GetWindowLongW(*(HWND *)(param_1 + 4),-0x10);
  uVar5 = uVar4 >> 1 & 1;
  *(uint *)(param_1 + 0x7c) = uVar5;
  if ((uVar4 & 8) == 0) {
    iVar2 = uVar5 * 2 + 5;
    if ((uVar4 & 4) == 0) {
      iVar2 = uVar5 * 4 + 4;
    }
  }
  else {
    iVar2 = 3;
    if (uVar5 != 0) {
      iVar2 = 6;
    }
  }
  *(int *)(param_1 + 0x80) = iVar2;
  FUN_0041d662(param_1);
  *(undefined4 *)(param_1 + 0x28) = 1;
  *(undefined4 *)(param_1 + 0x24) = 1;
  FUN_0041d459((uint *)(param_1 + 0x74),1);
  FUN_0041d459((uint *)(param_1 + 0x78),0);
  return 0;
}



/* Function: FUN_0041d662 */

void __fastcall FUN_0041d662(int param_1)

{
  LPRECT lprcDst;
  float fVar1;
  int iVar2;
  undefined4 extraout_EDX;
  RECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  GetClientRect(*(HWND *)(param_1 + 4),(LPRECT)(param_1 + 0x38));
  SendMessageW(*(HWND *)(param_1 + 4),0x41a,0,(LPARAM)&local_18);
  lprcDst = (LPRECT)(param_1 + 0x48);
  if (*(int *)(param_1 + 0x7c) == 0) {
    CopyRect(lprcDst,&local_18);
    *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + (int)*(float *)(param_1 + 0xc4);
    iVar2 = *(int *)(param_1 + 0x54) + (int)*(float *)(param_1 + 0xc4);
    fVar1 = *(float *)(param_1 + 0xb4);
    *(int *)(param_1 + 0x54) = iVar2;
    lprcDst->left = lprcDst->left + (int)fVar1;
    *(int *)(param_1 + 0x50) = *(int *)(param_1 + 0x50) - (int)fVar1;
    if (*(int *)(param_1 + 0x6c) != 0) {
      *(int *)(param_1 + 0x54) = (int)*(float *)(param_1 + 0xb8) + iVar2;
    }
  }
  else {
    iVar2 = local_18.top - (int)*(float *)(param_1 + 0xc4);
    fVar1 = *(float *)(param_1 + 0xb4);
    *(LONG *)(param_1 + 0x50) = local_18.bottom - (int)*(float *)(param_1 + 0xc4);
    lprcDst->left = iVar2;
    *(LONG *)(param_1 + 0x4c) = local_18.left + (int)fVar1;
    *(LONG *)(param_1 + 0x54) = local_18.right - (int)fVar1;
    if (*(int *)(param_1 + 0x6c) != 0) {
      lprcDst->left = iVar2 - (int)*(float *)(param_1 + 0xb8);
    }
  }
  SendMessageW(*(HWND *)(param_1 + 4),0x419,0,param_1 + 0x58);
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,extraout_EDX);
  return;
}



/* Function: FUN_0041d74a */

int __thiscall FUN_0041d74a(void *this,int param_1,int param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)((int)this + 0xa4);
  if (*(int *)((int)this + 0xa8) != iVar1) {
    if (*(int *)((int)this + 0x7c) == 0) {
      iVar2 = param_3 - param_1;
    }
    else {
      iVar2 = param_4 - param_2;
    }
    if (iVar2 == 0) {
      iVar2 = 1;
    }
    iVar1 = MulDiv(param_5 - iVar1,iVar2 - (int)*(float *)((int)this + 0xbc),
                   *(int *)((int)this + 0xa8) - iVar1);
    param_2 = iVar1 + (int)*(float *)((int)this + 0xc0) + param_2;
  }
  return param_2;
}



/* Function: FUN_0041d7b7 */

undefined4 __thiscall
FUN_0041d7b7(void *this,undefined4 param_1,undefined4 param_2,int param_3,undefined4 *param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar1 = *(int *)((int)this + 0x60) - *(int *)((int)this + 0x58);
  iVar2 = *(int *)((int)this + 100) - *(int *)((int)this + 0x5c);
  *(int *)((int)this + 0x90) = param_3;
  *(undefined4 *)((int)this + 0x8c) = 1;
  if (*(int *)((int)this + 0x7c) == 0) {
    iVar4 = FUN_0041d74a(this,*(int *)((int)this + 0x48),*(int *)((int)this + 0x4c),
                         *(int *)((int)this + 0x50),*(int *)((int)this + 0x54),param_3);
    iVar4 = iVar4 - iVar1 / 2;
    *(int *)((int)this + 0xa0) = *(int *)((int)this + 0xa0) + iVar2;
    iVar3 = *(int *)((int)this + 0x5c);
  }
  else {
    iVar3 = FUN_0041d74a(this,*(int *)((int)this + 0x48),*(int *)((int)this + 0x4c),
                         *(int *)((int)this + 0x50),*(int *)((int)this + 0x54),param_3);
    iVar4 = *(int *)((int)this + 0x58);
    iVar3 = iVar3 - iVar2 / 2;
    *(int *)((int)this + 0xa0) = iVar3 + iVar2;
  }
  ((RECT *)((int)this + 0x94))->left = iVar4;
  *(int *)((int)this + 0x9c) = iVar4 + iVar1;
  *(int *)((int)this + 0x98) = iVar3;
  InvalidateRect(*(HWND *)((int)this + 4),(RECT *)((int)this + 0x94),0);
  *param_4 = 1;
  return 0;
}



/* Function: FUN_0041d883 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_0041d883(HDC param_1,RECT *param_2,HBRUSH param_3)

{
  HPAINTBUFFER hBufferedPaint;
  float in_XMM3_Da;
  BP_PAINTPARAMS local_20;
  HDC local_10;
  BLENDFUNCTION local_c [2];
  
  local_20.cbSize = 0x10;
  local_20.dwFlags = 0;
  local_20.prcExclude = (RECT *)0x0;
  local_c[0] = (BLENDFUNCTION)(((int)(in_XMM3_Da * _DAT_0040367c) & 0xffU) << 0x10);
  local_20.pBlendFunction = local_c;
  hBufferedPaint = BeginBufferedPaint(param_1,param_2,BPBF_TOPDOWNDIB,&local_20,&local_10);
  if (hBufferedPaint != (HPAINTBUFFER)0x0) {
    FillRect(local_10,param_2,param_3);
    BufferedPaintSetAlpha(hBufferedPaint,(RECT *)0x0,0xff);
    EndBufferedPaint(hBufferedPaint,1);
  }
  return;
}



/* Function: FUN_0041d901 */

void __thiscall FUN_0041d901(void *this,HDC param_1)

{
  HWND pHVar1;
  LRESULT LVar2;
  uint uVar3;
  HBRUSH hbr;
  HWND hWnd;
  RECT *lprc;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar4;
  HWND local_48;
  WPARAM local_44;
  undefined4 local_40;
  undefined4 local_3c;
  HDC local_38;
  tagRECT local_34;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  tagRECT local_18;
  uint local_8;
  
  local_8 = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  local_48 = *(HWND *)((int)this + 4);
  local_44 = GetWindowLongW(local_48,-0xc);
  local_40 = 0xfffffff4;
  local_3c = 4;
  local_38 = param_1;
  CopyRect(&local_34,(RECT *)((int)this + 0x38));
  local_24 = 0;
  local_1c = 0;
  local_20 = 0x20;
  pHVar1 = GetParent(*(HWND *)((int)this + 4));
  LVar2 = SendMessageW(pHVar1,0x4e,local_44,(LPARAM)&local_48);
  uVar4 = extraout_EDX;
  if (LVar2 != 4) {
    uVar3 = GetWindowLongW(*(HWND *)((int)this + 4),-0x14);
    if ((uVar3 & 0x20) == 0) {
      pHVar1 = *(HWND *)((int)this + 4);
      hWnd = GetParent(pHVar1);
      hbr = (HBRUSH)SendMessageW(hWnd,0x138,(WPARAM)param_1,(LPARAM)pHVar1);
      lprc = (RECT *)((int)this + 0x38);
    }
    else {
      if ((((undefined **)PTR_LOOP_004252dc != &PTR_LOOP_004252dc) &&
          ((*(uint *)(PTR_LOOP_004252dc + 0x1c) & 0x20000000) != 0)) &&
         (3 < (byte)PTR_LOOP_004252dc[0x19])) {
        FUN_0040a58d(10,&DAT_004033e8,*(undefined4 *)(PTR_LOOP_004252dc + 0x10),
                     *(undefined4 *)(PTR_LOOP_004252dc + 0x14));
      }
      hbr = GetSysColorBrush(5);
      GetClientRect(*(HWND *)((int)this + 4),&local_18);
      lprc = &local_18;
    }
    FillRect(param_1,lprc,hbr);
    uVar4 = extraout_EDX_00;
  }
  FUN_00420010(local_8 ^ (uint)&stack0xfffffffc,uVar4);
  return;
}



/* Function: FUN_0041da0a */

void __fastcall FUN_0041da0a(int param_1,undefined4 param_2,HDC param_3)

{
  HWND hWnd;
  int iVar1;
  HWND hWnd_00;
  HBRUSH pHVar2;
  undefined4 extraout_EDX;
  tagRECT local_1c;
  uint local_c;
  
  local_c = DAT_004254c0 ^ (uint)&stack0xfffffffc;
  if (*(float *)(param_1 + 0xac) <= DAT_00403644 && DAT_00403644 != *(float *)(param_1 + 0xac)) {
    hWnd = *(HWND *)(param_1 + 4);
    hWnd_00 = GetParent(hWnd);
    pHVar2 = (HBRUSH)SendMessageW(hWnd_00,0x138,(WPARAM)param_3,(LPARAM)hWnd);
    CopyRect(&local_1c,(RECT *)(param_1 + 0x38));
    iVar1 = *(int *)(param_1 + 0x54);
    if (*(int *)(param_1 + 0x7c) == 0) {
      local_1c.left =
           *(int *)(param_1 + 0x48) + 1 +
           (int)((float)((iVar1 - *(int *)(param_1 + 0x4c)) + -2) * *(float *)(param_1 + 0xac) +
                DAT_0040363c);
    }
    else {
      local_1c.bottom =
           (iVar1 - (int)((float)((iVar1 - *(int *)(param_1 + 0x4c)) + -2) *
                          *(float *)(param_1 + 0xac) + DAT_0040363c)) + -1;
    }
    FUN_0041d883(param_3,&local_1c,pHVar2);
    param_2 = extraout_EDX;
  }
  FUN_00420010(local_c ^ (uint)&stack0xfffffffc,param_2);
  return;
}



/* Function: FUN_0041daea */

undefined4 __thiscall FUN_0041daea(void *this,undefined4 param_1)

{
  undefined4 uVar1;
  float in_XMM2_Da;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  undefined4 local_24;
  undefined4 local_20;
  float local_1c;
  float local_18;
  float local_14;
  float local_10;
  undefined4 local_c [2];
  
  local_c[0] = 0;
  local_18 = in_XMM2_Da;
  GdipCreateFromHDC(param_1,local_c);
  uVar1 = local_c[0];
  local_24 = 0;
  local_20 = GdipCreatePen1(0x80a0a0a0,0x3f800000,0,&local_24);
  GdipSetSmoothingMode(uVar1,4);
  if (*(int *)((int)this + 0x7c) == 0) {
    fVar2 = *(float *)((int)this + 0xc0);
    fVar3 = (float)*(int *)((int)this + 0x48) + fVar2;
    local_14 = (float)*(int *)((int)this + 0x4c);
    local_10 = (float)*(int *)((int)this + 0x3c);
    local_18 = (((float)(*(int *)((int)this + 0x50) - *(int *)((int)this + 0x48)) - fVar2) *
                local_18 + DAT_0040363c + (float)*(int *)((int)this + 0x48)) - fVar2;
    local_1c = (local_18 + fVar3) * DAT_0040363c;
    GdipDrawLine(uVar1,local_24,fVar3,local_10,fVar3,local_14);
    GdipDrawLine(uVar1,local_24,local_1c,local_10,local_1c,local_14);
    fVar2 = local_18;
    fVar3 = local_10;
    fVar4 = local_18;
    fVar5 = local_14;
  }
  else {
    fVar3 = (float)*(int *)((int)this + 0x54);
    fVar2 = fVar3 - *(float *)((int)this + 0xb8);
    local_10 = (float)*(int *)((int)this + 0x40) - *(float *)((int)this + 0xb4);
    local_14 = (float)*(int *)((int)this + 0x50);
    local_1c = (fVar3 - (((float)(*(int *)((int)this + 0x54) - *(int *)((int)this + 0x4c)) -
                         *(float *)((int)this + 0xc0)) * local_18 + DAT_0040363c)) +
               *(float *)((int)this + 0xc0);
    local_18 = (local_1c + fVar2) * DAT_0040363c;
    GdipDrawLine(uVar1,local_24,local_14,fVar2,local_10,fVar2);
    GdipDrawLine(uVar1,local_24,local_14,local_18,local_10,local_18);
    fVar2 = local_14;
    fVar3 = local_1c;
    fVar4 = local_10;
    fVar5 = local_1c;
  }
  GdipDrawLine(uVar1,local_24,fVar2,fVar3,fVar4,fVar5);
  GdipDeletePen(local_24);
  GdipDeleteGraphics(uVar1);
  return 1;
}



/* Function: FUN_0041dd56 */

undefined4 __thiscall FUN_0041dd56(void *this,undefined4 param_1,undefined4 *param_2)

{
  undefined4 uVar1;
  int iVar2;
  float in_XMM3_Da;
  undefined4 local_34;
  int local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  undefined4 local_1c;
  undefined4 local_18;
  float local_14;
  float local_10;
  float local_c;
  float local_8;
  
  local_1c = 0;
  local_14 = in_XMM3_Da;
  GdipCreateFromHDC(param_1,&local_1c);
  uVar1 = local_1c;
  local_18 = 0;
  GdipCreateSolidFill(*param_2,&local_18);
  local_34 = 0;
  local_30 = GdipCreatePath(0,&local_34);
  if (*(int *)((int)this + 0x7c) == 0) {
    local_2c = (float)*(int *)((int)this + 0x48);
    local_20 = (float)*(int *)((int)this + 0x4c) - DAT_00403644;
    local_24 = ((float)(*(int *)((int)this + 0x50) - *(int *)((int)this + 0x48)) -
               *(float *)((int)this + 0xb8)) * local_14 + local_2c;
    local_8 = local_20 -
              ((*(float *)((int)this + 0xc4) + *(float *)((int)this + 0xb0)) * local_14 +
              DAT_00403644);
    local_10 = local_20 - DAT_00403644;
    local_28 = local_20;
    local_14 = local_2c;
    local_c = local_24;
  }
  else {
    local_24 = (float)*(int *)((int)this + 0x50);
    local_10 = (float)*(int *)((int)this + 0x54) - DAT_00403644;
    local_20 = local_10 -
               ((float)(*(int *)((int)this + 0x54) - *(int *)((int)this + 0x4c)) -
               *(float *)((int)this + 0xb8)) * local_14;
    local_c = (*(float *)((int)this + 0xc4) + *(float *)((int)this + 0xb0)) * local_14 +
              DAT_00403644 + local_24;
    local_14 = local_24 + DAT_00403644;
    local_28 = local_10;
    local_2c = local_24;
    local_8 = local_20;
  }
  iVar2 = GdipAddPathLine(local_34,local_2c,local_28,local_24,local_20);
  if (iVar2 != 0) {
    local_30 = iVar2;
  }
  iVar2 = GdipAddPathLine(local_34,local_24,local_20,local_c,local_8);
  if (iVar2 != 0) {
    local_30 = iVar2;
  }
  iVar2 = GdipAddPathLine(local_34,local_c,local_8,local_14,local_10);
  if (iVar2 != 0) {
    local_30 = iVar2;
  }
  iVar2 = GdipAddPathLine(local_34,local_14,local_10,local_2c,local_28);
  if (iVar2 != 0) {
    local_30 = iVar2;
  }
  GdipSetSmoothingMode(uVar1,4);
  GdipFillPath(uVar1,local_18,local_34);
  GdipDeletePath(local_34);
  GdipDeleteBrush(local_18);
  GdipDeleteGraphics(uVar1);
  return 1;
}



/* Function: FUN_0041dfe2 */

void __thiscall FUN_0041dfe2(void *this,undefined4 param_1,int param_2,float param_3,float param_4)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  undefined1 local_3c [4];
  undefined4 local_38;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  float local_10;
  float local_c;
  undefined4 local_8;
  
  local_8 = 0;
  local_c = (float)param_2 / DAT_00403674;
  GdipCreateFromHDC(param_1,&local_8);
  uVar3 = local_8;
  GdipSetSmoothingMode(local_8,4);
  iVar1 = *(int *)((int)this + 0x48);
  iVar4 = *(int *)((int)this + 0x50) - iVar1;
  fVar5 = *(float *)((int)this + 0xb8);
  iVar2 = *(int *)((int)this + 0x54);
  if (*(int *)((int)this + 0x7c) == 0) {
    local_20 = param_4;
    local_1c = param_3;
    local_18 = (float)(iVar2 - *(int *)((int)this + 0x4c)) - fVar5;
    local_28 = (float)iVar1 + DAT_00403644;
    local_14 = ((float)iVar4 - fVar5) * local_c;
    local_2c = (float)*(int *)((int)this + 0x4c) + DAT_00403644;
    local_30 = local_28 + local_14;
    local_24 = local_2c;
    local_10 = local_2c;
    local_c = local_28;
    FUN_0041e9f1(local_3c,&local_28,&local_30,&local_1c,&local_20);
    fVar5 = local_c;
    fVar6 = local_10;
    fVar7 = local_14;
    fVar8 = local_18;
  }
  else {
    local_18 = (float)iVar4 - fVar5;
    local_14 = ((float)(iVar2 - *(int *)((int)this + 0x4c)) - fVar5) * local_c;
    local_c = param_4;
    local_10 = param_3;
    local_24 = ((float)iVar2 - local_14) - DAT_00403644;
    local_30 = (float)iVar1 + DAT_00403644;
    local_2c = local_24 + local_14;
    local_28 = local_30;
    local_20 = local_30;
    local_1c = local_24;
    FUN_0041e9f1(local_3c,&local_30,&local_28,&local_10,&local_c);
    fVar5 = local_20;
    fVar6 = local_1c;
    fVar7 = local_18;
    fVar8 = local_14;
  }
  GdipFillRectangle(uVar3,local_38,fVar5,fVar6,fVar7,fVar8);
  GdipDeleteBrush(local_38);
  GdipDeleteGraphics(uVar3);
  return;
}



/* Function: FUN_0041e1e4 */

void __thiscall FUN_0041e1e4(void *this,undefined4 param_1)

{
  DWORD DVar1;
  
  if (0 < *(int *)((int)this + 0x34)) {
    DVar1 = GetSysColor(0x10);
    FUN_0041dfe2(this,param_1,*(int *)((int)this + 0x34),(float)(DVar1 | 0x80000000),
                 (float)(DVar1 | 0x80000000));
  }
  if ((*(int *)((int)this + 0x68) == 0) && (0 < *(int *)((int)this + 0x30))) {
    FUN_0041dfe2(this,param_1,*(int *)((int)this + 0x30),-2.3872727e+38,-2.3899207e+38);
  }
  return;
}



/* FAILED to decompile function: FUN_0041e23c */

